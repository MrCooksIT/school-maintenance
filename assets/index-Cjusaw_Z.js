function rT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function V_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y_={exports:{}},iu={},G_={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),iT=Symbol.for("react.portal"),sT=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),aT=Symbol.for("react.profiler"),lT=Symbol.for("react.provider"),cT=Symbol.for("react.context"),uT=Symbol.for("react.forward_ref"),dT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),hT=Symbol.for("react.lazy"),Rg=Symbol.iterator;function pT(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,Q_={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||K_}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X_(){}X_.prototype=Hs.prototype;function Gh(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||K_}var Kh=Gh.prototype=new X_;Kh.constructor=Gh;q_(Kh,Hs.prototype);Kh.isPureReactComponent=!0;var Pg=Array.isArray,J_=Object.prototype.hasOwnProperty,qh={current:null},Z_={key:!0,ref:!0,__self:!0,__source:!0};function ew(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)J_.call(e,r)&&!Z_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ma,type:t,key:s,ref:o,props:i,_owner:qh.current}}function mT(t,e){return{$$typeof:Ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ma}function gT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Og=/\/+/g;function ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gT(""+t.key):e.toString(36)}function Al(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ma:case iT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ad(o,0):r,Pg(i)?(n="",t!=null&&(n=t.replace(Og,"$&/")+"/"),Al(i,e,n,"",function(c){return c})):i!=null&&(Qh(i)&&(i=mT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Pg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ad(s,a);o+=Al(s,e,n,l,i)}else if(l=pT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ad(s,a++),o+=Al(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return Al(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},Dl={transition:null},yT={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:qh};function tw(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!Qh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Hs;J.Fragment=sT;J.Profiler=aT;J.PureComponent=Gh;J.StrictMode=oT;J.Suspense=dT;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;J.act=tw;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)J_.call(e,l)&&!Z_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ma,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:cT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lT,_context:t},t.Consumer=t};J.createElement=ew;J.createFactory=function(t){var e=ew.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:uT,render:t}};J.isValidElement=Qh;J.lazy=function(t){return{$$typeof:hT,_payload:{_status:-1,_result:t},_init:vT}};J.memo=function(t,e){return{$$typeof:fT,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Dl.transition;Dl.transition={};try{t()}finally{Dl.transition=e}};J.unstable_act=tw;J.useCallback=function(t,e){return gt.current.useCallback(t,e)};J.useContext=function(t){return gt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};J.useEffect=function(t,e){return gt.current.useEffect(t,e)};J.useId=function(){return gt.current.useId()};J.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return gt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};J.useRef=function(t){return gt.current.useRef(t)};J.useState=function(t){return gt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return gt.current.useTransition()};J.version="18.3.1";G_.exports=J;var p=G_.exports;const D=V_(p),_T=rT({__proto__:null,default:D},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=p,xT=Symbol.for("react.element"),CT=Symbol.for("react.fragment"),ET=Object.prototype.hasOwnProperty,ST=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bT={key:!0,ref:!0,__self:!0,__source:!0};function nw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ET.call(e,r)&&!bT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xT,type:t,key:s,ref:o,props:i,_owner:ST.current}}iu.Fragment=CT;iu.jsx=nw;iu.jsxs=nw;Y_.exports=iu;var v=Y_.exports,rw={exports:{}},Dt={},iw={exports:{}},sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var L=T.length;T.push(O);e:for(;0<L;){var H=L-1>>>1,pe=T[H];if(0<i(pe,O))T[H]=O,T[L]=pe,L=H;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var O=T[0],L=T.pop();if(L!==O){T[0]=L;e:for(var H=0,pe=T.length,yt=pe>>>1;H<yt;){var He=2*(H+1)-1,kt=T[He],Fe=He+1,U=T[Fe];if(0>i(kt,L))Fe<pe&&0>i(U,kt)?(T[H]=U,T[Fe]=L,H=Fe):(T[H]=kt,T[He]=L,H=He);else if(Fe<pe&&0>i(U,L))T[H]=U,T[Fe]=L,H=Fe;else break e}}return O}function i(T,O){var L=T.sortIndex-O.sortIndex;return L!==0?L:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,m=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(T){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=T)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function C(T){if(y=!1,_(T),!w)if(n(l)!==null)w=!0,j(E);else{var O=n(c);O!==null&&z(C,O.startTime-T)}}function E(T,O){w=!1,y&&(y=!1,g(k),k=-1),m=!0;var L=f;try{for(_(O),u=n(l);u!==null&&(!(u.expirationTime>O)||T&&!F());){var H=u.callback;if(typeof H=="function"){u.callback=null,f=u.priorityLevel;var pe=H(u.expirationTime<=O);O=t.unstable_now(),typeof pe=="function"?u.callback=pe:u===n(l)&&r(l),_(O)}else r(l);u=n(l)}if(u!==null)var yt=!0;else{var He=n(c);He!==null&&z(C,He.startTime-O),yt=!1}return yt}finally{u=null,f=L,m=!1}}var b=!1,S=null,k=-1,P=5,N=-1;function F(){return!(t.unstable_now()-N<P)}function A(){if(S!==null){var T=t.unstable_now();N=T;var O=!0;try{O=S(!0,T)}finally{O?$():(b=!1,S=null)}}else b=!1}var $;if(typeof h=="function")$=function(){h(A)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=A,$=function(){Z.postMessage(null)}}else $=function(){x(A,0)};function j(T){S=T,b||(b=!0,$())}function z(T,O){k=x(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,j(E))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var L=f;f=O;try{return T()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return O()}finally{f=L}},t.unstable_scheduleCallback=function(T,O,L){var H=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,T){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=L+pe,T={id:d++,callback:O,priorityLevel:T,startTime:L,expirationTime:pe,sortIndex:-1},L>H?(T.sortIndex=L,e(c,T),n(l)===null&&T===n(c)&&(y?(g(k),k=-1):y=!0,z(C,L-H))):(T.sortIndex=pe,e(l,T),w||m||(w=!0,j(E))),T},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(T){var O=f;return function(){var L=f;f=O;try{return T.apply(this,arguments)}finally{f=L}}}})(sw);iw.exports=sw;var kT=iw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=p,At=kT;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ow=new Set,na={};function Di(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(na[t]=e,t=0;t<e.length;t++)ow.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=Object.prototype.hasOwnProperty,IT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ag={},Dg={};function NT(t){return hf.call(Dg,t)?!0:hf.call(Ag,t)?!1:IT.test(t)?Dg[t]=!0:(Ag[t]=!0,!1)}function RT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PT(t,e,n,r){if(e===null||typeof e>"u"||RT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xh=/[\-:]([a-z])/g;function Jh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xh,Jh);nt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xh,Jh);nt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xh,Jh);nt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zh(t,e,n,r){var i=nt.hasOwnProperty(e)?nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PT(e,n,i,r)&&(n=null),r||i===null?NT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ir=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),ep=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),aw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),np=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),cw=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=Mg&&t[Mg]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,ld;function To(t){if(ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ld=e&&e[1]||""}return`
`+ld+t}var cd=!1;function ud(t,e){if(!t||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?To(t):""}function OT(t){switch(t.tag){case 5:return To(t.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return t=ud(t.type,!1),t;case 11:return t=ud(t.type.render,!1),t;case 1:return t=ud(t.type,!0),t;default:return""}}function vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case Ki:return"Portal";case pf:return"Profiler";case ep:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lw:return(t.displayName||"Context")+".Consumer";case aw:return(t._context.displayName||"Context")+".Provider";case tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case np:return e=t.displayName||null,e!==null?e:vf(t.type)||"Memo";case vr:e=t._payload,t=t._init;try{return vf(t(e))}catch{}}return null}function AT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vf(e);case 8:return e===ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DT(t){var e=uw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=DT(t))}function dw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yf(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fw(t,e){e=e.checked,e!=null&&Zh(t,"checked",e,!1)}function _f(t,e){fw(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Io=Array.isArray;function ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Io(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function hw(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MT=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(t){MT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uo[e]=Uo[t]})});function gw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uo.hasOwnProperty(t)&&Uo[t]?(""+e).trim():e+"px"}function vw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var LT=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(t,e){if(e){if(LT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=null;function rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kf=null,cs=null,us=null;function Wg(t){if(t=ja(t)){if(typeof kf!="function")throw Error(I(280));var e=t.stateNode;e&&(e=cu(e),kf(t.stateNode,t.type,e))}}function yw(t){cs?us?us.push(t):us=[t]:cs=t}function _w(){if(cs){var t=cs,e=us;if(us=cs=null,Wg(t),e)for(t=0;t<e.length;t++)Wg(e[t])}}function ww(t,e){return t(e)}function xw(){}var dd=!1;function Cw(t,e,n){if(dd)return t(e,n);dd=!0;try{return ww(t,e,n)}finally{dd=!1,(cs!==null||us!==null)&&(xw(),_w())}}function ia(t,e){var n=t.stateNode;if(n===null)return null;var r=cu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Tf=!1;if(qn)try{var co={};Object.defineProperty(co,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{Tf=!1}function FT(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Wo=!1,sc=null,oc=!1,If=null,jT={onError:function(t){Wo=!0,sc=t}};function UT(t,e,n,r,i,s,o,a,l){Wo=!1,sc=null,FT.apply(jT,arguments)}function WT(t,e,n,r,i,s,o,a,l){if(UT.apply(this,arguments),Wo){if(Wo){var c=sc;Wo=!1,sc=null}else throw Error(I(198));oc||(oc=!0,If=c)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bg(t){if(Mi(t)!==t)throw Error(I(188))}function BT(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Bg(i),t;if(s===r)return Bg(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Sw(t){return t=BT(t),t!==null?bw(t):null}function bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bw(t);if(e!==null)return e;t=t.sibling}return null}var kw=At.unstable_scheduleCallback,$g=At.unstable_cancelCallback,$T=At.unstable_shouldYield,zT=At.unstable_requestPaint,Le=At.unstable_now,HT=At.unstable_getCurrentPriorityLevel,ip=At.unstable_ImmediatePriority,Tw=At.unstable_UserBlockingPriority,ac=At.unstable_NormalPriority,VT=At.unstable_LowPriority,Iw=At.unstable_IdlePriority,su=null,_n=null;function YT(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(su,t,void 0,(t.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:qT,GT=Math.log,KT=Math.LN2;function qT(t){return t>>>=0,t===0?32:31-(GT(t)/KT|0)|0}var ll=64,cl=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=No(a):(s&=o,s!==0&&(r=No(s)))}else o=n&~i,o!==0?r=No(o):s!==0&&(r=No(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-en(e),i=1<<n,r|=t[n],e&=~i;return r}function QT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-en(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=QT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nw(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function La(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-en(e),t[e]=n}function JT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-en(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-en(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function Rw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pw,op,Ow,Aw,Dw,Rf=!1,ul=[],Ir=null,Nr=null,Rr=null,sa=new Map,oa=new Map,_r=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function uo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ja(e),e!==null&&op(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eI(t,e,n,r,i){switch(e){case"focusin":return Ir=uo(Ir,t,e,n,r,i),!0;case"dragenter":return Nr=uo(Nr,t,e,n,r,i),!0;case"mouseover":return Rr=uo(Rr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sa.set(s,uo(sa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oa.set(s,uo(oa.get(s)||null,t,e,n,r,i)),!0}return!1}function Mw(t){var e=ci(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ew(n),e!==null){t.blockedOn=e,Dw(t.priority,function(){Ow(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bf=r,n.target.dispatchEvent(r),bf=null}else return e=ja(n),e!==null&&op(e),t.blockedOn=n,!1;e.shift()}return!0}function Hg(t,e,n){Ml(t)&&n.delete(e)}function tI(){Rf=!1,Ir!==null&&Ml(Ir)&&(Ir=null),Nr!==null&&Ml(Nr)&&(Nr=null),Rr!==null&&Ml(Rr)&&(Rr=null),sa.forEach(Hg),oa.forEach(Hg)}function fo(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,tI)))}function aa(t){function e(i){return fo(i,t)}if(0<ul.length){fo(ul[0],t);for(var n=1;n<ul.length;n++){var r=ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ir!==null&&fo(Ir,t),Nr!==null&&fo(Nr,t),Rr!==null&&fo(Rr,t),sa.forEach(e),oa.forEach(e),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Mw(n),n.blockedOn===null&&_r.shift()}var ds=ir.ReactCurrentBatchConfig,cc=!0;function nI(t,e,n,r){var i=ce,s=ds.transition;ds.transition=null;try{ce=1,ap(t,e,n,r)}finally{ce=i,ds.transition=s}}function rI(t,e,n,r){var i=ce,s=ds.transition;ds.transition=null;try{ce=4,ap(t,e,n,r)}finally{ce=i,ds.transition=s}}function ap(t,e,n,r){if(cc){var i=Pf(t,e,n,r);if(i===null)Cd(t,e,r,uc,n),zg(t,r);else if(eI(i,t,e,n,r))r.stopPropagation();else if(zg(t,r),e&4&&-1<ZT.indexOf(t)){for(;i!==null;){var s=ja(i);if(s!==null&&Pw(s),s=Pf(t,e,n,r),s===null&&Cd(t,e,r,uc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cd(t,e,r,null,n)}}var uc=null;function Pf(t,e,n,r){if(uc=null,t=rp(r),t=ci(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ew(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uc=t,null}function Lw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HT()){case ip:return 1;case Tw:return 4;case ac:case VT:return 16;case Iw:return 536870912;default:return 16}default:return 16}}var br=null,lp=null,Ll=null;function Fw(){if(Ll)return Ll;var t,e=lp,n=e.length,r,i="value"in br?br.value:br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ll=i.slice(t,1<r?1-r:void 0)}function Fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function Vg(){return!1}function Mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dl:Vg,this.isPropagationStopped=Vg,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Mt(Vs),Fa=Ne({},Vs,{view:0,detail:0}),iI=Mt(Fa),hd,pd,ho,ou=Ne({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ho&&(ho&&t.type==="mousemove"?(hd=t.screenX-ho.screenX,pd=t.screenY-ho.screenY):pd=hd=0,ho=t),hd)},movementY:function(t){return"movementY"in t?t.movementY:pd}}),Yg=Mt(ou),sI=Ne({},ou,{dataTransfer:0}),oI=Mt(sI),aI=Ne({},Fa,{relatedTarget:0}),md=Mt(aI),lI=Ne({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),cI=Mt(lI),uI=Ne({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dI=Mt(uI),fI=Ne({},Vs,{data:0}),Gg=Mt(fI),hI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mI[t])?!!e[t]:!1}function up(){return gI}var vI=Ne({},Fa,{key:function(t){if(t.key){var e=hI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yI=Mt(vI),_I=Ne({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Mt(_I),wI=Ne({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),xI=Mt(wI),CI=Ne({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),EI=Mt(CI),SI=Ne({},ou,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bI=Mt(SI),kI=[9,13,27,32],dp=qn&&"CompositionEvent"in window,Bo=null;qn&&"documentMode"in document&&(Bo=document.documentMode);var TI=qn&&"TextEvent"in window&&!Bo,jw=qn&&(!dp||Bo&&8<Bo&&11>=Bo),qg=" ",Qg=!1;function Uw(t,e){switch(t){case"keyup":return kI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ww(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function II(t,e){switch(t){case"compositionend":return Ww(e);case"keypress":return e.which!==32?null:(Qg=!0,qg);case"textInput":return t=e.data,t===qg&&Qg?null:t;default:return null}}function NI(t,e){if(Qi)return t==="compositionend"||!dp&&Uw(t,e)?(t=Fw(),Ll=lp=br=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jw&&e.locale!=="ko"?null:e.data;default:return null}}var RI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RI[t.type]:e==="textarea"}function Bw(t,e,n,r){yw(r),e=dc(e,"onChange"),0<e.length&&(n=new cp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $o=null,la=null;function PI(t){Jw(t,0)}function au(t){var e=Zi(t);if(dw(e))return t}function OI(t,e){if(t==="change")return e}var $w=!1;if(qn){var gd;if(qn){var vd="oninput"in document;if(!vd){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),vd=typeof Jg.oninput=="function"}gd=vd}else gd=!1;$w=gd&&(!document.documentMode||9<document.documentMode)}function Zg(){$o&&($o.detachEvent("onpropertychange",zw),la=$o=null)}function zw(t){if(t.propertyName==="value"&&au(la)){var e=[];Bw(e,la,t,rp(t)),Cw(PI,e)}}function AI(t,e,n){t==="focusin"?(Zg(),$o=e,la=n,$o.attachEvent("onpropertychange",zw)):t==="focusout"&&Zg()}function DI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(la)}function MI(t,e){if(t==="click")return au(e)}function LI(t,e){if(t==="input"||t==="change")return au(e)}function FI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:FI;function ca(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hf.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var n=ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function Hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vw(){for(var t=window,e=ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jI(t){var e=Vw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hw(n.ownerDocument.documentElement,n)){if(r!==null&&fp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tv(n,s);var o=tv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UI=qn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Of=null,zo=null,Af=!1;function nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Af||Xi==null||Xi!==ic(r)||(r=Xi,"selectionStart"in r&&fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&ca(zo,r)||(zo=r,r=dc(Of,"onSelect"),0<r.length&&(e=new cp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},yd={},Yw={};qn&&(Yw=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function lu(t){if(yd[t])return yd[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yw)return yd[t]=e[n];return t}var Gw=lu("animationend"),Kw=lu("animationiteration"),qw=lu("animationstart"),Qw=lu("transitionend"),Xw=new Map,rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(t,e){Xw.set(t,e),Di(e,[t])}for(var _d=0;_d<rv.length;_d++){var wd=rv[_d],WI=wd.toLowerCase(),BI=wd[0].toUpperCase()+wd.slice(1);qr(WI,"on"+BI)}qr(Gw,"onAnimationEnd");qr(Kw,"onAnimationIteration");qr(qw,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(Qw,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WT(r,e,void 0,t),t.currentTarget=null}function Jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;iv(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;iv(i,a,c),s=l}}}if(oc)throw t=If,oc=!1,If=null,t}function Ce(t,e){var n=e[jf];n===void 0&&(n=e[jf]=new Set);var r=t+"__bubble";n.has(r)||(Zw(e,t,2,!1),n.add(r))}function xd(t,e,n){var r=0;e&&(r|=4),Zw(n,t,r,e)}var hl="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[hl]){t[hl]=!0,ow.forEach(function(n){n!=="selectionchange"&&($I.has(n)||xd(n,!1,t),xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hl]||(e[hl]=!0,xd("selectionchange",!1,e))}}function Zw(t,e,n,r){switch(Lw(e)){case 1:var i=nI;break;case 4:i=rI;break;default:i=ap}n=i.bind(null,e,n,t),i=void 0,!Tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cw(function(){var c=s,d=rp(n),u=[];e:{var f=Xw.get(t);if(f!==void 0){var m=cp,w=t;switch(t){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":m=yI;break;case"focusin":w="focus",m=md;break;case"focusout":w="blur",m=md;break;case"beforeblur":case"afterblur":m=md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xI;break;case Gw:case Kw:case qw:m=cI;break;case Qw:m=EI;break;case"scroll":m=iI;break;case"wheel":m=bI;break;case"copy":case"cut":case"paste":m=dI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Kg}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var h=c,_;h!==null;){_=h;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,g!==null&&(C=ia(h,g),C!=null&&y.push(da(h,C,_)))),x)break;h=h.return}0<y.length&&(f=new m(f,w,null,n,d),u.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==bf&&(w=n.relatedTarget||n.fromElement)&&(ci(w)||w[Qn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?ci(w):null,w!==null&&(x=Mi(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(y=Yg,C="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=Kg,C="onPointerLeave",g="onPointerEnter",h="pointer"),x=m==null?f:Zi(m),_=w==null?f:Zi(w),f=new y(C,h+"leave",m,n,d),f.target=x,f.relatedTarget=_,C=null,ci(d)===c&&(y=new y(g,h+"enter",w,n,d),y.target=_,y.relatedTarget=x,C=y),x=C,m&&w)t:{for(y=m,g=w,h=0,_=y;_;_=$i(_))h++;for(_=0,C=g;C;C=$i(C))_++;for(;0<h-_;)y=$i(y),h--;for(;0<_-h;)g=$i(g),_--;for(;h--;){if(y===g||g!==null&&y===g.alternate)break t;y=$i(y),g=$i(g)}y=null}else y=null;m!==null&&sv(u,f,m,y,!1),w!==null&&x!==null&&sv(u,x,w,y,!0)}}e:{if(f=c?Zi(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=OI;else if(Xg(f))if($w)E=LI;else{E=DI;var b=AI}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=MI);if(E&&(E=E(t,c))){Bw(u,E,n,d);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&wf(f,"number",f.value)}switch(b=c?Zi(c):window,t){case"focusin":(Xg(b)||b.contentEditable==="true")&&(Xi=b,Of=c,zo=null);break;case"focusout":zo=Of=Xi=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,nv(u,n,d);break;case"selectionchange":if(UI)break;case"keydown":case"keyup":nv(u,n,d)}var S;if(dp)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qi?Uw(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(jw&&n.locale!=="ko"&&(Qi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qi&&(S=Fw()):(br=d,lp="value"in br?br.value:br.textContent,Qi=!0)),b=dc(c,k),0<b.length&&(k=new Gg(k,t,null,n,d),u.push({event:k,listeners:b}),S?k.data=S:(S=Ww(n),S!==null&&(k.data=S)))),(S=TI?II(t,n):NI(t,n))&&(c=dc(c,"onBeforeInput"),0<c.length&&(d=new Gg("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=S))}Jw(u,e)})}function da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ia(t,n),s!=null&&r.unshift(da(t,s,i)),s=ia(t,e),s!=null&&r.push(da(t,s,i))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ia(n,s),l!=null&&o.unshift(da(n,l,a))):i||(l=ia(n,s),l!=null&&o.push(da(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zI=/\r\n?/g,HI=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(zI,`
`).replace(HI,"")}function pl(t,e,n){if(e=ov(e),ov(t)!==e&&n)throw Error(I(425))}function fc(){}var Df=null,Mf=null;function Lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,YI=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(GI)}:Ff;function GI(t){setTimeout(function(){throw t})}function Ed(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);aa(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ys,fa="__reactProps$"+Ys,Qn="__reactContainer$"+Ys,jf="__reactEvents$"+Ys,KI="__reactListeners$"+Ys,qI="__reactHandles$"+Ys;function ci(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lv(t);t!==null;){if(n=t[mn])return n;t=lv(t)}return e}t=n,n=t.parentNode}return null}function ja(t){return t=t[mn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function cu(t){return t[fa]||null}var Uf=[],es=-1;function Qr(t){return{current:t}}function Ee(t){0>es||(t.current=Uf[es],Uf[es]=null,es--)}function we(t,e){es++,Uf[es]=t.current,t.current=e}var Wr={},lt=Qr(Wr),Et=Qr(!1),_i=Wr;function Ts(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function hc(){Ee(Et),Ee(lt)}function cv(t,e,n){if(lt.current!==Wr)throw Error(I(168));we(lt,e),we(Et,n)}function e0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,AT(t)||"Unknown",i));return Ne({},n,r)}function pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,_i=lt.current,we(lt,t),we(Et,Et.current),!0}function uv(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=e0(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,Ee(Et),Ee(lt),we(lt,t)):Ee(Et),we(Et,n)}var An=null,uu=!1,Sd=!1;function t0(t){An===null?An=[t]:An.push(t)}function QI(t){uu=!0,t0(t)}function Xr(){if(!Sd&&An!==null){Sd=!0;var t=0,e=ce;try{var n=An;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,uu=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),kw(ip,Xr),i}finally{ce=e,Sd=!1}}return null}var ts=[],ns=0,mc=null,gc=0,Ft=[],jt=0,wi=null,Mn=1,Ln="";function ii(t,e){ts[ns++]=gc,ts[ns++]=mc,mc=t,gc=e}function n0(t,e,n){Ft[jt++]=Mn,Ft[jt++]=Ln,Ft[jt++]=wi,wi=t;var r=Mn;t=Ln;var i=32-en(r)-1;r&=~(1<<i),n+=1;var s=32-en(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mn=1<<32-en(e)+i|n<<i|r,Ln=s+t}else Mn=1<<s|n<<i|r,Ln=t}function hp(t){t.return!==null&&(ii(t,1),n0(t,1,0))}function pp(t){for(;t===mc;)mc=ts[--ns],ts[ns]=null,gc=ts[--ns],ts[ns]=null;for(;t===wi;)wi=Ft[--jt],Ft[jt]=null,Ln=Ft[--jt],Ft[jt]=null,Mn=Ft[--jt],Ft[jt]=null}var Pt=null,Nt=null,Se=!1,Qt=null;function r0(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,Nt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:Mn,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,Nt=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(Se){var e=Nt;if(e){var n=e;if(!dv(t,e)){if(Wf(t))throw Error(I(418));e=Pr(n.nextSibling);var r=Pt;e&&dv(t,e)?r0(r,n):(t.flags=t.flags&-4097|2,Se=!1,Pt=t)}}else{if(Wf(t))throw Error(I(418));t.flags=t.flags&-4097|2,Se=!1,Pt=t}}}function fv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function ml(t){if(t!==Pt)return!1;if(!Se)return fv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lf(t.type,t.memoizedProps)),e&&(e=Nt)){if(Wf(t))throw i0(),Error(I(418));for(;e;)r0(t,e),e=Pr(e.nextSibling)}if(fv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Pt?Pr(t.stateNode.nextSibling):null;return!0}function i0(){for(var t=Nt;t;)t=Pr(t.nextSibling)}function Is(){Nt=Pt=null,Se=!1}function mp(t){Qt===null?Qt=[t]:Qt.push(t)}var XI=ir.ReactCurrentBatchConfig;function po(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hv(t){var e=t._init;return e(t._payload)}function s0(t){function e(g,h){if(t){var _=g.deletions;_===null?(g.deletions=[h],g.flags|=16):_.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Mr(g,h),g.index=0,g.sibling=null,g}function s(g,h,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<h?(g.flags|=2,h):_):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,_,C){return h===null||h.tag!==6?(h=Pd(_,g.mode,C),h.return=g,h):(h=i(h,_),h.return=g,h)}function l(g,h,_,C){var E=_.type;return E===qi?d(g,h,_.props.children,C,_.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vr&&hv(E)===h.type)?(C=i(h,_.props),C.ref=po(g,h,_),C.return=g,C):(C=Hl(_.type,_.key,_.props,null,g.mode,C),C.ref=po(g,h,_),C.return=g,C)}function c(g,h,_,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==_.containerInfo||h.stateNode.implementation!==_.implementation?(h=Od(_,g.mode,C),h.return=g,h):(h=i(h,_.children||[]),h.return=g,h)}function d(g,h,_,C,E){return h===null||h.tag!==7?(h=gi(_,g.mode,C,E),h.return=g,h):(h=i(h,_),h.return=g,h)}function u(g,h,_){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Pd(""+h,g.mode,_),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case sl:return _=Hl(h.type,h.key,h.props,null,g.mode,_),_.ref=po(g,null,h),_.return=g,_;case Ki:return h=Od(h,g.mode,_),h.return=g,h;case vr:var C=h._init;return u(g,C(h._payload),_)}if(Io(h)||lo(h))return h=gi(h,g.mode,_,null),h.return=g,h;gl(g,h)}return null}function f(g,h,_,C){var E=h!==null?h.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(g,h,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:return _.key===E?l(g,h,_,C):null;case Ki:return _.key===E?c(g,h,_,C):null;case vr:return E=_._init,f(g,h,E(_._payload),C)}if(Io(_)||lo(_))return E!==null?null:d(g,h,_,C,null);gl(g,_)}return null}function m(g,h,_,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(_)||null,a(h,g,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case sl:return g=g.get(C.key===null?_:C.key)||null,l(h,g,C,E);case Ki:return g=g.get(C.key===null?_:C.key)||null,c(h,g,C,E);case vr:var b=C._init;return m(g,h,_,b(C._payload),E)}if(Io(C)||lo(C))return g=g.get(_)||null,d(h,g,C,E,null);gl(h,C)}return null}function w(g,h,_,C){for(var E=null,b=null,S=h,k=h=0,P=null;S!==null&&k<_.length;k++){S.index>k?(P=S,S=null):P=S.sibling;var N=f(g,S,_[k],C);if(N===null){S===null&&(S=P);break}t&&S&&N.alternate===null&&e(g,S),h=s(N,h,k),b===null?E=N:b.sibling=N,b=N,S=P}if(k===_.length)return n(g,S),Se&&ii(g,k),E;if(S===null){for(;k<_.length;k++)S=u(g,_[k],C),S!==null&&(h=s(S,h,k),b===null?E=S:b.sibling=S,b=S);return Se&&ii(g,k),E}for(S=r(g,S);k<_.length;k++)P=m(S,g,k,_[k],C),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?k:P.key),h=s(P,h,k),b===null?E=P:b.sibling=P,b=P);return t&&S.forEach(function(F){return e(g,F)}),Se&&ii(g,k),E}function y(g,h,_,C){var E=lo(_);if(typeof E!="function")throw Error(I(150));if(_=E.call(_),_==null)throw Error(I(151));for(var b=E=null,S=h,k=h=0,P=null,N=_.next();S!==null&&!N.done;k++,N=_.next()){S.index>k?(P=S,S=null):P=S.sibling;var F=f(g,S,N.value,C);if(F===null){S===null&&(S=P);break}t&&S&&F.alternate===null&&e(g,S),h=s(F,h,k),b===null?E=F:b.sibling=F,b=F,S=P}if(N.done)return n(g,S),Se&&ii(g,k),E;if(S===null){for(;!N.done;k++,N=_.next())N=u(g,N.value,C),N!==null&&(h=s(N,h,k),b===null?E=N:b.sibling=N,b=N);return Se&&ii(g,k),E}for(S=r(g,S);!N.done;k++,N=_.next())N=m(S,g,k,N.value,C),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?k:N.key),h=s(N,h,k),b===null?E=N:b.sibling=N,b=N);return t&&S.forEach(function(A){return e(g,A)}),Se&&ii(g,k),E}function x(g,h,_,C){if(typeof _=="object"&&_!==null&&_.type===qi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sl:e:{for(var E=_.key,b=h;b!==null;){if(b.key===E){if(E=_.type,E===qi){if(b.tag===7){n(g,b.sibling),h=i(b,_.props.children),h.return=g,g=h;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vr&&hv(E)===b.type){n(g,b.sibling),h=i(b,_.props),h.ref=po(g,b,_),h.return=g,g=h;break e}n(g,b);break}else e(g,b);b=b.sibling}_.type===qi?(h=gi(_.props.children,g.mode,C,_.key),h.return=g,g=h):(C=Hl(_.type,_.key,_.props,null,g.mode,C),C.ref=po(g,h,_),C.return=g,g=C)}return o(g);case Ki:e:{for(b=_.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===_.containerInfo&&h.stateNode.implementation===_.implementation){n(g,h.sibling),h=i(h,_.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=Od(_,g.mode,C),h.return=g,g=h}return o(g);case vr:return b=_._init,x(g,h,b(_._payload),C)}if(Io(_))return w(g,h,_,C);if(lo(_))return y(g,h,_,C);gl(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,_),h.return=g,g=h):(n(g,h),h=Pd(_,g.mode,C),h.return=g,g=h),o(g)):n(g,h)}return x}var Ns=s0(!0),o0=s0(!1),vc=Qr(null),yc=null,rs=null,gp=null;function vp(){gp=rs=yc=null}function yp(t){var e=vc.current;Ee(vc),t._currentValue=e}function $f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fs(t,e){yc=t,gp=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(gp!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(yc===null)throw Error(I(308));rs=t,yc.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var ui=null;function _p(t){ui===null?ui=[t]:ui.push(t)}function a0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_p(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xn(t,r)}function Xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yr=!1;function wp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xn(t,n)}return i=r.interleaved,i===null?(e.next=e,_p(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xn(t,n)}function jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sp(t,n)}}function pv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _c(t,e,n,r){var i=t.updateQueue;yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){u=w.call(m,u,f);break e}u=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,u,f):w,f==null)break e;u=Ne({},u,f);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=u):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ci|=o,t.lanes=o,t.memoizedState=u}}function mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Ua={},wn=Qr(Ua),ha=Qr(Ua),pa=Qr(Ua);function di(t){if(t===Ua)throw Error(I(174));return t}function xp(t,e){switch(we(pa,e),we(ha,t),we(wn,Ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cf(e,t)}Ee(wn),we(wn,e)}function Rs(){Ee(wn),Ee(ha),Ee(pa)}function c0(t){di(pa.current);var e=di(wn.current),n=Cf(e,t.type);e!==n&&(we(ha,t),we(wn,n))}function Cp(t){ha.current===t&&(Ee(wn),Ee(ha))}var Te=Qr(0);function wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function Ep(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var Ul=ir.ReactCurrentDispatcher,kd=ir.ReactCurrentBatchConfig,xi=0,Ie=null,Ue=null,Ge=null,xc=!1,Ho=!1,ma=0,JI=0;function st(){throw Error(I(321))}function Sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function bp(t,e,n,r,i,s){if(xi=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?nN:rN,t=n(r,i),Ho){s=0;do{if(Ho=!1,ma=0,25<=s)throw Error(I(301));s+=1,Ge=Ue=null,e.updateQueue=null,Ul.current=iN,t=n(r,i)}while(Ho)}if(Ul.current=Cc,e=Ue!==null&&Ue.next!==null,xi=0,Ge=Ue=Ie=null,xc=!1,e)throw Error(I(300));return t}function kp(){var t=ma!==0;return ma=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Ht(){if(Ue===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,Ue=t;else{if(t===null)throw Error(I(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function ga(t,e){return typeof e=="function"?e(t):e}function Td(t){var e=Ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((xi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,Ie.lanes|=d,Ci|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,sn(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ie.lanes|=s,Ci|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Id(t){var e=Ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sn(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function u0(){}function d0(t,e){var n=Ie,r=Ht(),i=e(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,Tp(p0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,va(9,h0.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(I(349));xi&30||f0(n,e,i)}return i}function f0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function h0(t,e,n,r){e.value=n,e.getSnapshot=r,m0(e)&&g0(t)}function p0(t,e,n){return n(function(){m0(e)&&g0(t)})}function m0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function g0(t){var e=Xn(t,1);e!==null&&tn(e,t,1,-1)}function gv(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},e.queue=t,t=t.dispatch=tN.bind(null,Ie,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v0(){return Ht().memoizedState}function Wl(t,e,n,r){var i=pn();Ie.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function du(t,e,n,r){var i=Ht();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Sp(r,o.deps)){i.memoizedState=va(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=va(1|e,n,s,r)}function vv(t,e){return Wl(8390656,8,t,e)}function Tp(t,e){return du(2048,8,t,e)}function y0(t,e){return du(4,2,t,e)}function _0(t,e){return du(4,4,t,e)}function w0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x0(t,e,n){return n=n!=null?n.concat([t]):null,du(4,4,w0.bind(null,e,t),n)}function Ip(){}function C0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function E0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S0(t,e,n){return xi&21?(sn(n,e)||(n=Nw(),Ie.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function ZI(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=kd.transition;kd.transition={};try{t(!1),e()}finally{ce=n,kd.transition=r}}function b0(){return Ht().memoizedState}function eN(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k0(t))T0(e,n);else if(n=a0(t,e,n,r),n!==null){var i=ft();tn(n,t,r,i),I0(n,e,r)}}function tN(t,e,n){var r=Dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k0(t))T0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sn(a,o)){var l=e.interleaved;l===null?(i.next=i,_p(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=a0(t,e,i,r),n!==null&&(i=ft(),tn(n,t,r,i),I0(n,e,r))}}function k0(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function T0(t,e){Ho=xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sp(t,n)}}var Cc={readContext:zt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},nN={readContext:zt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:vv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4194308,4,w0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wl(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eN.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:Ip,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=ZI.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,i=pn();if(Se){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Xe===null)throw Error(I(349));xi&30||f0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vv(p0.bind(null,r,s,t),[t]),r.flags|=2048,va(9,h0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pn(),e=Xe.identifierPrefix;if(Se){var n=Ln,r=Mn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rN={readContext:zt,useCallback:C0,useContext:zt,useEffect:Tp,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:E0,useReducer:Td,useRef:v0,useState:function(){return Td(ga)},useDebugValue:Ip,useDeferredValue:function(t){var e=Ht();return S0(e,Ue.memoizedState,t)},useTransition:function(){var t=Td(ga)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:d0,useId:b0,unstable_isNewReconciler:!1},iN={readContext:zt,useCallback:C0,useContext:zt,useEffect:Tp,useImperativeHandle:x0,useInsertionEffect:y0,useLayoutEffect:_0,useMemo:E0,useReducer:Id,useRef:v0,useState:function(){return Id(ga)},useDebugValue:Ip,useDeferredValue:function(t){var e=Ht();return Ue===null?e.memoizedState=t:S0(e,Ue.memoizedState,t)},useTransition:function(){var t=Id(ga)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:d0,useId:b0,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fu={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Dr(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Or(t,s,i),e!==null&&(tn(e,t,i,r),jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Dr(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Or(t,s,i),e!==null&&(tn(e,t,i,r),jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=Dr(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Or(t,i,r),e!==null&&(tn(e,t,r,n),jl(e,t,r))}};function yv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ca(n,r)||!ca(i,s):!0}function N0(t,e,n){var r=!1,i=Wr,s=e.contextType;return typeof s=="object"&&s!==null?s=zt(s):(i=St(e)?_i:lt.current,r=e.contextTypes,s=(r=r!=null)?Ts(t,i):Wr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fu.enqueueReplaceState(e,e.state,null)}function Hf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zt(s):(s=St(e)?_i:lt.current,i.context=Ts(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fu.enqueueReplaceState(i,i.state,null),_c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,e){try{var n="",r=e;do n+=OT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sN=typeof WeakMap=="function"?WeakMap:Map;function R0(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sc||(Sc=!0,th=r),Vf(t,e)},n}function P0(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vf(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_N.bind(null,t,e,n),e.then(t,t))}function xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var oN=ir.ReactCurrentOwner,wt=!1;function dt(t,e,n,r){e.child=t===null?o0(e,null,n,r):Ns(e,t.child,n,r)}function Ev(t,e,n,r,i){n=n.render;var s=e.ref;return fs(e,i),r=bp(t,e,n,r,s,i),n=kp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Se&&n&&hp(e),e.flags|=1,dt(t,e,r,i),e.child)}function Sv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Lp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,O0(t,e,s,r,i)):(t=Hl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(o,r)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=Mr(s,r),t.ref=e.ref,t.return=e,e.child=t}function O0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ca(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return Yf(t,e,n,r,i)}function A0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(ss,Tt),Tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(ss,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(ss,Tt),Tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(ss,Tt),Tt|=r;return dt(t,e,i,n),e.child}function D0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yf(t,e,n,r,i){var s=St(n)?_i:lt.current;return s=Ts(e,s),fs(e,i),n=bp(t,e,n,r,s,i),r=kp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Se&&r&&hp(e),e.flags|=1,dt(t,e,n,i),e.child)}function bv(t,e,n,r,i){if(St(n)){var s=!0;pc(e)}else s=!1;if(fs(e,i),e.stateNode===null)Bl(t,e),N0(e,n,r),Hf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=St(n)?_i:lt.current,c=Ts(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_v(e,o,r,c),yr=!1;var f=e.memoizedState;o.state=f,_c(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Et.current||yr?(typeof d=="function"&&(zf(e,n,d,r),l=e.memoizedState),(a=yr||yv(e,n,a,r,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,l0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kt(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=St(n)?_i:lt.current,l=Ts(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&_v(e,o,r,l),yr=!1,f=e.memoizedState,o.state=f,_c(e,r,o,i);var w=e.memoizedState;a!==u||f!==w||Et.current||yr?(typeof m=="function"&&(zf(e,n,m,r),w=e.memoizedState),(c=yr||yv(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gf(t,e,n,r,s,i)}function Gf(t,e,n,r,i,s){D0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uv(e,n,!1),Jn(t,e,s);r=e.stateNode,oN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&uv(e,n,!0),e.child}function M0(t){var e=t.stateNode;e.pendingContext?cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cv(t,e.context,!1),xp(t,e.containerInfo)}function kv(t,e,n,r,i){return Is(),mp(i),e.flags|=256,dt(t,e,n,r),e.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function qf(t){return{baseLanes:t,cachePool:null,transitions:null}}function L0(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Te,i&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mu(o,r,0,null),t=gi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qf(n),e.memoizedState=Kf,t):Np(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mr(a,s):(s=gi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kf,r}return s=t.child,t=s.sibling,r=Mr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Np(t,e){return e=mu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vl(t,e,n,r){return r!==null&&mp(r),Ns(e,t.child,null,n),t=Np(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nd(Error(I(422))),vl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mu({mode:"visible",children:r.children},i,0,null),s=gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ns(e,t.child,null,o),e.child.memoizedState=qf(o),e.memoizedState=Kf,s);if(!(e.mode&1))return vl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=Nd(s,r,void 0),vl(t,e,o,r)}if(a=(o&t.childLanes)!==0,wt||a){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xn(t,i),tn(r,t,i,-1))}return Mp(),r=Nd(Error(I(421))),vl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nt=Pr(i.nextSibling),Pt=e,Se=!0,Qt=null,t!==null&&(Ft[jt++]=Mn,Ft[jt++]=Ln,Ft[jt++]=wi,Mn=t.id,Ln=t.overflow,wi=e),e=Np(e,r.children),e.flags|=4096,e)}function Tv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$f(t.return,e,n)}function Rd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,n,e);else if(t.tag===19)Tv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rd(e,!0,n,null,s);break;case"together":Rd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=Mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lN(t,e,n){switch(e.tag){case 3:M0(e),Is();break;case 5:c0(e);break;case 1:St(e.type)&&pc(e);break;case 4:xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?L0(t,e,n):(we(Te,Te.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);we(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,A0(t,e,n)}return Jn(t,e,n)}var j0,Qf,U0,W0;j0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};U0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,di(wn.current);var s=null;switch(n){case"input":i=yf(t,i),r=yf(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=xf(t,i),r=xf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}Ef(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(na.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(na.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};W0=function(t,e,n,r){n!==r&&(e.flags|=4)};function mo(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cN(t,e,n){var r=e.pendingProps;switch(pp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return St(e.type)&&hc(),ot(e),null;case 3:return r=e.stateNode,Rs(),Ee(Et),Ee(lt),Ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(ih(Qt),Qt=null))),Qf(t,e),ot(e),null;case 5:Cp(e);var i=di(pa.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return ot(e),null}if(t=di(wn.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mn]=e,r[fa]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)Ce(Ro[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Lg(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":jg(r,s),Ce("invalid",r)}Ef(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":ol(r),Fg(r,s,!0);break;case"textarea":ol(r),Ug(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[fa]=r,j0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sf(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)Ce(Ro[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":Lg(t,r),i=yf(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":jg(t,r),i=xf(t,r),Ce("invalid",t);break;default:i=r}Ef(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?vw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ra(t,l):typeof l=="number"&&ra(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&Zh(t,s,l,o))}switch(n){case"input":ol(t),Fg(t,r,!1);break;case"textarea":ol(t),Ug(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ls(t,!!r.multiple,s,!1):r.defaultValue!=null&&ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)W0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=di(pa.current),di(wn.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return ot(e),null;case 13:if(Ee(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Nt!==null&&e.mode&1&&!(e.flags&128))i0(),Is(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[mn]=e}else Is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),s=!1}else Qt!==null&&(ih(Qt),Qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?We===0&&(We=3):Mp())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return Rs(),Qf(t,e),t===null&&ua(e.stateNode.containerInfo),ot(e),null;case 10:return yp(e.type._context),ot(e),null;case 17:return St(e.type)&&hc(),ot(e),null;case 19:if(Ee(Te),s=e.memoizedState,s===null)return ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wc(t),o!==null){for(e.flags|=128,mo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Le()>Os&&(e.flags|=128,r=!0,mo(s,!1),e.lanes=4194304)}else{if(!r)if(t=wc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return ot(e),null}else 2*Le()-s.renderingStartTime>Os&&n!==1073741824&&(e.flags|=128,r=!0,mo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=Te.current,we(Te,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return Dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function uN(t,e){switch(pp(e),e.tag){case 1:return St(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rs(),Ee(Et),Ee(lt),Ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cp(e),null;case 13:if(Ee(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Te),null;case 4:return Rs(),null;case 10:return yp(e.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var yl=!1,at=!1,dN=typeof WeakSet=="function"?WeakSet:Set,M=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Xf(t,e,n){try{n()}catch(r){Re(t,e,r)}}var Iv=!1;function fN(t,e){if(Df=cc,t=Vw(),fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var m;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(m=u.firstChild)!==null;)f=u,u=m;for(;;){if(u===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:t,selectionRange:n},cc=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kt(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(C){Re(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return w=Iv,Iv=!1,w}function Vo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xf(e,n,s)}i=i.next}while(i!==r)}}function hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B0(t){var e=t.alternate;e!==null&&(t.alternate=null,B0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[fa],delete e[jf],delete e[KI],delete e[qI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $0(t){return t.tag===5||t.tag===3||t.tag===4}function Nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}function eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eh(t,e,n),t=t.sibling;t!==null;)eh(t,e,n),t=t.sibling}var Je=null,qt=!1;function dr(t,e,n){for(n=n.child;n!==null;)z0(t,e,n),n=n.sibling}function z0(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(su,n)}catch{}switch(n.tag){case 5:at||is(n,e);case 6:var r=Je,i=qt;Je=null,dr(t,e,n),Je=r,qt=i,Je!==null&&(qt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(qt?(t=Je,n=n.stateNode,t.nodeType===8?Ed(t.parentNode,n):t.nodeType===1&&Ed(t,n),aa(t)):Ed(Je,n.stateNode));break;case 4:r=Je,i=qt,Je=n.stateNode.containerInfo,qt=!0,dr(t,e,n),Je=r,qt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xf(n,e,o),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!at&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,dr(t,e,n),at=r):dr(t,e,n);break;default:dr(t,e,n)}}function Rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dN),e.forEach(function(r){var i=xN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,qt=!1;break e;case 3:Je=a.stateNode.containerInfo,qt=!0;break e;case 4:Je=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Je===null)throw Error(I(160));z0(s,o,i),Je=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H0(e,t),e=e.sibling}function H0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),hn(t),r&4){try{Vo(3,t,t.return),hu(3,t)}catch(y){Re(t,t.return,y)}try{Vo(5,t,t.return)}catch(y){Re(t,t.return,y)}}break;case 1:Yt(e,t),hn(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(Yt(e,t),hn(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var i=t.stateNode;try{ra(i,"")}catch(y){Re(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fw(i,s),Sf(a,o);var c=Sf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?vw(i,u):d==="dangerouslySetInnerHTML"?mw(i,u):d==="children"?ra(i,u):Zh(i,d,u,c)}switch(a){case"input":_f(i,s);break;case"textarea":hw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ls(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ls(i,!!s.multiple,s.defaultValue,!0):ls(i,!!s.multiple,s.multiple?[]:"",!1))}i[fa]=s}catch(y){Re(t,t.return,y)}}break;case 6:if(Yt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Re(t,t.return,y)}}break;case 3:if(Yt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(y){Re(t,t.return,y)}break;case 4:Yt(e,t),hn(t);break;case 13:Yt(e,t),hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Op=Le())),r&4&&Rv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||d,Yt(e,t),at=c):Yt(e,t),hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(M=t,d=t.child;d!==null;){for(u=M=d;M!==null;){switch(f=M,m=f.child,f.tag){case 0:case 11:case 14:case 15:Vo(4,f,f.return);break;case 1:is(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:is(f,f.return);break;case 22:if(f.memoizedState!==null){Ov(u);continue}}m!==null?(m.return=f,M=m):Ov(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gw("display",o))}catch(y){Re(t,t.return,y)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(y){Re(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Yt(e,t),hn(t),r&4&&Rv(t);break;case 21:break;default:Yt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($0(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ra(i,""),r.flags&=-33);var s=Nv(t);eh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nv(t);Zf(t,a,o);break;default:throw Error(I(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hN(t,e,n){M=t,V0(t)}function V0(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||at;a=yl;var c=at;if(yl=o,(at=l)&&!c)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Av(i):l!==null?(l.return=o,M=l):Av(i);for(;s!==null;)M=s,V0(s),s=s.sibling;M=i,yl=a,at=c}Pv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Pv(t)}}function Pv(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&aa(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}at||e.flags&512&&Jf(e)}catch(f){Re(e,e.return,f)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Ov(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Av(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hu(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Re(e,i,l)}}var s=e.return;try{Jf(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{Jf(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var pN=Math.ceil,Ec=ir.ReactCurrentDispatcher,Rp=ir.ReactCurrentOwner,$t=ir.ReactCurrentBatchConfig,te=0,Xe=null,je=null,tt=0,Tt=0,ss=Qr(0),We=0,ya=null,Ci=0,pu=0,Pp=0,Yo=null,_t=null,Op=0,Os=1/0,On=null,Sc=!1,th=null,Ar=null,_l=!1,kr=null,bc=0,Go=0,nh=null,$l=-1,zl=0;function ft(){return te&6?Le():$l!==-1?$l:$l=Le()}function Dr(t){return t.mode&1?te&2&&tt!==0?tt&-tt:XI.transition!==null?(zl===0&&(zl=Nw()),zl):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Lw(t.type)),t):1}function tn(t,e,n,r){if(50<Go)throw Go=0,nh=null,Error(I(185));La(t,n,r),(!(te&2)||t!==Xe)&&(t===Xe&&(!(te&2)&&(pu|=n),We===4&&wr(t,tt)),bt(t,r),n===1&&te===0&&!(e.mode&1)&&(Os=Le()+500,uu&&Xr()))}function bt(t,e){var n=t.callbackNode;XT(t,e);var r=lc(t,t===Xe?tt:0);if(r===0)n!==null&&$g(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$g(n),e===1)t.tag===0?QI(Dv.bind(null,t)):t0(Dv.bind(null,t)),YI(function(){!(te&6)&&Xr()}),n=null;else{switch(Rw(r)){case 1:n=ip;break;case 4:n=Tw;break;case 16:n=ac;break;case 536870912:n=Iw;break;default:n=ac}n=Z0(n,Y0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Y0(t,e){if($l=-1,zl=0,te&6)throw Error(I(327));var n=t.callbackNode;if(hs()&&t.callbackNode!==n)return null;var r=lc(t,t===Xe?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kc(t,r);else{e=r;var i=te;te|=2;var s=K0();(Xe!==t||tt!==e)&&(On=null,Os=Le()+500,mi(t,e));do try{vN();break}catch(a){G0(t,a)}while(!0);vp(),Ec.current=s,te=i,je!==null?e=0:(Xe=null,tt=0,e=We)}if(e!==0){if(e===2&&(i=Nf(t),i!==0&&(r=i,e=rh(t,i))),e===1)throw n=ya,mi(t,0),wr(t,r),bt(t,Le()),n;if(e===6)wr(t,r);else{if(i=t.current.alternate,!(r&30)&&!mN(i)&&(e=kc(t,r),e===2&&(s=Nf(t),s!==0&&(r=s,e=rh(t,s))),e===1))throw n=ya,mi(t,0),wr(t,r),bt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:si(t,_t,On);break;case 3:if(wr(t,r),(r&130023424)===r&&(e=Op+500-Le(),10<e)){if(lc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ff(si.bind(null,t,_t,On),e);break}si(t,_t,On);break;case 4:if(wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-en(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pN(r/1960))-r,10<r){t.timeoutHandle=Ff(si.bind(null,t,_t,On),r);break}si(t,_t,On);break;case 5:si(t,_t,On);break;default:throw Error(I(329))}}}return bt(t,Le()),t.callbackNode===n?Y0.bind(null,t):null}function rh(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=kc(t,e),t!==2&&(e=_t,_t=n,e!==null&&ih(e)),t}function ih(t){_t===null?_t=t:_t.push.apply(_t,t)}function mN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wr(t,e){for(e&=~Pp,e&=~pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-en(e),r=1<<n;t[n]=-1,e&=~r}}function Dv(t){if(te&6)throw Error(I(327));hs();var e=lc(t,0);if(!(e&1))return bt(t,Le()),null;var n=kc(t,e);if(t.tag!==0&&n===2){var r=Nf(t);r!==0&&(e=r,n=rh(t,r))}if(n===1)throw n=ya,mi(t,0),wr(t,e),bt(t,Le()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,_t,On),bt(t,Le()),null}function Ap(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Os=Le()+500,uu&&Xr())}}function Ei(t){kr!==null&&kr.tag===0&&!(te&6)&&hs();var e=te;te|=1;var n=$t.transition,r=ce;try{if($t.transition=null,ce=1,t)return t()}finally{ce=r,$t.transition=n,te=e,!(te&6)&&Xr()}}function Dp(){Tt=ss.current,Ee(ss)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VI(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(pp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:Rs(),Ee(Et),Ee(lt),Ep();break;case 5:Cp(r);break;case 4:Rs();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:yp(r.type._context);break;case 22:case 23:Dp()}n=n.return}if(Xe=t,je=t=Mr(t.current,null),tt=Tt=e,We=0,ya=null,Pp=pu=Ci=0,_t=Yo=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ui=null}return t}function G0(t,e){do{var n=je;try{if(vp(),Ul.current=Cc,xc){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xc=!1}if(xi=0,Ge=Ue=Ie=null,Ho=!1,ma=0,Rp.current=null,n===null||n.return===null){We=1,ya=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=xv(o);if(m!==null){m.flags&=-257,Cv(m,o,a,s,e),m.mode&1&&wv(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){wv(s,c,e),Mp();break e}l=Error(I(426))}}else if(Se&&a.mode&1){var x=xv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Cv(x,o,a,s,e),mp(Ps(l,a));break e}}s=l=Ps(l,a),We!==4&&(We=2),Yo===null?Yo=[s]:Yo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=R0(s,l,e);pv(s,g);break e;case 1:a=l;var h=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=P0(s,a,e);pv(s,C);break e}}s=s.return}while(s!==null)}Q0(n)}catch(E){e=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function K0(){var t=Ec.current;return Ec.current=Cc,t===null?Cc:t}function Mp(){(We===0||We===3||We===2)&&(We=4),Xe===null||!(Ci&268435455)&&!(pu&268435455)||wr(Xe,tt)}function kc(t,e){var n=te;te|=2;var r=K0();(Xe!==t||tt!==e)&&(On=null,mi(t,e));do try{gN();break}catch(i){G0(t,i)}while(!0);if(vp(),te=n,Ec.current=r,je!==null)throw Error(I(261));return Xe=null,tt=0,We}function gN(){for(;je!==null;)q0(je)}function vN(){for(;je!==null&&!$T();)q0(je)}function q0(t){var e=J0(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?Q0(t):je=e,Rp.current=null}function Q0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uN(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}else if(n=cN(n,e,Tt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);We===0&&(We=5)}function si(t,e,n){var r=ce,i=$t.transition;try{$t.transition=null,ce=1,yN(t,e,n,r)}finally{$t.transition=i,ce=r}return null}function yN(t,e,n,r){do hs();while(kr!==null);if(te&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JT(t,s),t===Xe&&(je=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,Z0(ac,function(){return hs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var o=ce;ce=1;var a=te;te|=4,Rp.current=null,fN(t,n),H0(n,t),jI(Mf),cc=!!Df,Mf=Df=null,t.current=n,hN(n),zT(),te=a,ce=o,$t.transition=s}else t.current=n;if(_l&&(_l=!1,kr=t,bc=i),s=t.pendingLanes,s===0&&(Ar=null),YT(n.stateNode),bt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sc)throw Sc=!1,t=th,th=null,t;return bc&1&&t.tag!==0&&hs(),s=t.pendingLanes,s&1?t===nh?Go++:(Go=0,nh=t):Go=0,Xr(),null}function hs(){if(kr!==null){var t=Rw(bc),e=$t.transition,n=ce;try{if($t.transition=null,ce=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,bc=0,te&6)throw Error(I(331));var i=te;for(te|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Vo(8,d,s)}var u=d.child;if(u!==null)u.return=d,M=u;else for(;M!==null;){d=M;var f=d.sibling,m=d.return;if(B0(d),d===c){M=null;break}if(f!==null){f.return=m,M=f;break}M=m}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,M=g;break e}M=s.return}}var h=t.current;for(M=h;M!==null;){o=M;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,M=_;else e:for(o=h;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hu(9,a)}}catch(E){Re(a,a.return,E)}if(a===o){M=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,M=C;break e}M=a.return}}if(te=i,Xr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(su,t)}catch{}r=!0}return r}finally{ce=n,$t.transition=e}}return!1}function Mv(t,e,n){e=Ps(n,e),e=R0(t,e,1),t=Or(t,e,1),e=ft(),t!==null&&(La(t,1,e),bt(t,e))}function Re(t,e,n){if(t.tag===3)Mv(t,t,n);else for(;e!==null;){if(e.tag===3){Mv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=Ps(n,t),t=P0(e,t,1),e=Or(e,t,1),t=ft(),e!==null&&(La(e,1,t),bt(e,t));break}}e=e.return}}function _N(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(tt&n)===n&&(We===4||We===3&&(tt&130023424)===tt&&500>Le()-Op?mi(t,0):Pp|=n),bt(t,e)}function X0(t,e){e===0&&(t.mode&1?(e=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):e=1);var n=ft();t=Xn(t,e),t!==null&&(La(t,e,n),bt(t,n))}function wN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X0(t,n)}function xN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),X0(t,n)}var J0;J0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,lN(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Se&&e.flags&1048576&&n0(e,gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bl(t,e),t=e.pendingProps;var i=Ts(e,lt.current);fs(e,n),i=bp(null,e,r,t,i,n);var s=kp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(s=!0,pc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wp(e),i.updater=fu,e.stateNode=i,i._reactInternals=e,Hf(e,r,t,n),e=Gf(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&hp(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EN(r),t=Kt(r,t),i){case 0:e=Yf(null,e,r,t,n);break e;case 1:e=bv(null,e,r,t,n);break e;case 11:e=Ev(null,e,r,t,n);break e;case 14:e=Sv(null,e,r,Kt(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Yf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),bv(t,e,r,i,n);case 3:e:{if(M0(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,l0(t,e),_c(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ps(Error(I(423)),e),e=kv(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(I(424)),e),e=kv(t,e,r,n,i);break e}else for(Nt=Pr(e.stateNode.containerInfo.firstChild),Pt=e,Se=!0,Qt=null,n=o0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===i){e=Jn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return c0(e),t===null&&Bf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lf(r,i)?o=null:s!==null&&Lf(r,s)&&(e.flags|=32),D0(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Bf(e),null;case 13:return L0(t,e,n);case 4:return xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ns(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Ev(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(vc,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!Et.current){e=Jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$f(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$f(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fs(e,n),i=zt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),Sv(t,e,r,i,n);case 15:return O0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Bl(t,e),e.tag=1,St(r)?(t=!0,pc(e)):t=!1,fs(e,n),N0(e,r,i),Hf(e,r,i,n),Gf(null,e,r,!0,t,n);case 19:return F0(t,e,n);case 22:return A0(t,e,n)}throw Error(I(156,e.tag))};function Z0(t,e){return kw(t,e)}function CN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new CN(t,e,n,r)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EN(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tp)return 11;if(t===np)return 14}return 2}function Mr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return gi(n.children,i,s,e);case ep:o=8,i|=8;break;case pf:return t=Wt(12,n,e,i|2),t.elementType=pf,t.lanes=s,t;case mf:return t=Wt(13,n,e,i),t.elementType=mf,t.lanes=s,t;case gf:return t=Wt(19,n,e,i),t.elementType=gf,t.lanes=s,t;case cw:return mu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aw:o=10;break e;case lw:o=9;break e;case tp:o=11;break e;case np:o=14;break e;case vr:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gi(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function mu(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=cw,t.lanes=n,t.stateNode={isHidden:!1},t}function Pd(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function Od(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,r,i,s,o,a,l){return t=new SN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(s),t}function bN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ex(t){if(!t)return Wr;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(St(n))return e0(t,n,e)}return e}function tx(t,e,n,r,i,s,o,a,l){return t=Fp(n,r,!0,t,i,s,o,a,l),t.context=ex(null),n=t.current,r=ft(),i=Dr(n),s=zn(r,i),s.callback=e??null,Or(n,s,i),t.current.lanes=i,La(t,i,r),bt(t,r),t}function gu(t,e,n,r){var i=e.current,s=ft(),o=Dr(i);return n=ex(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(i,e,o),t!==null&&(tn(t,i,o,s),jl(t,i,o)),o}function Tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jp(t,e){Lv(t,e),(t=t.alternate)&&Lv(t,e)}function kN(){return null}var nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Up(t){this._internalRoot=t}vu.prototype.render=Up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));gu(t,e,null,null)};vu.prototype.unmount=Up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){gu(null,t,null,null)}),e[Qn]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Aw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_r.length&&e!==0&&e<_r[n].priority;n++);_r.splice(n,0,t),n===0&&Mw(t)}};function Wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function TN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Tc(o);s.call(c)}}var o=tx(e,r,t,0,null,!1,!1,"",Fv);return t._reactRootContainer=o,t[Qn]=o.current,ua(t.nodeType===8?t.parentNode:t),Ei(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Tc(l);a.call(c)}}var l=Fp(t,0,!1,null,null,!1,!1,"",Fv);return t._reactRootContainer=l,t[Qn]=l.current,ua(t.nodeType===8?t.parentNode:t),Ei(function(){gu(e,l,n,r)}),l}function _u(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Tc(o);a.call(l)}}gu(e,o,t,i)}else o=TN(n,e,t,i,r);return Tc(o)}Pw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=No(e.pendingLanes);n!==0&&(sp(e,n|1),bt(e,Le()),!(te&6)&&(Os=Le()+500,Xr()))}break;case 13:Ei(function(){var r=Xn(t,1);if(r!==null){var i=ft();tn(r,t,1,i)}}),jp(t,1)}};op=function(t){if(t.tag===13){var e=Xn(t,134217728);if(e!==null){var n=ft();tn(e,t,134217728,n)}jp(t,134217728)}};Ow=function(t){if(t.tag===13){var e=Dr(t),n=Xn(t,e);if(n!==null){var r=ft();tn(n,t,e,r)}jp(t,e)}};Aw=function(){return ce};Dw=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};kf=function(t,e,n){switch(e){case"input":if(_f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cu(r);if(!i)throw Error(I(90));dw(r),_f(r,i)}}}break;case"textarea":hw(t,n);break;case"select":e=n.value,e!=null&&ls(t,!!n.multiple,e,!1)}};ww=Ap;xw=Ei;var IN={usingClientEntryPoint:!1,Events:[ja,Zi,cu,yw,_w,Ap]},go={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NN={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sw(t),t===null?null:t.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||kN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{su=wl.inject(NN),_n=wl}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(e))throw Error(I(200));return bN(t,e,null,n)};Dt.createRoot=function(t,e){if(!Wp(t))throw Error(I(299));var n=!1,r="",i=nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,r,i),t[Qn]=e.current,ua(t.nodeType===8?t.parentNode:t),new Up(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Sw(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return Ei(t)};Dt.hydrate=function(t,e,n){if(!yu(e))throw Error(I(200));return _u(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Wp(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tx(e,null,t,1,n??null,i,!1,s,o),t[Qn]=e.current,ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vu(e)};Dt.render=function(t,e,n){if(!yu(e))throw Error(I(200));return _u(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!yu(t))throw Error(I(40));return t._reactRootContainer?(Ei(function(){_u(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Ap;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yu(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return _u(t,e,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(t){console.error(t)}}rx(),rw.exports=Dt;var Gs=rw.exports;const RN=V_(Gs);var ix,jv=Gs;ix=jv.createRoot,jv.hydrateRoot;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.parse=FN;Bp.serialize=jN;const PN=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ON=/^[\u0021-\u003A\u003C-\u007E]*$/,AN=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,DN=/^[\u0020-\u003A\u003D-\u007E]*$/,MN=Object.prototype.toString,LN=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function FN(t,e){const n=new LN,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||UN;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=Uv(t,s,o),d=Wv(t,o,c),u=t.slice(c,d);if(n[u]===void 0){let f=Uv(t,o+1,l),m=Wv(t,l,f);const w=i(t.slice(f,m));n[u]=w}s=l+1}while(s<r);return n}function Uv(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Wv(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function jN(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!PN.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!ON.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!AN.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!DN.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!WN(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function UN(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function WN(t){return MN.call(t)==="[object Date]"}/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bv="popstate";function BN(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_a(i)}return zN(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function on(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $N(){return Math.random().toString(36).substring(2,10)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function sh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:n,key:e&&e.key||r||$N()}}function _a({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function zN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function u(){a="POP";let x=d(),g=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a="PUSH";let h=sh(y.location,x,g);c=d()+1;let _=$v(h,c),C=y.createHref(h);try{o.pushState(_,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,g){a="REPLACE";let h=sh(y.location,x,g);c=d();let _=$v(h,c),C=y.createHref(h);o.replaceState(_,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function w(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:_a(x);return h=h.replace(/ $/,"%20"),be(g,`No window.location.(origin|href) available to create URL for href: ${h}`),new URL(h,g)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bv,u),l=x,()=>{i.removeEventListener(Bv,u),l=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let g=w(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}function sx(t,e,n="/"){return HN(t,e,n,!1)}function HN(t,e,n,r){let i=typeof e=="string"?Ks(e):e,s=Br(i.pathname||"/",n);if(s==null)return null;let o=ox(t);VN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=n1(s);a=e1(o[l],c,r)}return a}function ox(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Hn([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ox(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ax(s.path))i(s,o,l)}),e}function ax(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ax(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YN=/^:[\w-]+$/,GN=3,KN=2,qN=1,QN=10,XN=-2,zv=t=>t==="*";function JN(t,e){let n=t.split("/"),r=n.length;return n.some(zv)&&(r+=XN),e&&(r+=KN),n.filter(i=>!zv(i)).reduce((i,s)=>i+(YN.test(s)?GN:s===""?qN:QN),r)}function ZN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e1(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",u=Ic({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Ic({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Hn([s,u.pathname]),pathnameBase:o1(Hn([s,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(s=Hn([s,u.pathnameBase]))}return o}function Ic(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:u},f)=>{if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[f];return u&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function t1(t,e=!1,n=!0){on(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r1(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:i1(n,e):e,search:a1(r),hash:l1(i)}}function i1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ad(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $p(t){let e=s1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zp(t,e,n,r=!1){let i;typeof t=="string"?i=Ks(t):(i={...t},be(!i.pathname||!i.pathname.includes("?"),Ad("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Ad("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Ad("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}a=u>=0?e[u]:"/"}let l=r1(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Hn=t=>t.join("/").replace(/\/\/+/g,"/"),o1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lx=["POST","PUT","PATCH","DELETE"];new Set(lx);var u1=["GET",...lx];new Set(u1);var qs=p.createContext(null);qs.displayName="DataRouter";var wu=p.createContext(null);wu.displayName="DataRouterState";var cx=p.createContext({isTransitioning:!1});cx.displayName="ViewTransition";var d1=p.createContext(new Map);d1.displayName="Fetchers";var f1=p.createContext(null);f1.displayName="Await";var un=p.createContext(null);un.displayName="Navigation";var Wa=p.createContext(null);Wa.displayName="Location";var In=p.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var Hp=p.createContext(null);Hp.displayName="RouteError";function h1(t,{relative:e}={}){be(Qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(un),{hash:i,pathname:s,search:o}=Ba(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Hn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Qs(){return p.useContext(Wa)!=null}function sr(){return be(Qs(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Wa).location}var ux="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dx(t){p.useContext(un).static||p.useLayoutEffect(t)}function Vp(){let{isDataRoute:t}=p.useContext(In);return t?k1():p1()}function p1(){be(Qs(),"useNavigate() may be used only in the context of a <Router> component.");let t=p.useContext(qs),{basename:e,navigator:n}=p.useContext(un),{matches:r}=p.useContext(In),{pathname:i}=sr(),s=JSON.stringify($p(r)),o=p.useRef(!1);return dx(()=>{o.current=!0}),p.useCallback((l,c={})=>{if(on(o.current,ux),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=zp(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}p.createContext(null);function Ba(t,{relative:e}={}){let{matches:n}=p.useContext(In),{pathname:r}=sr(),i=JSON.stringify($p(n));return p.useMemo(()=>zp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function m1(t,e){return fx(t,e)}function fx(t,e,n,r){var h;be(Qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=p.useContext(un),{matches:o}=p.useContext(In),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",u=a&&a.route;{let _=u&&u.path||"";hx(c,!u||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=sr(),m;if(e){let _=typeof e=="string"?Ks(e):e;be(d==="/"||((h=_.pathname)==null?void 0:h.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=f;let w=m.pathname||"/",y=w;if(d!=="/"){let _=d.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:sx(t,{pathname:y});on(u||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),on(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=w1(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Hn([d,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Hn([d,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&g?p.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function g1(){let t=b1(),e=c1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:s},"ErrorBoundary")," or"," ",p.createElement("code",{style:s},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,o)}var v1=p.createElement(g1,null),y1=class extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?p.createElement(In.Provider,{value:this.props.routeContext},p.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _1({routeContext:t,match:e,children:n}){let r=p.useContext(qs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),p.createElement(In.Provider,{value:t},n)}function w1(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);be(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:u}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!u||u[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let u,f=!1,m=null,w=null;n&&(u=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||v1,o&&(a<0&&d===0?(hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):a===d&&(f=!0,w=c.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,d+1)),x=()=>{let g;return u?g=m:f?g=w:c.route.Component?g=p.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,p.createElement(_1,{match:c,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?p.createElement(y1,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function Yp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(t){let e=p.useContext(qs);return be(e,Yp(t)),e}function C1(t){let e=p.useContext(wu);return be(e,Yp(t)),e}function E1(t){let e=p.useContext(In);return be(e,Yp(t)),e}function Gp(t){let e=E1(t),n=e.matches[e.matches.length-1];return be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function S1(){return Gp("useRouteId")}function b1(){var r;let t=p.useContext(Hp),e=C1("useRouteError"),n=Gp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function k1(){let{router:t}=x1("useNavigate"),e=Gp("useNavigate"),n=p.useRef(!1);return dx(()=>{n.current=!0}),p.useCallback(async(i,s={})=>{on(n.current,ux),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Hv={};function hx(t,e,n){!e&&!Hv[t]&&(Hv[t]=!0,on(!1,n))}p.memo(T1);function T1({routes:t,future:e,state:n}){return fx(t,void 0,n,e)}function I1({to:t,replace:e,state:n,relative:r}){be(Qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=p.useContext(un);on(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=p.useContext(In),{pathname:o}=sr(),a=Vp(),l=zp(t,$p(s),o,r==="path"),c=JSON.stringify(l);return p.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function oh(t){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){be(!Qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=p.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ks(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:f="default"}=n,m=p.useMemo(()=>{let w=Br(l,o);return w==null?null:{location:{pathname:w,search:c,hash:d,state:u,key:f},navigationType:r}},[o,l,c,d,u,f,r]);return on(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(un.Provider,{value:a},p.createElement(Wa.Provider,{children:e,value:m}))}function R1({children:t,location:e}){return m1(ah(t),e)}function ah(t,e=[]){let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let s=[...e,i];if(r.type===p.Fragment){n.push.apply(n,ah(r.props.children,s));return}be(r.type===oh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ah(r.props.children,s)),n.push(o)}),n}var Vl="get",Yl="application/x-www-form-urlencoded";function xu(t){return t!=null&&typeof t.tagName=="string"}function P1(t){return xu(t)&&t.tagName.toLowerCase()==="button"}function O1(t){return xu(t)&&t.tagName.toLowerCase()==="form"}function A1(t){return xu(t)&&t.tagName.toLowerCase()==="input"}function D1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M1(t,e){return t.button===0&&(!e||e==="_self")&&!D1(t)}var xl=null;function L1(){if(xl===null)try{new FormData(document.createElement("form"),0),xl=!1}catch{xl=!0}return xl}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(t){return t!=null&&!F1.has(t)?(on(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):t}function j1(t,e){let n,r,i,s,o;if(O1(t)){let a=t.getAttribute("action");r=a?Br(a,e):null,n=t.getAttribute("method")||Vl,i=Dd(t.getAttribute("enctype"))||Yl,s=new FormData(t)}else if(P1(t)||A1(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Br(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Vl,i=Dd(t.getAttribute("formenctype"))||Dd(a.getAttribute("enctype"))||Yl,s=new FormData(a,t),!L1()){let{name:c,type:d,value:u}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,u)}}else{if(xu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vl,r=null,i=Yl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Kp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function U1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function B1(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await U1(s,n);return o.links?o.links():[]}return[]}));return V1(r.flat(1).filter(W1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Vv(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var u;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((u=n[0])==null?void 0:u.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function $1(t,e){return z1(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function z1(t){return[...new Set(t)]}function H1(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function V1(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(H1(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Y1(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function G1(){let t=p.useContext(qs);return Kp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K1(){let t=p.useContext(wu);return Kp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qp=p.createContext(void 0);qp.displayName="FrameworkContext";function px(){let t=p.useContext(qp);return Kp(t,"You must render this element inside a <HydratedRouter> element"),t}function q1(t,e){let n=p.useContext(qp),[r,i]=p.useState(!1),[s,o]=p.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=e,f=p.useRef(null);p.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=g=>{g.forEach(h=>{o(h.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),p.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:vo(a,m),onBlur:vo(l,w),onMouseEnter:vo(c,m),onMouseLeave:vo(d,w),onTouchStart:vo(u,m)}]:[!1,f,{}]}function vo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q1({page:t,...e}){let{router:n}=G1(),r=p.useMemo(()=>sx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?p.createElement(J1,{page:t,matches:r,...e}):null}function X1(t){let{manifest:e,routeModules:n}=px(),[r,i]=p.useState([]);return p.useEffect(()=>{let s=!1;return B1(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function J1({page:t,matches:e,...n}){let r=sr(),{manifest:i,routeModules:s}=px(),{loaderData:o,matches:a}=K1(),l=p.useMemo(()=>Vv(t,e,a,i,r,"data"),[t,e,a,i,r]),c=p.useMemo(()=>Vv(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=p.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,w=!1;if(e.forEach(x=>{var h;let g=i.routes[x.route.id];!g||!g.hasLoader||(!l.some(_=>_.route.id===x.route.id)&&x.route.id in o&&((h=s[x.route.id])!=null&&h.shouldRevalidate)||g.hasClientLoader?w=!0:m.add(x.route.id))}),m.size===0)return[];let y=Y1(t);return w&&m.size>0&&y.searchParams.set("_routes",e.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[y.pathname+y.search]},[o,r,i,l,e,t,s]),u=p.useMemo(()=>$1(c,i),[c,i]),f=X1(c);return p.createElement(p.Fragment,null,d.map(m=>p.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),u.map(m=>p.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:w})=>p.createElement("link",{key:m,...w})))}function Z1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.1.5")}catch{}function eR({basename:t,children:e,window:n}){let r=p.useRef();r.current==null&&(r.current=BN({window:n,v5Compat:!0}));let i=r.current,[s,o]=p.useState({action:i.action,location:i.location}),a=p.useCallback(l=>{p.startTransition(()=>o(l))},[o]);return p.useLayoutEffect(()=>i.listen(a),[i,a]),p.createElement(N1,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=p.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:u,...f},m){let{basename:w}=p.useContext(un),y=typeof c=="string"&&gx.test(c),x,g=!1;if(typeof c=="string"&&y&&(x=c,mx))try{let P=new URL(window.location.href),N=c.startsWith("//")?new URL(P.protocol+c):new URL(c),F=Br(N.pathname,w);N.origin===P.origin&&F!=null?c=F+N.search+N.hash:g=!0}catch{on(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=h1(c,{relative:i}),[_,C,E]=q1(r,f),b=iR(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:u});function S(P){e&&e(P),P.defaultPrevented||b(P)}let k=p.createElement("a",{...f,...E,href:x||h,onClick:g||s?e:S,ref:Z1(m,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?p.createElement(p.Fragment,null,k,p.createElement(Q1,{page:h})):k});vx.displayName="Link";var tR=p.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let u=Ba(o,{relative:c.relative}),f=sr(),m=p.useContext(wu),{navigator:w,basename:y}=p.useContext(un),x=m!=null&&cR(u)&&a===!0,g=w.encodeLocation?w.encodeLocation(u).pathname:u.pathname,h=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(h=h.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&y&&(_=Br(_,y)||_);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=h===g||!i&&h.startsWith(g)&&h.charAt(C)==="/",b=_!=null&&(_===g||!i&&_.startsWith(g)&&_.charAt(g.length)==="/"),S={isActive:E,isPending:b,isTransitioning:x},k=E?e:void 0,P;typeof r=="function"?P=r(S):P=[r,E?"active":null,b?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(S):s;return p.createElement(vx,{...c,"aria-current":k,className:P,ref:d,style:N,to:o,viewTransition:a},typeof l=="function"?l(S):l)});tR.displayName="NavLink";var nR=p.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Vl,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...f},m)=>{let w=aR(),y=lR(a,{relative:c}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&gx.test(a),h=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let C=_.nativeEvent.submitter,E=(C==null?void 0:C.getAttribute("formmethod"))||o;w(C||_.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:u})};return p.createElement("form",{ref:m,method:x,action:y,onSubmit:r?l:h,...f,"data-discover":!g&&t==="render"?"true":void 0})});nR.displayName="Form";function rR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yx(t){let e=p.useContext(qs);return be(e,rR(t)),e}function iR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Vp(),l=sr(),c=Ba(t,{relative:s});return p.useCallback(d=>{if(M1(d,e)){d.preventDefault();let u=n!==void 0?n:_a(l)===_a(c);a(t,{replace:u,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var sR=0,oR=()=>`__${String(++sR)}__`;function aR(){let{router:t}=yx("useSubmit"),{basename:e}=p.useContext(un),n=S1();return p.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=j1(r,e);if(i.navigate===!1){let d=i.fetcherKey||oR();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function lR(t,{relative:e}={}){let{basename:n}=p.useContext(un),r=p.useContext(In);be(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ba(t||".",{relative:e})},o=sr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(u=>u).forEach(u=>a.append("index",u));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Hn([n,s.pathname])),_a(s)}function cR(t,e={}){let n=p.useContext(cx);be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yx("useViewTransitionState"),i=Ba(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Br(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Br(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ic(i.pathname,o)!=null||Ic(i.pathname,s)!=null}new TextEncoder;var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+_x.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,u=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[u],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||u==null)throw new dR;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),u!==64){const w=c<<6&192|u;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(t){const e=wx(t);return Qp.encodeByteArray(e,!0)},Nc=function(t){return xx(t).replace(/\./g,"")},Rc=function(t){try{return Qp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){return Cx(void 0,t)}function Cx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hR(n)||(t[n]=Cx(t[n],e[n]));return t}function hR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>pR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rc(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return mR()||gR()||vR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ex=t=>{var e,n;return(n=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Sx=t=>{const e=Ex(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bx=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},kx=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xR(){return _x.NODE_ADMIN===!0}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,za.prototype.create)}}class za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new or(i,a,r)}}function bR(t,e){return t.replace(kR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=wa(Rc(s[0])||""),n=wa(Rc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},TR=function(t){const e=Nx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IR=function(t){const e=Nx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function As(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Gv(s)&&Gv(o)){if(!Oc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const f=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):u<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[u]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function RR(t,e){const n=new PR(t,e);return n.subscribe.bind(n)}class PR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Md),i.error===void 0&&(i.error=Md),i.complete===void 0&&(i.complete=Md);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}function Cu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,R(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Eu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class $r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $a;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LR(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(t){return t===oi?void 0:t}function LR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const jR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},UR=de.INFO,WR={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},BR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=UR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const $R=(t,e)=>e.some(n=>t instanceof n);let Kv,qv;function zR(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rx=new WeakMap,ch=new WeakMap,Px=new WeakMap,Ld=new WeakMap,em=new WeakMap;function VR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rx.set(n,t)}).catch(()=>{}),em.set(e,t),e}function YR(t){if(ch.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ch.set(t,e)}let uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ch.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Px.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GR(t){uh=t(uh)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fd(this),e,...n);return Px.set(r,e.sort?e.sort():[e]),Lr(r)}:HR().includes(t)?function(...e){return t.apply(Fd(this),e),Lr(Rx.get(this))}:function(...e){return Lr(t.apply(Fd(this),e))}}function qR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&YR(t),$R(t,zR())?new Proxy(t,uh):t)}function Lr(t){if(t instanceof IDBRequest)return VR(t);if(Ld.has(t))return Ld.get(t);const e=qR(t);return e!==t&&(Ld.set(t,e),em.set(e,t)),e}const Fd=t=>em.get(t);function QR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Lr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Lr(o.result),l.oldVersion,l.newVersion,Lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],jd=new Map;function Qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return jd.set(e,s),s}GR(t=>({...t,get:(e,n,r)=>Qv(e,n)||t.get(e,n,r),has:(e,n)=>!!Qv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dh="@firebase/app",Xv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Zp("@firebase/app"),tP="@firebase/app-compat",nP="@firebase/analytics-compat",rP="@firebase/analytics",iP="@firebase/app-check-compat",sP="@firebase/app-check",oP="@firebase/auth",aP="@firebase/auth-compat",lP="@firebase/database",cP="@firebase/data-connect",uP="@firebase/database-compat",dP="@firebase/functions",fP="@firebase/functions-compat",hP="@firebase/installations",pP="@firebase/installations-compat",mP="@firebase/messaging",gP="@firebase/messaging-compat",vP="@firebase/performance",yP="@firebase/performance-compat",_P="@firebase/remote-config",wP="@firebase/remote-config-compat",xP="@firebase/storage",CP="@firebase/storage-compat",EP="@firebase/firestore",SP="@firebase/vertexai",bP="@firebase/firestore-compat",kP="firebase",TP="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="[DEFAULT]",IP={[dh]:"fire-core",[tP]:"fire-core-compat",[rP]:"fire-analytics",[nP]:"fire-analytics-compat",[sP]:"fire-app-check",[iP]:"fire-app-check-compat",[oP]:"fire-auth",[aP]:"fire-auth-compat",[lP]:"fire-rtdb",[cP]:"fire-data-connect",[uP]:"fire-rtdb-compat",[dP]:"fire-fn",[fP]:"fire-fn-compat",[hP]:"fire-iid",[pP]:"fire-iid-compat",[mP]:"fire-fcm",[gP]:"fire-fcm-compat",[vP]:"fire-perf",[yP]:"fire-perf-compat",[_P]:"fire-rc",[wP]:"fire-rc-compat",[xP]:"fire-gcs",[CP]:"fire-gcs-compat",[EP]:"fire-fst",[bP]:"fire-fst-compat",[SP]:"fire-vertex","fire-js":"fire-js",[kP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,NP=new Map,hh=new Map;function Jv(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Si(t){const e=t.name;if(hh.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,t);for(const n of Ac.values())Jv(n,t);for(const n of NP.values())Jv(n,t);return!0}function Su(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new za("app","Firebase",RP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=TP;function Ox(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=bx()),!n)throw Fr.create("no-options");const s=Ac.get(i);if(s){if(Oc(n,s.options)&&Oc(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new FR(i);for(const l of hh.values())o.addComponent(l);const a=new PP(n,r,o);return Ac.set(i,a),a}function tm(t=fh){const e=Ac.get(t);if(!e&&t===fh&&bx())return Ox();if(!e)throw Fr.create("no-app",{appName:t});return e}function xn(t,e,n){var r;let i=(r=IP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Si(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebase-heartbeat-database",AP=1,xa="firebase-heartbeat-store";let Ud=null;function Ax(){return Ud||(Ud=QR(OP,AP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Ud}async function DP(t){try{const n=(await Ax()).transaction(xa),r=await n.objectStore(xa).get(Dx(t));return await n.done,r}catch(e){if(e instanceof or)Zn.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function Zv(t,e){try{const r=(await Ax()).transaction(xa,"readwrite");await r.objectStore(xa).put(e,Dx(t)),await r.done}catch(n){if(n instanceof or)Zn.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=1024,LP=30;class FP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ey();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>LP){const o=WP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ey(),{heartbeatsToSend:r,unsentEntries:i}=jP(this._heartbeatsCache.heartbeats),s=Nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zn.warn(n),""}}}function ey(){return new Date().toISOString().substring(0,10)}function jP(t,e=MP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ty(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ty(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ty(t){return Nc(JSON.stringify({version:2,heartbeats:t})).length}function WP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){Si(new $r("platform-logger",e=>new ZR(e),"PRIVATE")),Si(new $r("heartbeat",e=>new FP(e),"PRIVATE")),xn(dh,Xv,t),xn(dh,Xv,"esm2017"),xn("fire-js","")}BP("");var $P="firebase",zP="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn($P,zP,"app");var gn=function(){return gn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gn.apply(this,arguments)};function Ha(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HP(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Mx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VP=Mx,Lx=new za("auth","Firebase",Mx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Zp("@firebase/auth");function YP(t,...e){Dc.logLevel<=de.WARN&&Dc.warn(`Auth (${Li}): ${t}`,...e)}function Gl(t,...e){Dc.logLevel<=de.ERROR&&Dc.error(`Auth (${Li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw rm(t,...e)}function nn(t,...e){return rm(t,...e)}function nm(t,e,n){const r=Object.assign(Object.assign({},VP()),{[e]:n});return new za("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return nm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(t,"argument-error"),nm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Lx.create(t,...e)}function V(t,e,...n){if(!t)throw rm(e,...n)}function Fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gl(e),new Error(e)}function er(t,e){t||Fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KP(){return ny()==="http:"||ny()==="https:"}function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||_R()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=Jp()||Ix()}get(){return qP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Va(3e4,6e4);function sm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,i={}){return jx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Js(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return yR()||(c.referrerPolicy="no-referrer"),Fx.fetch()(Ux(t,t.config.apiHost,n,a),c)})}async function jx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XP),e);try{const i=new eO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nm(t,d,c);bn(t,d)}}catch(i){if(i instanceof or)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function ZP(t,e,n,r,i={}){const s=await Zs(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ux(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?im(t.config,i):`${t.config.apiScheme}://${i}`}class eO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),JP.get())})}}function Cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function Wx(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nO(t,e=!1){const n=$e(t),r=await n.getIdToken(e),i=om(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ko(Wd(i.auth_time)),issuedAtTime:Ko(Wd(i.iat)),expirationTime:Ko(Wd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wd(t){return Number(t)*1e3}function om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rc(n);return i?JSON.parse(i):(Gl("Failed to decode base64 JWT payload"),null)}catch(i){return Gl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ry(t){const e=om(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&rO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ca(t,Wx(n,{idToken:r}));V(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Bx(s.providerUserInfo):[],a=oO(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function sO(t){const e=$e(t);await Mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Bx(t){return t.map(e=>{var{providerId:n}=e,r=Ha(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e){const n=await jx(t,{},async()=>{const r=Js({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ux(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lO(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",sm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=ry(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await aO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ps;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ps,this.toJSON())}_performRefresh(){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ha(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nO(this,e)}reload(){return sO(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await Ca(this,tO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,h=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:C,isAnonymous:E,providerData:b,stsTokenManager:S}=n;V(_&&S,e,"internal-error");const k=ps.fromJSON(this.name,S);V(typeof _=="string",e,"internal-error"),fr(u,e.name),fr(f,e.name),V(typeof C=="boolean",e,"internal-error"),V(typeof E=="boolean",e,"internal-error"),fr(m,e.name),fr(w,e.name),fr(y,e.name),fr(x,e.name),fr(g,e.name),fr(h,e.name);const P=new jn({uid:_,auth:e,email:f,emailVerified:C,displayName:u,isAnonymous:E,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:k,createdAt:g,lastLoginAt:h});return b&&Array.isArray(b)&&(P.providerData=b.map(N=>Object.assign({},N))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new ps;i.updateFromServerResponse(n);const s=new jn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];V(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Bx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ps;a.updateFromIdToken(r);const l=new jn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;function Un(t){er(t instanceof Function,"Expected a class definition");let e=iy.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$x.type="NONE";const sy=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e,n){return`firebase:${t}:${e}:${n}`}class ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ms(Un(sy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Un(sy);const o=Kl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const u=jn._fromJSON(e,d);c!==s&&(a=u),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ms(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ms(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(qx(e))return"Webos";if(Hx(e))return"Safari";if((e.includes("chrome/")||Vx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zx(t=pt()){return/firefox\//i.test(t)}function Hx(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vx(t=pt()){return/crios\//i.test(t)}function Yx(t=pt()){return/iemobile/i.test(t)}function Gx(t=pt()){return/android/i.test(t)}function Kx(t=pt()){return/blackberry/i.test(t)}function qx(t=pt()){return/webos/i.test(t)}function am(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cO(t=pt()){var e;return am(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uO(){return wR()&&document.documentMode===10}function Qx(t=pt()){return am(t)||Gx(t)||qx(t)||Kx(t)||/windows phone/i.test(t)||Yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e=[]){let n;switch(t){case"Browser":n=oy(pt());break;case"Worker":n=`${oy(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",sm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=6;class pO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new dO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wx(this,{idToken:e}),r=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ut(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(vi(this));const n=e?$e(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fO(this),n=new pO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await ms.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bu(t){return $e(t)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gO(t){lm=t}function vO(t){return lm.loadJS(t)}function yO(){return lm.gapiScript}function _O(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e){const n=Su(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Oc(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function xO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CO(t,e,n){const r=bu(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Jx(e),{host:o,port:a}=EO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),SO()}function Jx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EO(t){const e=Jx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ly(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ly(o)}}}function ly(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(t,e){return ZP(t,"POST","/v1/accounts:signInWithIdp",sm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="http://localhost";class bi extends Zx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ha(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new bi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gs(e,n)}buildRequest(){const e={requestUri:bO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Js(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends cm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ya{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bi._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dn.credential(n,r)}catch{return null}}}Dn.GOOGLE_SIGN_IN_METHOD="google.com";Dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ya{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ya{constructor(){super("twitter.com")}static credential(e,n){return bi._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await jn._fromIdTokenResponse(e,r,i),o=cy(r);return new Ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cy(r);return new Ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lc(e,n,r,i)}}function eC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(t,s,e,r):s})}async function kO(t,e,n=!1){const r=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e,n=!1){const{auth:r}=t;if(Ut(r.app))return Promise.reject(vi(r));const i="reauthenticate";try{const s=await Ca(t,eC(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=om(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),Ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e,n=!1){if(Ut(t.app))return Promise.reject(vi(t));const r="signIn",i=await eC(t,r,e),s=await Ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function NO(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function RO(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function PO(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function OO(t){return $e(t).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=1e3,DO=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const MO=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ku(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await LO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ku.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=um("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(u){const f=u;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function jO(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function UO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BO(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",$O=1,jc="firebaseLocalStorage",aC="fbase_key";class Ga{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tu(t,e){return t.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function zO(){const t=indexedDB.deleteDatabase(oC);return new Ga(t).toPromise()}function gh(){const t=indexedDB.open(oC,$O);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jc,{keyPath:aC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jc)?e(r):(r.close(),await zO(),e(await gh()))})})}async function uy(t,e,n){const r=Tu(t,!0).put({[aC]:e,value:n});return new Ga(r).toPromise()}async function HO(t,e){const n=Tu(t,!1).get(e),r=await new Ga(n).toPromise();return r===void 0?null:r.value}function dy(t,e){const n=Tu(t,!0).delete(e);return new Ga(n).toPromise()}const VO=800,YO=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ku._getInstance(BO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gh();return await uy(e,Fc,"1"),await dy(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tu(i,!1).getAll();return new Ga(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const GO=lC;new Va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){return e?Un(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends Zx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KO(t){return IO(t.auth,new dm(t),t.bypassAuthState)}function qO(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),TO(n,new dm(t),t.bypassAuthState)}async function QO(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),kO(n,new dm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return qO;default:bn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Va(2e3,1e4);async function JO(t,e,n){if(Ut(t.app))return Promise.reject(nn(t,"operation-not-supported-in-this-environment"));const r=bu(t);GP(t,e,cm);const i=cC(r,n);return new fi(r,"signInViaPopup",e,i).executeNotNull()}class fi extends uC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fi.currentPopupAction&&fi.currentPopupAction.cancel(),fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XO.get())};e()}}fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="pendingRedirect",ql=new Map;class eA extends uC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ql.get(this.auth._key());if(!e){try{const r=await tA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ql.set(this.auth._key(),e)}return this.bypassAuthState||ql.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tA(t,e){const n=iA(e),r=rA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nA(t,e){ql.set(t._key(),e)}function rA(t){return Un(t._redirectPersistence)}function iA(t){return Kl(ZO,t.config.apiKey,t.name)}async function sA(t,e,n=!1){if(Ut(t.app))return Promise.reject(vi(t));const r=bu(t),i=cC(r,e),o=await new eA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=10*60*1e3;class aA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oA&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(e))}saveEventToCache(e){this.cachedEventUids.add(fy(e)),this.lastProcessedEventTime=Date.now()}}function fy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dA=/^https?/;async function fA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cA(t);for(const n of e)try{if(hA(n))return}catch{}bn(t,"unauthorized-domain")}function hA(t){const e=ph(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dA.test(n))return!1;if(uA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Va(3e4,6e4);function hy(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mA(t){return new Promise((e,n)=>{var r,i,s;function o(){hy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hy(),n(nn(t,"network-request-failed"))},timeout:pA.get()})}if(!((i=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)o();else{const a=_O("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(nn(t,"network-request-failed"))},vO(`${yO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ql=null,e})}let Ql=null;function gA(t){return Ql=Ql||mA(t),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Va(5e3,15e3),yA="__/auth/iframe",_A="emulator/auth/iframe",wA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CA(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?im(e,_A):`https://${t.config.authDomain}/${yA}`,r={apiKey:e.apiKey,appName:t.name,v:Li},i=xA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Js(r).slice(1)}`}async function EA(t){const e=await gA(t),n=Cn().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:CA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=nn(t,"network-request-failed"),a=Cn().setTimeout(()=>{s(o)},vA.get());function l(){Cn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bA=500,kA=600,TA="_blank",IA="http://localhost";class py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NA(t,e,n,r=bA,i=kA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SA),{width:r.toString(),height:i.toString(),top:s,left:o}),c=pt().toLowerCase();n&&(a=Vx(c)?TA:n),zx(c)&&(e=e||IA,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(cO(c)&&a!=="_self")return RA(e||"",a),new py(null);const u=window.open(e||"",a,d);V(u,t,"popup-blocked");try{u.focus()}catch{}return new py(u)}function RA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="__/auth/handler",OA="emulator/auth/handler",AA=encodeURIComponent("fac");async function my(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:i};if(e instanceof cm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries({}))o[d]=u}if(e instanceof Ya){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${AA}=${encodeURIComponent(l)}`:"";return`${DA(t)}?${Js(a).slice(1)}${c}`}function DA({config:t}){return t.emulator?im(t,OA):`https://${t.authDomain}/${PA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class MA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=sA,this._overrideRedirectResult=nA}async _openPopup(e,n,r,i){var s;er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await my(e,n,r,ph(),i);return NA(e,o,um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await my(e,n,r,ph(),i);return jO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EA(e),r=new aA(e);return n.register("authEvent",i=>(V(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bd,{type:Bd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bd];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qx()||Hx()||am()}}const LA=MA;var gy="@firebase/auth",vy="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UA(t){Si(new $r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(t)},c=new mO(r,i,s,l);return xO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Si(new $r("auth-internal",e=>{const n=bu(e.getProvider("auth").getImmediate());return(r=>new FA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(gy,vy,jA(t)),xn(gy,vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=5*60,BA=kx("authIdTokenMaxAge")||WA;let yy=null;const $A=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BA)return;const i=n==null?void 0:n.token;yy!==i&&(yy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zA(t=tm()){const e=Su(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wO(t,{popupRedirectResolver:LA,persistence:[GO,MO,iC]}),r=kx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=$A(s.toString());RO(n,o,()=>o(n.currentUser)),NO(n,a=>o(a))}}const i=Ex("auth");return i&&CO(n,`http://${i}`),n}function HA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=nn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UA("Browser");var _y={};const wy="@firebase/database",xy="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC="";function VA(t){fC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YA(e)}}catch{}return new GA},hi=hC("localStorage"),KA=hC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Zp("@firebase/database"),qA=function(){let t=1;return function(){return t++}}(),pC=function(t){const e=AR(t),n=new NR;n.update(e);const r=n.digest();return Qp.encodeByteArray(r)},Ka=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ka.apply(null,r):typeof r=="object"?e+=Qe(r):e+=r,e+=" "}return e};let qo=null,Cy=!0;const QA=function(t,e){R(!0,"Can't turn on custom loggers persistently."),vs.logLevel=de.VERBOSE,qo=vs.log.bind(vs)},Ze=function(...t){if(Cy===!0&&(Cy=!1,qo===null&&KA.get("logging_enabled")===!0&&QA()),qo){const e=Ka.apply(null,t);qo(e)}},qa=function(t){return function(...e){Ze(t,...e)}},vh=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ka(...t);vs.error(e)},tr=function(...t){const e=`FIREBASE FATAL ERROR: ${Ka(...t)}`;throw vs.error(e),new Error(e)},ht=function(...t){const e="FIREBASE WARNING: "+Ka(...t);vs.warn(e)},XA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},JA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ms="[MIN_NAME]",ki="[MAX_NAME]",Fi=function(t,e){if(t===e)return 0;if(t===Ms||e===ki)return-1;if(e===Ms||t===ki)return 1;{const n=Ey(t),r=Ey(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ZA=function(t,e){return t===e?0:t<e?-1:1},yo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},hm=function(t){if(typeof t!="object"||t===null)return Qe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qe(e[r]),n+=":",n+=hm(t[e[r]]);return n+="}",n},mC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const gC=function(t){R(!fm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let u="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),u=u+f}return u.toLowerCase()},eD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const rD=new RegExp("^-?(0*)\\d{1,10}$"),iD=-2147483648,sD=2147483647,Ey=function(t){if(rD.test(t)){const e=Number(t);if(e>=iD&&e<=sD)return e}return null},eo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},oD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ut(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}class Xl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="5",vC="v",yC="s",_C="r",wC="f",xC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CC="ls",EC="p",yh="ac",SC="websocket",bC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TC(t,e,n){R(typeof e=="string","typeof type must == string"),R(typeof n=="object","typeof params must == object");let r;if(e===SC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cD(t)&&(n.ns=t.namespace);const i=[];return rt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.counters_={}}incrementCounter(e,n=1){Nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d={},zd={};function mm(t){const e=t.toString();return $d[e]||($d[e]=new uD),$d[e]}function dD(t,e){const n=t.toString();return zd[n]||(zd[n]=e()),zd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&eo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="start",hD="close",pD="pLPCommand",mD="pRTLPCB",IC="id",NC="pw",RC="ser",gD="cb",vD="seg",yD="ts",_D="d",wD="dframe",PC=1870,OC=30,xD=PC-OC,CD=25e3,ED=3e4;class os{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qa(e),this.stats_=mm(n),this.urlFn=l=>(this.appCheckToken&&(l[yh]=this.appCheckToken),TC(n,bC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ED)),JA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gm((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Sy)this.id=a,this.password=l;else if(o===hD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sy]="t",r[RC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vC]=pm,this.transportSessionId&&(r[yC]=this.transportSessionId),this.lastSessionId&&(r[CC]=this.lastSessionId),this.applicationId&&(r[EC]=this.applicationId),this.appCheckToken&&(r[yh]=this.appCheckToken),typeof location<"u"&&location.hostname&&xC.test(location.hostname)&&(r[_C]=wC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){os.forceAllow_=!0}static forceDisallow(){os.forceDisallow_=!0}static isAvailable(){return os.forceAllow_?!0:!os.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eD()&&!tD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xx(n),i=mC(r,xD);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[wD]="t",r[IC]=e,r[NC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qA(),window[pD+this.uniqueCallbackIdentifier]=e,window[mD+this.uniqueCallbackIdentifier]=n,this.myIFrame=gm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[IC]=this.myID,e[NC]=this.myPW,e[RC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OC+r.length<=PC;){const o=this.pendingSegs.shift();r=r+"&"+vD+i+"="+o.seg+"&"+yD+i+"="+o.ts+"&"+_D+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(CD)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=16384,bD=45e3;let Uc=null;typeof MozWebSocket<"u"?Uc=MozWebSocket:typeof WebSocket<"u"&&(Uc=WebSocket);class Xt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qa(this.connId),this.stats_=mm(n),this.connURL=Xt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[vC]=pm,typeof location<"u"&&location.hostname&&xC.test(location.hostname)&&(o[_C]=wC),n&&(o[yC]=n),r&&(o[CC]=r),i&&(o[yh]=i),s&&(o[EC]=s),TC(e,SC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hi.set("previous_websocket_failure",!0);try{let r;xR(),this.mySock=new Uc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Uc!==null&&!Xt.forceDisallow_}static previouslyFailed(){return hi.isInMemoryStorage||hi.get("previous_websocket_failure")===!0}markConnectionHealthy(){hi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wa(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=mC(n,SD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static get ALL_TRANSPORTS(){return[os,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let r=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const i=this.transports_=[];for(const s of Ea.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ea.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ea.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=6e4,TD=5e3,ID=10*1024,ND=100*1024,Hd="t",by="d",RD="s",ky="r",PD="e",Ty="o",Iy="a",Ny="n",Ry="p",OD="h";class AD{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qa("c:"+this.id+":"),this.transportManager_=new Ea(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ND?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ID?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hd in e){const n=e[Hd];n===Iy?this.upgradeIfSecondaryHealthy_():n===ky?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ty&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yo("t",e),r=yo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Iy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yo("t",e),r=yo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yo(Hd,e);if(by in e){const r=e[by];if(n===OD){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===RD?this.onConnectionShutdown_(r):n===ky?this.onReset_(r):n===PD?vh("Server Error: "+r):n===Ty?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pm!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ry,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){R(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends DC{static getInstance(){return new Wc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return R(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=32,Oy=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new fe("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function vm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function DD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Sa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function Pe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new fe(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){const n=q(t),r=q(e);if(n===null)return e;if(n===r)return xt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function MD(t,e){const n=Sa(t,0),r=Sa(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Fi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function ym(t,e){if(zr(t)!==zr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(zr(t)>zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LD{constructor(e,n){this.errorPrefix_=n,this.parts_=Sa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Eu(this.parts_[r]);LC(this)}}function FD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Eu(e),LC(t)}function jD(t){const e=t.parts_.pop();t.byteLength_-=Eu(e),t.parts_.length>0&&(t.byteLength_-=1)}function LC(t){if(t.byteLength_>Oy)throw new Error(t.errorPrefix_+"has a key path longer than "+Oy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Py)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Py+") or object contains a cycle "+ai(t))}function ai(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends DC{static getInstance(){return new _m}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return R(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=1e3,UD=60*5*1e3,Ay=30*1e3,WD=1.3,BD=3e4,$D="server_kill",Dy=3;class Vn extends AC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Vn.nextPersistentConnectionId_++,this.log_=qa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_o,this.maxReconnectDelay_=UD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_m.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Qe(s)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new $a,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Vn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Nn(e,"w")){const r=As(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ay)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=TR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vh("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BD&&(this.reconnectDelay_=_o),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*WD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Vn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(u){R(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=f&&f.token,a=new AD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{ht(m+" ("+this.repoInfo_.toString()+")"),this.interrupt($D)},s))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&ht(u),l())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lh(this.interruptReasons_)&&(this.reconnectDelay_=_o,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>hm(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dy&&(this.reconnectDelay_=Ay,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+fC.replace(/\./g,"-")]=1,Jp()?e["framework.cordova"]=1:Ix()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wc.getInstance().currentlyOnline();return lh(this.interruptReasons_)&&e}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(Ms,e),i=new Q(Ms,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El;class FC extends Iu{static get __EMPTY_NODE(){return El}static set __EMPTY_NODE(e){El=e}compare(e,n){return Fi(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(ki,El)}makePost(e,n){return R(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,El)}toString(){return".key"}}const ys=new FC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Ct.EMPTY_NODE,this.right=s??Ct.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class zD{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Sl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Sl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Sl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Sl(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new zD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return Fi(t.name,e.name)}function wm(t,e){return Fi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;function VD(t){_h=t}const jC=function(t){return typeof t=="number"?"number:"+gC(t):"string:"+t},UC=function(t){if(t.isLeafNode()){const e=t.val();R(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Nn(e,".sv"),"Priority must be a string or number.")}else R(t===_h||t.isEmpty(),"priority of unexpected type.");R(t===_h||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My;class Ye{static set __childrenNodeConstructor(e){My=e}static get __childrenNodeConstructor(){return My}constructor(e,n=Ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:q(e)===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(R(r!==".priority"||zr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=gC(this.value_):e+=this.value_,this.lazyHash_=pC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ye.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ye.VALUE_TYPE_ORDER.indexOf(n),s=Ye.VALUE_TYPE_ORDER.indexOf(r);return R(i>=0,"Unknown leaf type: "+n),R(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WC,BC;function YD(t){WC=t}function GD(t){BC=t}class KD extends Iu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Fi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(ki,new Ye("[PRIORITY-POST]",BC))}makePost(e,n){const r=WC(e);return new Q(n,new Ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const Oe=new KD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=Math.log(2);class QD{constructor(e){const n=s=>parseInt(Math.log(s)/qD,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bc=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let u,f;if(d===0)return null;if(d===1)return u=t[l],f=n?n(u):u,new Ke(f,u.node,Ke.BLACK,null,null);{const m=parseInt(d/2,10)+l,w=i(l,m),y=i(m+1,c);return u=t[m],f=n?n(u):u,new Ke(f,u.node,Ke.BLACK,w,y)}},s=function(l){let c=null,d=null,u=t.length;const f=function(w,y){const x=u-w,g=u;u-=w;const h=i(x+1,g),_=t[x],C=n?n(_):_;m(new Ke(C,_.node,y,null,h))},m=function(w){c?(c.left=w,c=w):(d=w,c=w)};for(let w=0;w<l.count;++w){const y=l.nextBitIsOne(),x=Math.pow(2,l.count-(w+1));y?f(x,Ke.BLACK):(f(x,Ke.BLACK),f(x,Ke.RED))}return d},o=new QD(t.length),a=s(o);return new Ct(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;const zi={};class Wn{static get Default(){return R(zi&&Oe,"ChildrenNode.ts has not been loaded"),Vd=Vd||new Wn({".priority":zi},{".priority":Oe}),Vd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=As(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return Nn(this.indexSet_,e.toString())}addIndex(e,n){R(e!==ys,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Q.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Bc(r,e.getCompare()):a=zi;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Wn(d,c)}addToIndexes(e,n){const r=Pc(this.indexes_,(i,s)=>{const o=As(this.indexSet_,s);if(R(o,"Missing index implementation for "+s),i===zi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Q.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Bc(a,o.getCompare())}else return zi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new Wn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Pc(this.indexes_,i=>{if(i===zi)return i;{const s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new Wn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class B{static get EMPTY_NODE(){return wo||(wo=new B(new Ct(wm),null,Wn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UC(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wo:n}}getChild(e){const n=q(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(R(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Q(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?wo:this.priorityNode_;return new B(i,o,s)}}updateChild(e,n){const r=q(e);if(r===null)return n;{R(q(e)!==".priority"||zr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Oe,(o,a)=>{n[o]=a.val(e),r++,s&&B.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jC(this.getPriority().val())+":"),this.forEachChild(Oe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":pC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Q(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Q.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qa?-1:0}withIndex(e){if(e===ys||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ys||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Oe),i=n.getIterator(Oe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ys?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XD extends B{constructor(){super(new Ct(wm),B.EMPTY_NODE,Wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const Qa=new XD;Object.defineProperties(Q,{MIN:{value:new Q(Ms,B.EMPTY_NODE)},MAX:{value:new Q(ki,Qa)}});FC.__EMPTY_NODE=B.EMPTY_NODE;Ye.__childrenNodeConstructor=B;VD(Qa);GD(Qa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=!0;function qe(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),R(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ye(n,qe(e))}if(!(t instanceof Array)&&JD){const n=[];let r=!1;if(rt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),n.length===0)return B.EMPTY_NODE;const s=Bc(n,HD,o=>o.name,wm);if(r){const o=Bc(n,Oe.getCompare());return new B(s,qe(e),new Wn({".priority":o},{".priority":Oe}))}else return new B(s,qe(e),Wn.Default)}else{let n=B.EMPTY_NODE;return rt(t,(r,i)=>{if(Nn(t,r)&&r.substring(0,1)!=="."){const s=qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(qe(e))}}YD(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends Iu{constructor(e){super(),this.indexPath_=e,R(!X(e)&&q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Fi(e.name,n.name):s}makePost(e,n){const r=qe(e),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,Qa);return new Q(ki,e)}toString(){return Sa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM extends Iu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Fi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=qe(e);return new Q(n,r)}toString(){return".value"}}const tM=new eM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){return{type:"value",snapshotNode:t}}function Ls(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ba(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ba(n,a)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ls(n,r)):o.trackChildChange(ka(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Oe,(i,s)=>{n.hasChild(i)||r.trackChildChange(ba(i,s))}),n.isLeafNode()||n.forEachChild(Oe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ka(i,s,o))}else r.trackChildChange(Ls(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.indexedFilter_=new xm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ta.getStartPost_(e),this.endPost_=Ta.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Q(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const s=this;return n.forEachChild(Oe,(o,a)=>{s.matches(new Q(o,a))||(i=i.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ta(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Q(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const u=this.index_.getCompare();o=(f,m)=>u(m,f)}else o=this.index_.getCompare();const a=e;R(a.numChildren()===this.limit_,"");const l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const u=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(d&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ka(n,r,u)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ba(n,u));const y=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ls(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ba(c.name,c.node)),s.trackChildChange(Ls(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new Cm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iM(t){return t.loadsAllData()?new xm(t.getIndex()):t.hasLimit()?new rM(t):new Ta(t)}function Ly(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===tM?n="$value":t.index_===ys?n="$key":(R(t.index_ instanceof ZD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Fy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends AC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qa("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$c.getListenId_(e,r),a={};this.listens_[o]=a;const l=Ly(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(s,u,!1,r),As(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=$c.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ly(e._queryParams),r=e._path.toString(),i=new $a;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Js(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wa(a.responseText)}catch{ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(){return{value:null,children:new Map}}function zC(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,zc());const i=t.children.get(r);e=_e(e),zC(i,e,n)}}function wh(t,e,n){t.value!==null?n(e,t.value):oM(t,(r,i)=>{const s=new fe(e.toString()+"/"+r);wh(i,s,n)})}function oM(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=10*1e3,lM=30*1e3,cM=5*60*1e3;class uM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aM(e);const r=jy+(lM-jy)*Math.random();Qo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;rt(e,(i,s)=>{s>0&&Nn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*cM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function Em(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jt.ACK_USER_WRITE,this.source=Em()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new Hc(ie(),n,this.revert)}}else return R(q(this.path)===e,"operationForChild called for unrelated child."),new Hc(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.source=e,this.path=n,this.type=Jt.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new Ia(this.source,ie()):new Ia(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jt.OVERWRITE}operationForChild(e){return X(this.path)?new Ti(this.source,ie(),this.snap.getImmediateChild(e)):new Ti(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jt.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new Ti(this.source,ie(),n.value):new Fs(this.source,ie(),n)}else return R(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fs(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fM(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nM(o.childName,o.snapshotNode))}),xo(t,i,"child_removed",e,r,n),xo(t,i,"child_added",e,r,n),xo(t,i,"child_moved",s,r,n),xo(t,i,"child_changed",e,r,n),xo(t,i,"value",e,r,n),i}function xo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>pM(t,a,l)),o.forEach(a=>{const l=hM(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function hM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function pM(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e){return{eventCache:t,serverCache:e}}function Xo(t,e,n,r){return Nu(new Ii(e,n,r),t.serverCache)}function HC(t,e,n,r){return Nu(t.eventCache,new Ii(e,n,r))}function xh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ni(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd;const mM=()=>(Yd||(Yd=new Ct(ZA)),Yd);class ve{static fromObject(e){let n=new ve(null);return rt(e,(r,i)=>{n=n.set(new fe(r),i)}),n}constructor(e,n=mM()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(X(e))return null;{const r=q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Pe(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=q(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ve(null)}}set(e,n){if(X(e))return new ve(n,this.children);{const r=q(e),s=(this.children.get(r)||new ve(null)).set(_e(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(X(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(X(e))return n;{const r=q(e),s=(this.children.get(r)||new ve(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Pe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Pe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Pe(n,i),r):new ve(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new ve(null))}}function Jo(t,e,n){if(X(e))return new rn(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=xt(i,e);return s=s.updateChild(o,n),new rn(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new rn(s)}}}function Ch(t,e,n){let r=t;return rt(n,(i,s)=>{r=Jo(r,Pe(e,i),s)}),r}function Uy(t,e){if(X(e))return rn.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new rn(n)}}function Eh(t,e){return ji(t,e)!=null}function ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function Wy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function jr(t,e){if(X(e))return t;{const n=ji(t,e);return n!=null?new rn(new ve(n)):new rn(t.writeTree_.subtree(e))}}function Sh(t){return t.writeTree_.isEmpty()}function js(t,e){return VC(ie(),t.writeTree_,e)}function VC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(R(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=VC(Pe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){return qC(e,t)}function gM(t,e,n,r,i){R(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Jo(t.visibleWrites,e,n)),t.lastWriteId=r}function vM(t,e,n,r){R(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ch(t.visibleWrites,e,n),t.lastWriteId=r}function yM(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function _M(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);R(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&wM(a,r.path)?i=!1:Bt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return xM(t),!0;if(r.snap)t.visibleWrites=Uy(t.visibleWrites,r.path);else{const a=r.children;rt(a,l=>{t.visibleWrites=Uy(t.visibleWrites,Pe(r.path,l))})}return!0}else return!1}function wM(t,e){if(t.snap)return Bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bt(Pe(t.path,n),e))return!0;return!1}function xM(t){t.visibleWrites=YC(t.allWrites,CM,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CM(t){return t.visible}function YC(t,e,n){let r=rn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Bt(n,o)?(a=xt(n,o),r=Jo(r,a,s.snap)):Bt(o,n)&&(a=xt(o,n),r=Jo(r,ie(),s.snap.getChild(a)));else if(s.children){if(Bt(n,o))a=xt(n,o),r=Ch(r,a,s.children);else if(Bt(o,n))if(a=xt(o,n),X(a))r=Ch(r,ie(),s.children);else{const l=As(s.children,q(a));if(l){const c=l.getChild(_e(a));r=Jo(r,ie(),c)}}}else throw Xs("WriteRecord should have .snap or .children")}}return r}function GC(t,e,n,r,i){if(!r&&!i){const s=ji(t.visibleWrites,e);if(s!=null)return s;{const o=jr(t.visibleWrites,e);if(Sh(o))return n;if(n==null&&!Eh(o,ie()))return null;{const a=n||B.EMPTY_NODE;return js(o,a)}}}else{const s=jr(t.visibleWrites,e);if(!i&&Sh(s))return n;if(!i&&n==null&&!Eh(s,ie()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Bt(c.path,e)||Bt(e,c.path))},a=YC(t.allWrites,o,e),l=n||B.EMPTY_NODE;return js(a,l)}}}function EM(t,e,n){let r=B.EMPTY_NODE;const i=ji(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=jr(t.visibleWrites,e);return n.forEachChild(Oe,(o,a)=>{const l=js(jr(s,new fe(o)),a);r=r.updateImmediateChild(o,l)}),Wy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=jr(t.visibleWrites,e);return Wy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function SM(t,e,n,r,i){R(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Pe(e,n);if(Eh(t.visibleWrites,s))return null;{const o=jr(t.visibleWrites,s);return Sh(o)?i.getChild(n):js(o,i.getChild(n))}}function bM(t,e,n,r){const i=Pe(e,n),s=ji(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=jr(t.visibleWrites,i);return js(o,r.getNode().getImmediateChild(n))}else return null}function kM(t,e){return ji(t.visibleWrites,e)}function TM(t,e,n,r,i,s,o){let a;const l=jr(t.visibleWrites,e),c=ji(l,ie());if(c!=null)a=c;else if(n!=null)a=js(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],u=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&d.length<i;)u(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function IM(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Vc(t,e,n,r){return GC(t.writeTree,t.treePath,e,n,r)}function Tm(t,e){return EM(t.writeTree,t.treePath,e)}function By(t,e,n,r){return SM(t.writeTree,t.treePath,e,n,r)}function Yc(t,e){return kM(t.writeTree,Pe(t.treePath,e))}function NM(t,e,n,r,i,s){return TM(t.writeTree,t.treePath,e,n,r,i,s)}function Im(t,e,n){return bM(t.writeTree,t.treePath,e,n)}function KC(t,e){return qC(Pe(t.treePath,e),t.writeTree)}function qC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;R(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),R(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ka(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ba(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ls(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ka(r,e.snapshotNode,i.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const QC=new PM;class Nm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Im(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ni(this.viewCache_),s=NM(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){return{filter:t}}function AM(t,e){R(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function DM(t,e,n,r,i){const s=new RM;let o,a;if(n.type===Jt.OVERWRITE){const c=n;c.source.fromUser?o=bh(t,e,c.path,c.snap,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=Gc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Jt.MERGE){const c=n;c.source.fromUser?o=LM(t,e,c.path,c.children,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=kh(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Jt.ACK_USER_WRITE){const c=n;c.revert?o=UM(t,e,c.path,r,i,s):o=FM(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Jt.LISTEN_COMPLETE)o=jM(t,e,n.path,r,s);else throw Xs("Unknown operation type: "+n.type);const l=s.getChanges();return MM(e,o,l),{viewCache:o,changes:l}}function MM(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=xh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push($C(xh(e)))}}function XC(t,e,n,r,i,s){const o=e.eventCache;if(Yc(r,n)!=null)return e;{let a,l;if(X(n))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ni(e),d=c instanceof B?c:B.EMPTY_NODE,u=Tm(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const c=Vc(r,Ni(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=q(n);if(c===".priority"){R(zr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const u=By(r,n,d,l);u!=null?a=t.filter.updatePriority(d,u):a=o.getNode()}else{const d=_e(n);let u;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=By(r,n,o.getNode(),l);f!=null?u=o.getNode().getImmediateChild(c).updateChild(d,f):u=o.getNode().getImmediateChild(c)}else u=Im(r,c,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),c,u,d,i,s):a=o.getNode()}}return Xo(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Gc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),m,null)}else{const m=q(n);if(!l.isCompleteForPath(n)&&zr(n)>1)return e;const w=_e(n),x=l.getNode().getImmediateChild(m).updateChild(w,r);m===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),m,x,w,QC,null)}const u=HC(e,c,l.isFullyInitialized()||X(n),d.filtersNodes()),f=new Nm(i,u,s);return XC(t,u,n,i,f,a)}function bh(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new Nm(i,e,s);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Xo(e,c,!0,t.filter.filtersNodes());else{const u=q(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Xo(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),m=a.getNode().getImmediateChild(u);let w;if(X(f))w=r;else{const y=d.getCompleteChild(u);y!=null?vm(f)===".priority"&&y.getChild(MC(f)).isEmpty()?w=y:w=y.updateChild(f,r):w=B.EMPTY_NODE}if(m.equals(w))l=e;else{const y=t.filter.updateChild(a.getNode(),u,w,f,d,o);l=Xo(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $y(t,e){return t.eventCache.isCompleteForChild(e)}function LM(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Pe(n,l);$y(e,q(d))&&(a=bh(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Pe(n,l);$y(e,q(d))||(a=bh(t,a,d,c,i,s,o))}),a}function zy(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function kh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new ve(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((u,f)=>{if(d.hasChild(u)){const m=e.serverCache.getNode().getImmediateChild(u),w=zy(t,m,f);l=Gc(t,l,new fe(u),w,i,s,o,a)}}),c.children.inorderTraversal((u,f)=>{const m=!e.serverCache.isCompleteForChild(u)&&f.value===null;if(!d.hasChild(u)&&!m){const w=e.serverCache.getNode().getImmediateChild(u),y=zy(t,w,f);l=Gc(t,l,new fe(u),y,i,s,o,a)}}),l}function FM(t,e,n,r,i,s,o){if(Yc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Gc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(X(n)){let c=new ve(null);return l.getNode().forEachChild(ys,(d,u)=>{c=c.set(new fe(d),u)}),kh(t,e,n,c,i,s,a,o)}else return e}else{let c=new ve(null);return r.foreach((d,u)=>{const f=Pe(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),kh(t,e,n,c,i,s,a,o)}}function jM(t,e,n,r,i){const s=e.serverCache,o=HC(e,s.getNode(),s.isFullyInitialized()||X(n),s.isFiltered());return XC(t,o,n,r,QC,i)}function UM(t,e,n,r,i,s){let o;if(Yc(r,n)!=null)return e;{const a=new Nm(r,e,i),l=e.eventCache.getNode();let c;if(X(n)||q(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Vc(r,Ni(e));else{const u=e.serverCache.getNode();R(u instanceof B,"serverChildren would be complete if leaf node"),d=Tm(r,u)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=q(n);let u=Im(r,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,_e(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,B.EMPTY_NODE,_e(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vc(r,Ni(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Yc(r,ie())!=null,Xo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xm(r.getIndex()),s=iM(r);this.processor_=OM(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(B.EMPTY_NODE,a.getNode(),null),d=new Ii(l,o.isFullyInitialized(),i.filtersNodes()),u=new Ii(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Nu(u,d),this.eventGenerator_=new dM(this.query_)}get query(){return this.query_}}function BM(t){return t.viewCache_.serverCache.getNode()}function $M(t,e){const n=Ni(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function Hy(t){return t.eventRegistrations_.length===0}function zM(t,e){t.eventRegistrations_.push(e)}function Vy(t,e,n){const r=[];if(n){R(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yy(t,e,n,r){e.type===Jt.MERGE&&e.source.queryId!==null&&(R(Ni(t.viewCache_),"We should always have a full cache before handling merges"),R(xh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=DM(t.processor_,i,e,n,r);return AM(t.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,JC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function HM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Oe,(s,o)=>{r.push(Ls(s,o))}),n.isFullyInitialized()&&r.push($C(n.getNode())),JC(t,r,n.getNode(),e)}function JC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return fM(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc;class VM{constructor(){this.views=new Map}}function YM(t){R(!Kc,"__referenceConstructor has already been defined"),Kc=t}function GM(){return R(Kc,"Reference.ts has not been loaded"),Kc}function KM(t){return t.views.size===0}function Rm(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return R(s!=null,"SyncTree gave us an op for an invalid query."),Yy(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Yy(o,e,n,r));return s}}function qM(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Vc(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=Tm(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const c=Nu(new Ii(a,l,!1),new Ii(r,i,!1));return new WM(e,c)}return o}function QM(t,e,n,r,i,s){const o=qM(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),zM(o,n),HM(o,n)}function XM(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Hr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Vy(c,n,r)),Hy(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Vy(l,n,r)),Hy(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Hr(t)&&s.push(new(GM())(e._repo,e._path)),{removed:s,events:o}}function ZC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function _s(t,e){let n=null;for(const r of t.views.values())n=n||$M(r,e);return n}function eE(t,e){if(e._queryParams.loadsAllData())return Ru(t);{const r=e._queryIdentifier;return t.views.get(r)}}function tE(t,e){return eE(t,e)!=null}function Hr(t){return Ru(t)!=null}function Ru(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;function JM(t){R(!qc,"__referenceConstructor has already been defined"),qc=t}function ZM(){return R(qc,"Reference.ts has not been loaded"),qc}let eL=1;class Gy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=IM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nE(t,e,n,r,i){return gM(t.pendingWriteTree_,e,n,r,i),i?to(t,new Ti(Em(),e,n)):[]}function tL(t,e,n,r){vM(t.pendingWriteTree_,e,n,r);const i=ve.fromObject(n);return to(t,new Fs(Em(),e,i))}function Tr(t,e,n=!1){const r=yM(t.pendingWriteTree_,e);if(_M(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(ie(),!0):rt(r.children,o=>{s=s.set(new fe(o),!0)}),to(t,new Hc(r.path,s,n))}else return[]}function Pu(t,e,n){return to(t,new Ti(Sm(),e,n))}function nL(t,e,n){const r=ve.fromObject(n);return to(t,new Fs(Sm(),e,r))}function rL(t,e){return to(t,new Ia(Sm(),e))}function iL(t,e,n){const r=Om(t,n);if(r){const i=Am(r),s=i.path,o=i.queryId,a=xt(s,e),l=new Ia(bm(o),a);return Dm(t,s,l)}else return[]}function Th(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||tE(o,e))){const l=XM(o,e,n,r);KM(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(s,(f,m)=>Hr(m));if(d&&!u){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=aL(f);for(let w=0;w<m.length;++w){const y=m[w],x=y.query,g=sE(t,y);t.listenProvider_.startListening(Zo(x),Qc(t,x),g.hashFn,g.onComplete)}}}!u&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(Zo(e),null):c.forEach(f=>{const m=t.queryToTagMap.get(Ou(f));t.listenProvider_.stopListening(Zo(f),m)}))}lL(t,c)}return a}function sL(t,e,n,r){const i=Om(t,r);if(i!=null){const s=Am(i),o=s.path,a=s.queryId,l=xt(o,e),c=new Ti(bm(a),l,n);return Dm(t,o,c)}else return[]}function oL(t,e,n,r){const i=Om(t,r);if(i){const s=Am(i),o=s.path,a=s.queryId,l=xt(o,e),c=ve.fromObject(n),d=new Fs(bm(a),l,c);return Dm(t,o,d)}else return[]}function Ky(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const w=xt(f,i);s=s||_s(m,w),o=o||Hr(m)});let a=t.syncPointTree_.get(i);a?(o=o||Hr(a),s=s||_s(a,ie())):(a=new VM,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=B.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,w)=>{const y=_s(w,ie());y&&(s=s.updateImmediateChild(m,y))}));const c=tE(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ou(e);R(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=cL();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const d=km(t.pendingWriteTree_,i);let u=QM(a,e,n,d,s,l);if(!c&&!o&&!r){const f=eE(a,e);u=u.concat(uL(t,e,f))}return u}function Pm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=xt(o,e),c=_s(a,l);if(c)return c});return GC(i,e,s,n,!0)}function to(t,e){return rE(e,t.syncPointTree_,null,km(t.pendingWriteTree_,ie()))}function rE(t,e,n,r){if(X(t.path))return iE(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=_s(i,ie()));let s=[];const o=q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=KC(r,o);s=s.concat(rE(a,l,c,d))}return i&&(s=s.concat(Rm(i,t,r,n))),s}}function iE(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=_s(i,ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=KC(r,o),d=t.operationForChild(o);d&&(s=s.concat(iE(d,a,l,c)))}),i&&(s=s.concat(Rm(i,t,r,n))),s}function sE(t,e){const n=e.query,r=Qc(t,n);return{hashFn:()=>(BM(e)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?iL(t,n._path,r):rL(t,n._path);{const s=nD(i,n);return Th(t,n,null,s)}}}}function Qc(t,e){const n=Ou(e);return t.queryToTagMap.get(n)}function Ou(t){return t._path.toString()+"$"+t._queryIdentifier}function Om(t,e){return t.tagToQueryMap.get(e)}function Am(t){const e=t.indexOf("$");return R(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function Dm(t,e,n){const r=t.syncPointTree_.get(e);R(r,"Missing sync point for query tag that we're tracking");const i=km(t.pendingWriteTree_,e);return Rm(r,n,i,null)}function aL(t){return t.fold((e,n,r)=>{if(n&&Hr(n))return[Ru(n)];{let i=[];return n&&(i=ZC(n)),rt(r,(s,o)=>{i=i.concat(o)}),i}})}function Zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ZM())(t._repo,t._path):t}function lL(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ou(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function cL(){return eL++}function uL(t,e,n){const r=e._path,i=Qc(t,e),s=sE(t,n),o=t.listenProvider_.startListening(Zo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)R(!Hr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,u)=>{if(!X(c)&&d&&Hr(d))return[Ru(d).query];{let f=[];return d&&(f=f.concat(ZC(d).map(m=>m.query))),rt(u,(m,w)=>{f=f.concat(w)}),f}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(Zo(d),Qc(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mm(n)}node(){return this.node_}}class Lm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pe(this.path_,e);return new Lm(this.syncTree_,n)}node(){return Pm(this.syncTree_,this.path_)}}const dL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qy=function(t,e,n){if(!t||typeof t!="object")return t;if(R(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return hL(t[".sv"],e);R(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:R(!1,"Unexpected server value: "+t)}},hL=function(t,e,n){t.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&R(!1,"Unexpected increment value: "+r);const i=e.node();if(R(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},oE=function(t,e,n,r){return Fm(e,new Lm(n,t),r)},aE=function(t,e,n){return Fm(t,new Mm(e),n)};function Fm(t,e,n){const r=t.getPriority().val(),i=qy(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=qy(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ye(a,qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ye(i))),o.forEachChild(Oe,(a,l)=>{const c=Fm(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Um(t,e){let n=e instanceof fe?e:new fe(e),r=t,i=q(n);for(;i!==null;){const s=As(r.node.children,i)||{children:{},childCount:0};r=new jm(i,r,s),n=_e(n),i=q(n)}return r}function no(t){return t.node.value}function lE(t,e){t.node.value=e,Ih(t)}function cE(t){return t.node.childCount>0}function pL(t){return no(t)===void 0&&!cE(t)}function Au(t,e){rt(t.node.children,(n,r)=>{e(new jm(n,t,r))})}function uE(t,e,n,r){n&&e(t),Au(t,i=>{uE(i,e,!0)})}function mL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xa(t){return new fe(t.parent===null?t.name:Xa(t.parent)+"/"+t.name)}function Ih(t){t.parent!==null&&gL(t.parent,t.name,t)}function gL(t,e,n){const r=pL(n),i=Nn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ih(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ih(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/[\[\].#$\/\u0000-\u001F\u007F]/,yL=/[\[\].#$\u0000-\u001F\u007F]/,Gd=10*1024*1024,Wm=function(t){return typeof t=="string"&&t.length!==0&&!vL.test(t)},dE=function(t){return typeof t=="string"&&t.length!==0&&!yL.test(t)},_L=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dE(t)},wL=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!fm(t)||t&&typeof t=="object"&&Nn(t,".sv")},fE=function(t,e,n,r){r&&e===void 0||Du(Cu(t,"value"),e,n)},Du=function(t,e,n){const r=n instanceof fe?new LD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ai(r));if(typeof e=="function")throw new Error(t+"contains a function "+ai(r)+" with contents = "+e.toString());if(fm(e))throw new Error(t+"contains "+e.toString()+" "+ai(r));if(typeof e=="string"&&e.length>Gd/3&&Eu(e)>Gd)throw new Error(t+"contains a string greater than "+Gd+" utf8 bytes "+ai(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Wm(o)))throw new Error(t+" contains an invalid key ("+o+") "+ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FD(r,o),Du(t,a,r),jD(r)}),i&&s)throw new Error(t+' contains ".value" child '+ai(r)+" in addition to actual children.")}},xL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Sa(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Wm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(MD);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Bt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},CL=function(t,e,n,r){const i=Cu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];rt(e,(o,a)=>{const l=new fe(o);if(Du(i,a,Pe(n,l)),vm(l)===".priority"&&!wL(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),xL(i,s)},hE=function(t,e,n,r){if(!dE(n))throw new Error(Cu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},EL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hE(t,e,n)},Bm=function(t,e){if(q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},SL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_L(n))throw new Error(Cu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mu(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ym(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function pE(t,e,n){Mu(t,n),mE(t,r=>ym(r,e))}function an(t,e,n){Mu(t,n),mE(t,r=>Bt(r,e)||Bt(e,r))}function mE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(kL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function kL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();qo&&Ze("event: "+n.toString()),eo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="repo_interrupt",IL=25;class NL{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zc(),this.transactionQueueTree_=new jm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RL(t,e,n){if(t.stats_=mm(t.repoInfo_),t.forceRestClient_||oD())t.server_=new $c(t.repoInfo_,(r,i,s,o)=>{Qy(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vn(t.repoInfo_,e,(r,i,s,o)=>{Qy(t,r,i,s,o)},r=>{Xy(t,r)},r=>{PL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dD(t.repoInfo_,()=>new uM(t.stats_,t.server_)),t.infoData_=new sM,t.infoSyncTree_=new Gy({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$m(t,"connected",!1),t.serverSyncTree_=new Gy({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);an(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gE(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Lu(t){return dL({timestamp:gE(t)})}function Qy(t,e,n,r,i){t.dataUpdateCount++;const s=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Pc(n,c=>qe(c));o=oL(t.serverSyncTree_,s,l,i)}else{const l=qe(n);o=sL(t.serverSyncTree_,s,l,i)}else if(r){const l=Pc(n,c=>qe(c));o=nL(t.serverSyncTree_,s,l)}else{const l=qe(n);o=Pu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Us(t,s)),an(t.eventQueue_,a,o)}function Xy(t,e){$m(t,"connected",e),e===!1&&DL(t)}function PL(t,e){rt(e,(n,r)=>{$m(t,n,r)})}function $m(t,e,n){const r=new fe("/.info/"+e),i=qe(n);t.infoData_.updateSnapshot(r,i);const s=Pu(t.infoSyncTree_,r,i);an(t.eventQueue_,r,s)}function zm(t){return t.nextWriteId_++}function OL(t,e,n,r,i){Fu(t,"set",{path:e.toString(),value:n,priority:r});const s=Lu(t),o=qe(n,r),a=Pm(t.serverSyncTree_,e),l=aE(o,a,s),c=zm(t),d=nE(t.serverSyncTree_,e,l,c,!0);Mu(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const w=f==="ok";w||ht("set at "+e+" failed: "+f);const y=Tr(t.serverSyncTree_,c,!w);an(t.eventQueue_,e,y),Nh(t,i,f,m)});const u=Vm(t,e);Us(t,u),an(t.eventQueue_,u,[])}function AL(t,e,n,r){Fu(t,"update",{path:e.toString(),value:n});let i=!0;const s=Lu(t),o={};if(rt(n,(a,l)=>{i=!1,o[a]=oE(Pe(e,a),qe(l),t.serverSyncTree_,s)}),i)Ze("update() called with empty data.  Don't do anything."),Nh(t,r,"ok",void 0);else{const a=zm(t),l=tL(t.serverSyncTree_,e,o,a);Mu(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const u=c==="ok";u||ht("update at "+e+" failed: "+c);const f=Tr(t.serverSyncTree_,a,!u),m=f.length>0?Us(t,e):e;an(t.eventQueue_,m,f),Nh(t,r,c,d)}),rt(n,c=>{const d=Vm(t,Pe(e,c));Us(t,d)}),an(t.eventQueue_,e,[])}}function DL(t){Fu(t,"onDisconnectEvents");const e=Lu(t),n=zc();wh(t.onDisconnect_,ie(),(i,s)=>{const o=oE(i,s,t.serverSyncTree_,e);zC(n,i,o)});let r=[];wh(n,ie(),(i,s)=>{r=r.concat(Pu(t.serverSyncTree_,i,s));const o=Vm(t,i);Us(t,o)}),t.onDisconnect_=zc(),an(t.eventQueue_,ie(),r)}function ML(t,e,n){let r;q(e._path)===".info"?r=Ky(t.infoSyncTree_,e,n):r=Ky(t.serverSyncTree_,e,n),pE(t.eventQueue_,e._path,r)}function LL(t,e,n){let r;q(e._path)===".info"?r=Th(t.infoSyncTree_,e,n):r=Th(t.serverSyncTree_,e,n),pE(t.eventQueue_,e._path,r)}function FL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(TL)}function Fu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function Nh(t,e,n,r){e&&eo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function vE(t,e,n){return Pm(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function Hm(t,e=t.transactionQueueTree_){if(e||ju(t,e),no(e)){const n=_E(t,e);R(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&jL(t,Xa(e),n)}else cE(e)&&Au(e,n=>{Hm(t,n)})}function jL(t,e,n){const r=n.map(c=>c.currentWriteId),i=vE(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];R(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=xt(e,d.path);s=s.updateChild(u,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Fu(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const u=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Tr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&u.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ju(t,Um(t.transactionQueueTree_,e)),Hm(t,t.transactionQueueTree_),an(t.eventQueue_,e,d);for(let f=0;f<u.length;f++)eo(u[f])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{ht("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}Us(t,e)}},o)}function Us(t,e){const n=yE(t,e),r=Xa(n),i=_E(t,n);return UL(t,i,r),r}function UL(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=xt(n,l.path);let d=!1,u;if(R(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,i=i.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=IL)d=!0,u="maxretry",i=i.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=vE(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){Du("transaction failed: Data returned ",m,l.path);let w=qe(m);typeof m=="object"&&m!=null&&Nn(m,".priority")||(w=w.updatePriority(f.getPriority()));const x=l.currentWriteId,g=Lu(t),h=aE(w,f,g);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=h,l.currentWriteId=zm(t),o.splice(o.indexOf(x),1),i=i.concat(nE(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally)),i=i.concat(Tr(t.serverSyncTree_,x,!0))}else d=!0,u="nodata",i=i.concat(Tr(t.serverSyncTree_,l.currentWriteId,!0))}an(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}ju(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)eo(r[a]);Hm(t,t.transactionQueueTree_)}function yE(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);n!==null&&no(r)===void 0;)r=Um(r,n),e=_e(e),n=q(e);return r}function _E(t,e){const n=[];return wE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function wE(t,e,n){const r=no(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Au(e,i=>{wE(t,i,n)})}function ju(t,e){const n=no(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lE(e,n.length>0?n:void 0)}Au(e,r=>{ju(t,r)})}function Vm(t,e){const n=Xa(yE(t,e)),r=Um(t.transactionQueueTree_,e);return mL(r,i=>{Kd(t,i)}),Kd(t,r),uE(r,i=>{Kd(t,i)}),n}function Kd(t,e){const n=no(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(R(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(R(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?lE(e,void 0):n.length=s+1,an(t.eventQueue_,Xa(e),i);for(let o=0;o<r.length;o++)eo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function BL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jy=function(t,e){const n=$L(t),r=n.namespace;n.domain==="firebase.com"&&tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XA();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new fe(n.pathString)}},$L=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(i=WL(t.substring(d,u)));const f=BL(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zL=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Zy.charAt(n%64),n=Math.floor(n/64);R(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Zy.charAt(e[i]);return R(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class VL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:vm(this._path)}get ref(){return new Jr(this._repo,this._path)}get _queryIdentifier(){const e=Fy(this._queryParams),n=hm(e);return n==="{}"?"default":n}get _queryObject(){return Fy(this._queryParams)}isEqual(e){if(e=$e(e),!(e instanceof Ym))return!1;const n=this._repo===e._repo,r=ym(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+DD(this._path)}}class Jr extends Ym{constructor(e,n){super(e,n,new Cm,!1)}get parent(){const e=MC(this._path);return e===null?null:new Jr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=Na(this.ref,e);return new Xc(this._node.getChild(n),r,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Xc(i,Na(this.ref,r),Oe)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yn(t,e){return t=$e(t),t._checkNotDeleted("ref"),e!==void 0?Na(t._root,e):t._root}function Na(t,e){return t=$e(t),q(t._path)===null?EL("child","path",e):hE("child","path",e),new Jr(t._repo,Pe(t._path,e))}function Gm(t,e){t=$e(t),Bm("push",t._path),fE("push",e,t._path,!0);const n=gE(t._repo),r=zL(n),i=Na(t,r),s=Na(t,r);let o;return e!=null?o=CE(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function xE(t){return Bm("remove",t._path),CE(t,null)}function CE(t,e){t=$e(t),Bm("set",t._path),fE("set",e,t._path,!1);const n=new $a;return OL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function GL(t,e){CL("update",e,t._path);const n=new $a;return AL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Km{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new HL("value",this,new Xc(e.snapshotNode,new Jr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new VL(this,e,n):null}matches(e){return e instanceof Km?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function KL(t,e,n,r,i){const s=new YL(n,void 0),o=new Km(s);return ML(t._repo,t,o),()=>LL(t._repo,t,o)}function qm(t,e,n,r){return KL(t,"value",e)}YM(Jr);JM(Jr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="FIREBASE_DATABASE_EMULATOR_HOST",Rh={};let QL=!1;function XL(t,e,n,r){t.repoInfo_=new kC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function JL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jy(s,i),a=o.repoInfo,l;typeof process<"u"&&_y&&(l=_y[qL]),l?(s=`http://${l}?ns=${a.namespace}`,o=Jy(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new lD(t.name,t.options,e);SL("Invalid Firebase Database URL",o),X(o.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=e2(a,t,c,new aD(t,n));return new t2(d,t)}function ZL(t,e){const n=Rh[e];(!n||n[t.key]!==t)&&tr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),FL(t),delete n[t.key]}function e2(t,e,n,r){let i=Rh[e.name];i||(i={},Rh[e.name]=i);let s=i[t.toURLString()];return s&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new NL(t,QL,n,r),i[t.toURLString()]=s,s}class t2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jr(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tr("Cannot call "+e+" on a deleted database.")}}function n2(t=tm(),e){const n=Su(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Sx("database");r&&r2(n,...r)}return n}function r2(t,e,n,r={}){t=$e(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&tr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xl(Xl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Tx(r.mockUserToken,t.app.options.projectId);s=new Xl(o)}XL(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){VA(Li),Si(new $r("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return JL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xn(wy,xy,t),xn(wy,xy,"esm2017")}Vn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};i2();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebasestorage.googleapis.com",SE="storageBucket",s2=2*60*1e3,o2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends or{constructor(e,n,r=0){super(qd(e),`Firebase Storage: ${n} (${qd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ae;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ae||(Ae={}));function qd(t){return"storage/"+t}function Qm(){const t="An unknown error occurred, please check the error payload for server response.";return new De(Ae.UNKNOWN,t)}function a2(t){return new De(Ae.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l2(t){return new De(Ae.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new De(Ae.UNAUTHENTICATED,t)}function u2(){return new De(Ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d2(t){return new De(Ae.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f2(){return new De(Ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h2(){return new De(Ae.CANCELED,"User canceled the upload/download.")}function p2(t){return new De(Ae.INVALID_URL,"Invalid URL '"+t+"'.")}function m2(t){return new De(Ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g2(){return new De(Ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SE+"' property when initializing the app?")}function v2(){return new De(Ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y2(){return new De(Ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _2(t){return new De(Ae.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ph(t){return new De(Ae.INVALID_ARGUMENT,t)}function bE(){return new De(Ae.APP_DELETED,"The Firebase app was deleted.")}function w2(t){return new De(Ae.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ea(t,e){return new De(Ae.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Co(t){throw new De(Ae.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rt.makeFromUrl(e,n)}catch{return new Rt(e,"")}if(r.path==="")return r;throw m2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${u}/${d}/b/${i}/o${f}`,"i"),w={bucket:1,path:3},y=n===EE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:m,indices:w,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<_.length;C++){const E=_[C],b=E.regex.exec(e);if(b){const S=b[E.indices.bucket];let k=b[E.indices.path];k||(k=""),r=new Rt(S,k),E.postModify(r);break}}if(r==null)throw p2(e);return r}}class x2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function u(x){i=setTimeout(()=>{i=null,t(m,l())},x)}function f(){s&&clearTimeout(s)}function m(x,...g){if(c){f();return}if(x){f(),d.call(null,x,...g);return}if(l()||o){f(),d.call(null,x,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,u(_)}let w=!1;function y(x){w||(w=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),u(0)):x||(a=1)))}return u(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function E2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){return t!==void 0}function b2(t){return typeof t=="object"&&!Array.isArray(t)}function Xm(t){return typeof t=="string"||t instanceof String}function e_(t){return Jm()&&t instanceof Blob}function Jm(){return typeof Blob<"u"}function t_(t,e,n,r){if(r<e)throw Ph(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ph(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var yi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yi||(yi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,s,o,a,l,c,d,u,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=u,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,w)=>{this.resolve_=m,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===yi.NO_ERROR,l=s.getStatus();if(!a||k2(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===yi.ABORT;r(!1,new bl(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new bl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());S2(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Qm();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bE():h2();o(l)}else{const l=f2();o(l)}};this.canceled_?n(!1,new bl(!1,null,!0)):this.backoffId_=C2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function I2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function N2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function O2(t,e,n,r,i,s,o=!0){const a=kE(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return R2(c,e),I2(c,n),N2(c,s),P2(c,r),new T2(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D2(...t){const e=A2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jm())return new Blob(t);throw new De(Ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){if(typeof atob>"u")throw _2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qd{constructor(e,n){this.data=e,this.contentType=n||null}}function F2(t,e){switch(t){case vn.RAW:return new Qd(TE(e));case vn.BASE64:case vn.BASE64URL:return new Qd(IE(t,e));case vn.DATA_URL:return new Qd(U2(e),W2(e))}throw Qm()}function TE(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function j2(t){let e;try{e=decodeURIComponent(t)}catch{throw ea(vn.DATA_URL,"Malformed data URL.")}return TE(e)}function IE(t,e){switch(t){case vn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ea(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ea(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L2(e)}catch(i){throw i.message.includes("polyfill")?i:ea(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class NE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ea(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=B2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U2(t){const e=new NE(t);return e.base64?IE(vn.BASE64,e.rest):j2(e.rest)}function W2(t){return new NE(t).contentType}function B2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){let r=0,i="";e_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(e_(this.data_)){const r=this.data_,i=M2(r,e,n);return i===null?null:new Sr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Sr(r,!0)}}static getBlob(...e){if(Jm()){const n=e.map(r=>r instanceof Sr?r.data_:r);return new Sr(D2.apply(null,n))}else{const n=e.map(o=>Xm(o)?F2(vn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Sr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e;try{e=JSON.parse(t)}catch{return null}return b2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z2(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){return e}class ut{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||H2}}let kl=null;function V2(t){return!Xm(t)||t.length<2?t:PE(t)}function OE(){if(kl)return kl;const t=[];t.push(new ut("bucket")),t.push(new ut("generation")),t.push(new ut("metageneration")),t.push(new ut("name","fullPath",!0));function e(s,o){return V2(o)}const n=new ut("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ut("size");return i.xform=r,t.push(i),t.push(new ut("timeCreated")),t.push(new ut("updated")),t.push(new ut("md5Hash",null,!0)),t.push(new ut("cacheControl",null,!0)),t.push(new ut("contentDisposition",null,!0)),t.push(new ut("contentEncoding",null,!0)),t.push(new ut("contentLanguage",null,!0)),t.push(new ut("contentType",null,!0)),t.push(new ut("metadata","customMetadata",!0)),kl=t,kl}function Y2(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Rt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function G2(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Y2(r,t),r}function AE(t,e,n){const r=RE(e);return r===null?null:G2(t,r,n)}function K2(t,e,n,r){const i=RE(e);if(i===null||!Xm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,u=t.fullPath,f="/b/"+o(d)+"/o/"+o(u),m=Uu(f,n,r),w=kE({alt:"media",token:c});return m+w})[0]}function q2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Zm{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){if(!t)throw Qm()}function Q2(t,e){function n(r,i){const s=AE(t,i,e);return DE(s!==null),s}return n}function X2(t,e){function n(r,i){const s=AE(t,i,e);return DE(s!==null),K2(s,i,t.host,t._protocol)}return n}function ME(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=u2():i=c2():n.getStatus()===402?i=l2(t.bucket):n.getStatus()===403?i=d2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LE(t){const e=ME(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=a2(t.path)),s.serverResponse=i.serverResponse,s}return n}function J2(t,e,n){const r=e.fullServerUrl(),i=Uu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Zm(i,s,X2(t,n),o);return a.errorHandler=LE(e),a}function Z2(t,e){const n=e.fullServerUrl(),r=Uu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Zm(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=LE(e),a}function eF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=eF(null,e)),r}function nF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let C=0;C<2;C++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=tF(e,r,i),d=q2(c,n),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Sr.getBlob(u,r,f);if(m===null)throw v2();const w={name:c.fullPath},y=Uu(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,h=new Zm(y,x,Q2(t,n),g);return h.urlParams=w,h.headers=o,h.body=m.uploadData(),h.errorHandler=ME(e),h}class rF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Co("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Co("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Co("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Co("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Co("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iF extends rF{initXhr(){this.xhr_.responseType="text"}}function eg(){return new iF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this._service=e,n instanceof Rt?this._location=n:this._location=Rt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ri(e,n)}get root(){const e=new Rt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PE(this._location.path)}get storage(){return this._service}get parent(){const e=$2(this._location.path);if(e===null)return null;const n=new Rt(this._location.bucket,e);return new Ri(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw w2(e)}}function sF(t,e,n){t._throwIfRoot("uploadBytes");const r=nF(t.storage,t._location,OE(),new Sr(e,!0),n);return t.storage.makeRequestWithTokens(r,eg).then(i=>({metadata:i,ref:t}))}function oF(t){t._throwIfRoot("getDownloadURL");const e=J2(t.storage,t._location,OE());return t.storage.makeRequestWithTokens(e,eg).then(n=>{if(n===null)throw y2();return n})}function aF(t){t._throwIfRoot("deleteObject");const e=Z2(t.storage,t._location);return t.storage.makeRequestWithTokens(e,eg)}function lF(t,e){const n=z2(t._location.path,e),r=new Rt(t._location.bucket,n);return new Ri(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return/^[A-Za-z]+:\/\//.test(t)}function uF(t,e){return new Ri(t,e)}function FE(t,e){if(t instanceof tg){const n=t;if(n._bucket==null)throw g2();const r=new Ri(n,n._bucket);return e!=null?FE(r,e):r}else return e!==void 0?lF(t,e):t}function dF(t,e){if(e&&cF(e)){if(t instanceof tg)return uF(t,e);throw Ph("To use ref(service, url), the first argument must be a Storage instance.")}else return FE(t,e)}function n_(t,e){const n=e==null?void 0:e[SE];return n==null?null:Rt.makeFromBucketSpec(n,t)}function fF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Tx(i,t.app.options.projectId))}class tg{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=EE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s2,this._maxUploadRetryTime=o2,this._requests=new Set,i!=null?this._bucket=Rt.makeFromBucketSpec(i,this._host):this._bucket=n_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rt.makeFromBucketSpec(this._url,e):this._bucket=n_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ri(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new x2(bE());{const o=O2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const r_="@firebase/storage",i_="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="storage";function hF(t,e,n){return t=$e(t),sF(t,e,n)}function pF(t){return t=$e(t),oF(t)}function mF(t){return t=$e(t),aF(t)}function s_(t,e){return t=$e(t),dF(t,e)}function gF(t=tm(),e){t=$e(t);const r=Su(t,jE).getImmediate({identifier:e}),i=Sx("storage");return i&&vF(r,...i),r}function vF(t,e,n,r={}){fF(t,e,n,r)}function yF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new tg(n,r,i,e,Li)}function _F(){Si(new $r(jE,yF,"PUBLIC").setMultipleInstances(!0)),xn(r_,i_,""),xn(r_,i_,"esm2017")}_F();const wF={apiKey:"AIzaSyAw6EzMbqOzPGhx49ySETcfWOy29u-k6q8",authDomain:"sjmc-maintenance-system.firebaseapp.com",databaseURL:"https://sjmc-maintenance-system-default-rtdb.firebaseio.com",projectId:"sjmc-maintenance-system",storageBucket:"sjmc-maintenance-system.firebasestorage.app",messagingSenderId:"329890240876",appId:"1:329890240876:web:0530e95d37ebc3f8c7fb49"},ng=Ox(wF),Jl=zA(ng),Gn=n2(ng),o_=gF(ng),UE=p.createContext({});function xF({children:t}){const[e,n]=p.useState(null),[r,i]=p.useState(!0),[s,o]=p.useState(null);p.useEffect(()=>Jl.onAuthStateChanged(u=>{n(u),i(!1)}),[]);const c={user:e,loading:r,signIn:async()=>{const d=new Dn;try{return(await JO(Jl,d)).user}catch(u){throw console.error("Auth Error:",u),u}},signOut:()=>OO(Jl),userRole:s};return v.jsx(UE.Provider,{value:c,children:!r&&t})}const WE=()=>p.useContext(UE);function K(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function CF(t,e){const n=p.createContext(e),r=s=>{const{children:o,...a}=s,l=p.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ui(t,e=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=u=>{var g;const{scope:f,children:m,...w}=u,y=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,x=p.useMemo(()=>w,Object.values(w));return v.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function d(u,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=p.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,EF(i,...e)]}function EF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function a_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BE(...t){return e=>{let n=!1;const r=t.map(i=>{const s=a_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():a_(t[i],null)}}}}function ke(...t){return p.useCallback(BE(...t),t)}var Vr=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=p.Children.toArray(n),s=i.find(bF);if(s){const o=s.props.children,a=i.map(l=>l===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return v.jsx(Oh,{...r,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return v.jsx(Oh,{...r,ref:e,children:n})});Vr.displayName="Slot";var Oh=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const i=TF(n),s=kF(r,n.props);return n.type!==p.Fragment&&(s.ref=e?BE(e,i):i),p.cloneElement(n,s)}return p.Children.count(n)>1?p.Children.only(null):null});Oh.displayName="SlotClone";var SF=({children:t})=>v.jsx(v.Fragment,{children:t});function bF(t){return p.isValidElement(t)&&t.type===SF}function kF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function TF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $E(t){const e=t+"CollectionProvider",[n,r]=Ui(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,x=D.useRef(null),g=D.useRef(new Map).current;return v.jsx(i,{scope:w,itemMap:g,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=D.forwardRef((m,w)=>{const{scope:y,children:x}=m,g=s(a,y),h=ke(w,g.collectionRef);return v.jsx(Vr,{ref:h,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",u=D.forwardRef((m,w)=>{const{scope:y,children:x,...g}=m,h=D.useRef(null),_=ke(w,h),C=s(c,y);return D.useEffect(()=>(C.itemMap.set(h,{ref:h,...g}),()=>void C.itemMap.delete(h))),v.jsx(Vr,{[d]:"",ref:_,children:x})});u.displayName=c;function f(m){const w=s(t+"CollectionConsumer",m);return D.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((C,E)=>g.indexOf(C.ref.current)-g.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:u},f,r]}var mt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},IF=_T.useId||(()=>{}),NF=0;function Kn(t){const[e,n]=p.useState(IF());return mt(()=>{n(r=>r??String(NF++))},[t]),e?`radix-${e}`:""}var RF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],re=RF.reduce((t,e)=>{const n=p.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Vr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function PF(t,e){t&&Gs.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ws({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=OF({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=kn(n),l=p.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function OF({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),s=kn(e);return p.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var AF=p.createContext(void 0);function rg(t){const e=p.useContext(AF);return t||e||"ltr"}var Xd="rovingFocusGroup.onEntryFocus",DF={bubbles:!1,cancelable:!0},Wu="RovingFocusGroup",[Ah,zE,MF]=$E(Wu),[LF,HE]=Ui(Wu,[MF]),[FF,jF]=LF(Wu),VE=p.forwardRef((t,e)=>v.jsx(Ah.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Ah.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(UF,{...t,ref:e})})}));VE.displayName=Wu;var UF=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=t,f=p.useRef(null),m=ke(e,f),w=rg(s),[y=null,x]=Ws({prop:o,defaultProp:a,onChange:l}),[g,h]=p.useState(!1),_=kn(c),C=zE(n),E=p.useRef(!1),[b,S]=p.useState(0);return p.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(Xd,_),()=>k.removeEventListener(Xd,_)},[_]),v.jsx(FF,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:y,onItemFocus:p.useCallback(k=>x(k),[x]),onItemShiftTab:p.useCallback(()=>h(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>S(k=>k-1),[]),children:v.jsx(re.div,{tabIndex:g||b===0?-1:0,"data-orientation":r,...u,ref:m,style:{outline:"none",...t.style},onMouseDown:K(t.onMouseDown,()=>{E.current=!0}),onFocus:K(t.onFocus,k=>{const P=!E.current;if(k.target===k.currentTarget&&P&&!g){const N=new CustomEvent(Xd,DF);if(k.currentTarget.dispatchEvent(N),!N.defaultPrevented){const F=C().filter(j=>j.focusable),A=F.find(j=>j.active),$=F.find(j=>j.id===y),Z=[A,$,...F].filter(Boolean).map(j=>j.ref.current);KE(Z,d)}}E.current=!1}),onBlur:K(t.onBlur,()=>h(!1))})})}),YE="RovingFocusGroupItem",GE=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Kn(),l=s||a,c=jF(YE,n),d=c.currentTabStopId===l,u=zE(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return p.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),v.jsx(Ah.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:v.jsx(re.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:K(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:K(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:K(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=$F(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=u().filter(h=>h.focusable).map(h=>h.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const h=g.indexOf(w.currentTarget);g=c.loop?zF(g,h+1):g.slice(h+1)}setTimeout(()=>KE(g))}})})})});GE.displayName=YE;var WF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $F(t,e,n){const r=BF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WF[r]}function KE(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HF=VE,VF=GE;function YF(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Wi=t=>{const{present:e,children:n}=t,r=GF(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=ke(r.ref,KF(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:s}):null};Wi.displayName="Presence";function GF(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),s=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=YF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Tl(r.current);s.current=a==="mounted"?c:"none"},[a]),mt(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,m=Tl(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),mt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=m=>{const y=Tl(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(s.current=Tl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Tl(t){return(t==null?void 0:t.animationName)||"none"}function KF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ig="Tabs",[qF,Nz]=Ui(ig,[HE]),qE=HE(),[QF,sg]=qF(ig),QE=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=rg(a),[u,f]=Ws({prop:r,onChange:i,defaultProp:s});return v.jsx(QF,{scope:n,baseId:Kn(),value:u,onValueChange:f,orientation:o,dir:d,activationMode:l,children:v.jsx(re.div,{dir:d,"data-orientation":o,...c,ref:e})})});QE.displayName=ig;var XE="TabsList",JE=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=sg(XE,n),o=qE(n);return v.jsx(HF,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(re.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});JE.displayName=XE;var ZE="TabsTrigger",eS=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=sg(ZE,n),a=qE(n),l=rS(o.baseId,r),c=iS(o.baseId,r),d=r===o.value;return v.jsx(VF,{asChild:!0,...a,focusable:!i,active:d,children:v.jsx(re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:K(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:K(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:K(t.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!i&&u&&o.onValueChange(r)})})})});eS.displayName=ZE;var tS="TabsContent",nS=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=sg(tS,n),l=rS(a.baseId,r),c=iS(a.baseId,r),d=r===a.value,u=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),v.jsx(Wi,{present:i||d,children:({present:f})=>v.jsx(re.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:f&&s})})});nS.displayName=tS;function rS(t,e){return`${t}-trigger-${e}`}function iS(t,e){return`${t}-content-${e}`}var XF=QE,sS=JE,oS=eS,aS=nS;function lS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lS(t))&&(r&&(r+=" "),r+=e);return r}const og="-",JF=t=>{const e=ej(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(og);return a[0]===""&&a.length!==1&&a.shift(),uS(a,e)||ZF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?uS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(og);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},l_=/^\[(.+)\]$/,ZF=t=>{if(l_.test(t)){const e=l_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ej=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nj(Object.entries(t.classGroups),n).forEach(([s,o])=>{Dh(o,r,s,e)}),r},Dh=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:c_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(tj(i)){Dh(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Dh(o,c_(e,s),n,r)})})},c_=(t,e)=>{let n=t;return e.split(og).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tj=t=>t.isThemeGetter,nj=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,rj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},dS="!",ij=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let x=0;x<a.length;x++){let g=a[x];if(c===0){if(g===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(g==="/"){u=x;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(dS),w=m?f.substring(1):f,y=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},sj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},oj=t=>({cache:rj(t.cacheSize),parseClassName:ij(t),...JF(t)}),aj=/\s+/,lj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(aj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?f.substring(0,m):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=sj(d).join(":"),g=u?x+dS:x,h=g+y;if(s.includes(h))continue;s.push(h);const _=i(y,w);for(let C=0;C<_.length;++C){const E=_[C];s.push(g+E)}a=c+(a.length>0?" "+a:a)}return a};function cj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fS(e))&&(r&&(r+=" "),r+=n);return r}const fS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fS(t[r]))&&(n&&(n+=" "),n+=e);return n};function uj(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=oj(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=lj(l,n);return i(l,d),d}return function(){return s(cj.apply(null,arguments))}}const xe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hS=/^\[(?:([a-z-]+):)?(.+)\]$/i,dj=/^\d+\/\d+$/,fj=new Set(["px","full","screen"]),hj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pn=t=>ws(t)||fj.has(t)||dj.test(t),hr=t=>ro(t,"length",bj),ws=t=>!!t&&!Number.isNaN(Number(t)),Jd=t=>ro(t,"number",ws),Eo=t=>!!t&&Number.isInteger(Number(t)),yj=t=>t.endsWith("%")&&ws(t.slice(0,-1)),G=t=>hS.test(t),pr=t=>hj.test(t),_j=new Set(["length","size","percentage"]),wj=t=>ro(t,_j,pS),xj=t=>ro(t,"position",pS),Cj=new Set(["image","url"]),Ej=t=>ro(t,Cj,Tj),Sj=t=>ro(t,"",kj),So=()=>!0,ro=(t,e,n)=>{const r=hS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bj=t=>pj.test(t)&&!mj.test(t),pS=()=>!1,kj=t=>gj.test(t),Tj=t=>vj.test(t),Ij=()=>{const t=xe("colors"),e=xe("spacing"),n=xe("blur"),r=xe("brightness"),i=xe("borderColor"),s=xe("borderRadius"),o=xe("borderSpacing"),a=xe("borderWidth"),l=xe("contrast"),c=xe("grayscale"),d=xe("hueRotate"),u=xe("invert"),f=xe("gap"),m=xe("gradientColorStops"),w=xe("gradientColorStopPositions"),y=xe("inset"),x=xe("margin"),g=xe("opacity"),h=xe("padding"),_=xe("saturate"),C=xe("scale"),E=xe("sepia"),b=xe("skew"),S=xe("space"),k=xe("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",G,e],A=()=>[G,e],$=()=>["",Pn,hr],Y=()=>["auto",ws,G],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",G],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ws,G];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[Pn,hr],blur:["none","",pr,G],brightness:H(),borderColor:[t],borderRadius:["none","","full",pr,G],borderSpacing:A(),borderWidth:$(),contrast:H(),grayscale:O(),hueRotate:H(),invert:O(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[yj,hr],inset:F(),margin:F(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:O(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[pr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),G]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo,G]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Eo,G]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",Eo,G]},G]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[Eo,G]},G]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,e]}],"min-w":[{"min-w":[G,e,"min","max","fit"]}],"max-w":[{"max-w":[G,e,"none","full","min","max","fit","prose",{screen:[pr]},pr]}],h:[{h:[G,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jd]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",ws,Jd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pn,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn,hr]}],"underline-offset":[{"underline-offset":["auto",Pn,G]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),xj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ej]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Pn,G]}],"outline-w":[{outline:[Pn,hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Pn,hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pr,Sj]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pr,G]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Eo,G]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pn,hr,Jd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nj=uj(Ij);function ne(...t){return Nj(cS(t))}const mS=XF,ag=p.forwardRef(({className:t,...e},n)=>v.jsx(sS,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ag.displayName=sS.displayName;const xs=p.forwardRef(({className:t,...e},n)=>v.jsx(oS,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xs.displayName=oS.displayName;const Cs=p.forwardRef(({className:t,...e},n)=>v.jsx(aS,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Cs.displayName=aS.displayName;/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(t,e)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>p.createElement("svg",{ref:d,...Rj,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Pj(t)}`,a].join(" "),...c},[...e.map(([u,f])=>p.createElement(u,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ze("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=ze("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vS=6048e5,Qj=864e5,u_=Symbol.for("constructDateFrom");function Be(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&u_ in t?t[u_](e):t instanceof Date?new t.constructor(e):new Date(e)}function he(t,e){return Be(e||t,t)}function yS(t,e,n){const r=he(t,n==null?void 0:n.in);return isNaN(e)?Be(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function _S(t,e,n){const r=he(t,n==null?void 0:n.in);if(isNaN(e))return Be(t,NaN);if(!e)return r;const i=r.getDate(),s=Be(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let Xj={};function Ja(){return Xj}function Bs(t,e){var a,l,c,d;const n=Ja(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=he(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ra(t,e){return Bs(t,{...e,weekStartsOn:1})}function wS(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=Be(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ra(i),o=Be(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Ra(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function d_(t){const e=he(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function io(t,...e){const n=Be.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Pa(t,e){const n=he(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function xS(t,e,n){const[r,i]=io(n==null?void 0:n.in,t,e),s=Pa(r),o=Pa(i),a=+s-d_(s),l=+o-d_(o);return Math.round((a-l)/Qj)}function Jj(t,e){const n=wS(t,e),r=Be(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ra(r)}function Zj(t,e,n){return yS(t,e*7,n)}function eU(t,e,n){return _S(t,e*12,n)}function tU(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Be.bind(null,i));const s=he(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Be(r,n||NaN)}function nU(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Be.bind(null,i));const s=he(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),Be(r,n||NaN)}function rU(t,e,n){const[r,i]=io(n==null?void 0:n.in,t,e);return+Pa(r)==+Pa(i)}function CS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iU(t){return!(!CS(t)&&typeof t!="number"||isNaN(+he(t)))}function sU(t,e,n){const[r,i]=io(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function oU(t,e){const n=he(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function aU(t,e){const[n,r]=io(t,e.start,e.end);return{start:n,end:r}}function lU(t,e){const{start:n,end:r}=aU(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const l=[];for(;+o<=s;)l.push(Be(n,o)),o.setMonth(o.getMonth()+a);return i?l.reverse():l}function cU(t,e){const n=he(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function uU(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function ES(t,e){const n=he(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function SS(t,e){var a,l,c,d;const n=Ja(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=he(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function dU(t,e){return SS(t,{...e,weekStartsOn:1})}const fU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hU=(t,e,n)=>{let r;const i=fU[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Zd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vU={date:Zd({formats:pU,defaultWidth:"full"}),time:Zd({formats:mU,defaultWidth:"full"}),dateTime:Zd({formats:gU,defaultWidth:"full"})},yU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_U=(t,e,n,r)=>yU[t];function bo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kU=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TU={ordinalNumber:kU,era:bo({values:wU,defaultWidth:"wide"}),quarter:bo({values:xU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bo({values:CU,defaultWidth:"wide"}),day:bo({values:EU,defaultWidth:"wide"}),dayPeriod:bo({values:SU,defaultWidth:"wide",formattingValues:bU,defaultFormattingWidth:"wide"})};function ko(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?NU(a,u=>u.test(o)):IU(a,u=>u.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function IU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function RU(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const PU=/^(\d+)(th|st|nd|rd)?/i,OU=/\d+/i,AU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DU={any:[/^b/i,/^(a|c)/i]},MU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LU={any:[/1/i,/2/i,/3/i,/4/i]},FU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$U={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zU={ordinalNumber:RU({matchPattern:PU,parsePattern:OU,valueCallback:t=>parseInt(t,10)}),era:ko({matchPatterns:AU,defaultMatchWidth:"wide",parsePatterns:DU,defaultParseWidth:"any"}),quarter:ko({matchPatterns:MU,defaultMatchWidth:"wide",parsePatterns:LU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ko({matchPatterns:FU,defaultMatchWidth:"wide",parsePatterns:jU,defaultParseWidth:"any"}),day:ko({matchPatterns:UU,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any"}),dayPeriod:ko({matchPatterns:BU,defaultMatchWidth:"any",parsePatterns:$U,defaultParseWidth:"any"})},lg={code:"en-US",formatDistance:hU,formatLong:vU,formatRelative:_U,localize:TU,match:zU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HU(t,e){const n=he(t,e==null?void 0:e.in);return xS(n,ES(n))+1}function bS(t,e){const n=he(t,e==null?void 0:e.in),r=+Ra(n)-+Jj(n);return Math.round(r/vS)+1}function kS(t,e){var d,u,f,m;const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ja(),s=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Be((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Bs(o,e),l=Be((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Bs(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function VU(t,e){var a,l,c,d;const n=Ja(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=kS(t,e),s=Be((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Bs(s,e)}function TS(t,e){const n=he(t,e==null?void 0:e.in),r=+Bs(n,e)-+VU(n,e);return Math.round(r/vS)+1}function le(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const mr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return le(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):le(n+1,2)},d(t,e){return le(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return le(t.getHours()%12||12,e.length)},H(t,e){return le(t.getHours(),e.length)},m(t,e){return le(t.getMinutes(),e.length)},s(t,e){return le(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return le(i,e.length)}},Hi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mr.y(t,e)},Y:function(t,e,n,r){const i=kS(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return le(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):le(s,e.length)},R:function(t,e){const n=wS(t);return le(n,e.length)},u:function(t,e){const n=t.getFullYear();return le(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return mr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=TS(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):le(i,e.length)},I:function(t,e,n){const r=bS(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):le(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mr.d(t,e)},D:function(t,e,n){const r=HU(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):le(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return le(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return le(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return le(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Hi.noon:r===0?i=Hi.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Hi.evening:r>=12?i=Hi.afternoon:r>=4?i=Hi.morning:i=Hi.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):le(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):le(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mr.s(t,e)},S:function(t,e){return mr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return p_(r);case"XXXX":case"XX":return li(r);case"XXXXX":case"XXX":default:return li(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return p_(r);case"xxxx":case"xx":return li(r);case"xxxxx":case"xxx":default:return li(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+h_(r,":");case"OOOO":default:return"GMT"+li(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+h_(r,":");case"zzzz":default:return"GMT"+li(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return le(r,e.length)},T:function(t,e,n){return le(+t,e.length)}};function h_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+le(s,2)}function p_(t,e){return t%60===0?(t>0?"-":"+")+le(Math.abs(t)/60,2):li(t,e)}function li(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=le(Math.trunc(r/60),2),s=le(r%60,2);return n+i+e+s}const m_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},IS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},YU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return m_(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",m_(r,e)).replace("{{time}}",IS(i,e))},GU={p:IS,P:YU},KU=/^D+$/,qU=/^Y+$/,QU=["D","DD","YY","YYYY"];function XU(t){return KU.test(t)}function JU(t){return qU.test(t)}function ZU(t,e,n){const r=eW(t,e,n);if(console.warn(r),QU.includes(t))throw new RangeError(r)}function eW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rW=/^'([^]*?)'?$/,iW=/''/g,sW=/[a-zA-Z]/;function Es(t,e,n){var d,u,f,m,w,y,x,g;const r=Ja(),i=(n==null?void 0:n.locale)??r.locale??lg,s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,a=he(t,n==null?void 0:n.in);if(!iU(a))throw new RangeError("Invalid time value");let l=e.match(nW).map(h=>{const _=h[0];if(_==="p"||_==="P"){const C=GU[_];return C(h,i.formatLong)}return h}).join("").match(tW).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const _=h[0];if(_==="'")return{isToken:!1,value:oW(h)};if(f_[_])return{isToken:!0,value:h};if(_.match(sW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(h=>{if(!h.isToken)return h.value;const _=h.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&JU(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XU(_))&&ZU(_,e,String(t));const C=f_[_[0]];return C(a,_,i.localize,c)}).join("")}function oW(t){const e=t.match(rW);return e?e[1].replace(iW,"'"):t}function aW(t,e){const n=he(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=Be(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function lW(t,e){return he(t,e==null?void 0:e.in).getMonth()}function cW(t,e){return he(t,e==null?void 0:e.in).getFullYear()}function uW(t,e){return+he(t)>+he(e)}function dW(t,e){return+he(t)<+he(e)}function fW(t,e,n){const[r,i]=io(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function hW(t,e,n){const[r,i]=io(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function pW(t,e,n){const r=he(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=Be(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=aW(o);return r.setMonth(e,Math.min(s,a)),r}function mW(t,e,n){const r=he(t,n==null?void 0:n.in);return isNaN(+r)?Be(t,NaN):(r.setFullYear(e),r)}const g_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v_=cS,cg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const f=g_(d)||g_(u);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...m}=d;return Object.entries(m).every(w=>{let[y,x]=w;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,u,f]:c},[]);return v_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Mh=cg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),et=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Vr:"button";return v.jsx(o,{className:ne(Mh({variant:e,size:n,className:t})),ref:s,...i})});et.displayName="Button";var W;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(W||(W={}));var ye;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(ye||(ye={}));var Zt;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Zt||(Zt={}));const ef={},Po={};function ta(t,e){try{const r=(ef[t]||(ef[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Po?Po[r]:y_(r,r.split(":"))}catch{if(t in Po)return Po[t];const n=t==null?void 0:t.match(gW);return n?y_(t,n.slice(1)):NaN}}const gW=/([+-]\d\d):?(\d\d)?/;function y_(t,e){const n=+e[0],r=+(e[1]||0);return Po[t]=n>0?n*60+r:n*60-r}class yn extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ta(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),NS(this),Lh(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new yn(...n,e):new yn(Date.now(),e)}withTimeZone(e){return new yn(+this,e)}getTimezoneOffset(){return-ta(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Lh(this),+this}[Symbol.for("constructDateFrom")](e){return new yn(+new Date(e),this.timeZone)}}const __=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!__.test(t))return;const e=t.replace(__,"$1UTC");yn.prototype[e]&&(t.startsWith("get")?yn.prototype[t]=function(){return this.internal[e]()}:(yn.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),vW(this),+this},yn.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Lh(this),+this}))});function Lh(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function vW(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),NS(t)}function NS(t){const e=ta(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),s=r-i,o=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&o&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);const a=r-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);const l=ta(t.timeZone,t),d=-new Date(+t).getTimezoneOffset()-l,u=l!==e,f=d-a;if(u&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);const m=ta(t.timeZone,t),w=l-m;w&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+w),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+w))}}class pi extends yn{static tz(e,...n){return n.length?new pi(...n,e):new pi(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${yW(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new pi(+this,e)}[Symbol.for("constructDateFrom")](e){return new pi(+new Date(e),this.timeZone)}}function yW(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}const w_=5,_W=4;function wW(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),s=e.addDays(i,w_*7-1);return e.getMonth(t)===e.getMonth(s)?w_:_W}function RS(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function xW(t,e){const n=RS(t,e),r=wW(t,e);return e.addDays(n,r*7-1)}class ar{constructor(e,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?pi.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,s)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,i,s):this.options.timeZone?new pi(r,i,s,this.options.timeZone):new Date(r,i,s)},this.addDays=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addDays)==null?void 0:o.call(s,r,i))??yS(r,i)},this.addMonths=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addMonths)==null?void 0:o.call(s,r,i))??_S(r,i)},this.addWeeks=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addWeeks)==null?void 0:o.call(s,r,i))??Zj(r,i)},this.addYears=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.addYears)==null?void 0:o.call(s,r,i))??eU(r,i)},this.differenceInCalendarDays=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.differenceInCalendarDays)==null?void 0:o.call(s,r,i))??xS(r,i)},this.differenceInCalendarMonths=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.differenceInCalendarMonths)==null?void 0:o.call(s,r,i))??sU(r,i)},this.eachMonthOfInterval=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.eachMonthOfInterval)==null?void 0:s.call(i,r))??lU(r)},this.endOfBroadcastWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.endOfBroadcastWeek)==null?void 0:o.call(s,r,i))??xW(r,this)},this.endOfISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfISOWeek)==null?void 0:s.call(i,r))??dU(r)},this.endOfMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfMonth)==null?void 0:s.call(i,r))??oU(r)},this.endOfWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.endOfWeek)==null?void 0:o.call(s,r,i??this.options))??SS(r,i??this.options)},this.endOfYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.endOfYear)==null?void 0:s.call(i,r))??uU(r)},this.format=(r,i,s)=>{var a,l;const o=((l=(a=this.overrides)==null?void 0:a.format)==null?void 0:l.call(a,r,i,s??this.options))??Es(r,i,s??this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getISOWeek)==null?void 0:s.call(i,r))??bS(r)},this.getMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getMonth)==null?void 0:s.call(i,r))??lW(r)},this.getYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.getYear)==null?void 0:s.call(i,r))??cW(r)},this.getWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.getWeek)==null?void 0:o.call(s,r,i??this.options))??TS(r,i??this.options)},this.isAfter=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isAfter)==null?void 0:o.call(s,r,i))??uW(r,i)},this.isBefore=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isBefore)==null?void 0:o.call(s,r,i))??dW(r,i)},this.isDate=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.isDate)==null?void 0:s.call(i,r))??CS(r)},this.isSameDay=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameDay)==null?void 0:o.call(s,r,i))??rU(r,i)},this.isSameMonth=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameMonth)==null?void 0:o.call(s,r,i))??fW(r,i)},this.isSameYear=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.isSameYear)==null?void 0:o.call(s,r,i))??hW(r,i)},this.max=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.max)==null?void 0:s.call(i,r))??tU(r)},this.min=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.min)==null?void 0:s.call(i,r))??nU(r)},this.setMonth=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.setMonth)==null?void 0:o.call(s,r,i))??pW(r,i)},this.setYear=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.setYear)==null?void 0:o.call(s,r,i))??mW(r,i)},this.startOfBroadcastWeek=(r,i)=>{var s,o;return((o=(s=this.overrides)==null?void 0:s.startOfBroadcastWeek)==null?void 0:o.call(s,r,i??this))??RS(r,i??this)},this.startOfDay=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfDay)==null?void 0:s.call(i,r))??Pa(r)},this.startOfISOWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfISOWeek)==null?void 0:s.call(i,r))??Ra(r)},this.startOfMonth=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfMonth)==null?void 0:s.call(i,r))??cU(r)},this.startOfWeek=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfWeek)==null?void 0:s.call(i,r))??Bs(r,this.options)},this.startOfYear=r=>{var i,s;return((s=(i=this.overrides)==null?void 0:i.startOfYear)==null?void 0:s.call(i,r))??ES(r)},this.options={locale:lg,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const lr=new ar;function CW(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[s])=>(n[s]?i.push(n[s]):e[ye[s]]?i.push(e[ye[s]]):e[Zt[s]]&&i.push(e[Zt[s]]),i),[e[W.Day]])}function EW(t){return D.createElement("button",{...t})}function SW(t){return D.createElement("span",{...t})}function bW(t){const{size:e=24,orientation:n="left",className:r}=t;return D.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&D.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&D.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&D.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&D.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function kW(t){const{day:e,modifiers:n,...r}=t;return D.createElement("td",{...r})}function TW(t){const{day:e,modifiers:n,...r}=t,i=D.useRef(null);return D.useEffect(()=>{var s;n.focused&&((s=i.current)==null||s.focus())},[n.focused]),D.createElement("button",{ref:i,...r})}function IW(t){const{options:e,className:n,components:r,classNames:i,...s}=t,o=[i[W.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:l})=>l===s.value);return D.createElement("span",{"data-disabled":s.disabled,className:i[W.DropdownRoot]},D.createElement(r.Select,{className:o,...s},e==null?void 0:e.map(({value:l,label:c,disabled:d})=>D.createElement(r.Option,{key:l,value:l,disabled:d},c))),D.createElement("span",{className:i[W.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,D.createElement(r.Chevron,{orientation:"down",size:18,className:i[W.Chevron]})))}function NW(t){return D.createElement("div",{...t})}function RW(t){return D.createElement("div",{...t})}function PW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return D.createElement("div",{...r},t.children)}function OW(t){const{calendarMonth:e,displayIndex:n,...r}=t;return D.createElement("div",{...r})}function AW(t){return D.createElement("table",{...t})}function DW(t){return D.createElement("div",{...t})}const PS=p.createContext(void 0);function Za(){const t=p.useContext(PS);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function MW(t){const{components:e}=Za();return D.createElement(e.Dropdown,{...t})}function LW(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...s}=t,{components:o,classNames:a,labels:{labelPrevious:l,labelNext:c}}=Za();return D.createElement("nav",{...s},D.createElement(o.PreviousMonthButton,{type:"button",className:a[W.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:r?void 0:!0,"aria-label":l(r),onClick:t.onPreviousClick},D.createElement(o.Chevron,{disabled:r?void 0:!0,className:a[W.Chevron],orientation:"left"})),D.createElement(o.NextMonthButton,{type:"button",className:a[W.NextMonthButton],tabIndex:i?void 0:-1,disabled:i?void 0:!0,"aria-label":c(i),onClick:t.onNextClick},D.createElement(o.Chevron,{disabled:i?void 0:!0,orientation:"right",className:a[W.Chevron]})))}function FW(t){const{components:e}=Za();return D.createElement(e.Button,{...t})}function jW(t){return D.createElement("option",{...t})}function UW(t){const{components:e}=Za();return D.createElement(e.Button,{...t})}function WW(t){return D.createElement("div",{...t})}function BW(t){return D.createElement("select",{...t})}function $W(t){const{week:e,...n}=t;return D.createElement("tr",{...n})}function zW(t){return D.createElement("th",{...t})}function HW(t){return D.createElement("thead",{"aria-hidden":!0},D.createElement("tr",{...t}))}function VW(t){const{week:e,...n}=t;return D.createElement("th",{...n})}function YW(t){return D.createElement("th",{...t})}function GW(t){return D.createElement("tbody",{...t})}function KW(t){const{components:e}=Za();return D.createElement(e.Dropdown,{...t})}const qW=Object.freeze(Object.defineProperty({__proto__:null,Button:EW,CaptionLabel:SW,Chevron:bW,Day:kW,DayButton:TW,Dropdown:IW,DropdownNav:NW,Footer:RW,Month:PW,MonthCaption:OW,MonthGrid:AW,Months:DW,MonthsDropdown:MW,Nav:LW,NextMonthButton:FW,Option:jW,PreviousMonthButton:UW,Root:WW,Select:BW,Week:$W,WeekNumber:VW,WeekNumberHeader:YW,Weekday:zW,Weekdays:HW,Weeks:GW,YearsDropdown:KW},Symbol.toStringTag,{value:"Module"}));function QW(t){return{...qW,...t}}function XW(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function JW(){const t={};for(const e in W)t[W[e]]=`rdp-${W[e]}`;for(const e in ye)t[ye[e]]=`rdp-${ye[e]}`;for(const e in Zt)t[Zt[e]]=`rdp-${Zt[e]}`;return t}function OS(t,e,n){return(n??new ar(e)).format(t,"LLLL y")}const ZW=OS;function e4(t,e,n){return(n??new ar(e)).format(t,"d")}function t4(t,e=lr){return e.format(t,"LLLL")}function n4(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function r4(){return""}function i4(t,e,n){return(n??new ar(e)).format(t,"cccccc")}function AS(t,e=lr){return e.format(t,"yyyy")}const s4=AS,o4=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:OS,formatDay:e4,formatMonthCaption:ZW,formatMonthDropdown:t4,formatWeekNumber:n4,formatWeekNumberHeader:r4,formatWeekdayName:i4,formatYearCaption:s4,formatYearDropdown:AS},Symbol.toStringTag,{value:"Module"}));function a4(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...o4,...t}}function l4(t,e,n,r,i){const{startOfMonth:s,startOfYear:o,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=i;return l({start:o(t),end:a(t)}).map(f=>{const m=r.formatMonthDropdown(f,i),w=c(f),y=e&&f<s(e)||n&&f>s(n)||!1;return{value:w,label:m,disabled:y}})}function c4(t,e={},n={}){let r={...e==null?void 0:e[W.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function u4(t,e,n){const r=t.today(),i=e?t.startOfISOWeek(r):t.startOfWeek(r),s=[];for(let o=0;o<7;o++){const a=t.addDays(i,o);s.push(a)}return s}function d4(t,e,n,r){if(!t||!e)return;const{startOfYear:i,endOfYear:s,addYears:o,getYear:a,isBefore:l,isSameYear:c}=r,d=i(t),u=s(e),f=[];let m=d;for(;l(m,u)||c(m,u);)f.push(m),m=o(m,1);return f.map(w=>{const y=n.formatYearDropdown(w,r);return{value:a(w),label:y,disabled:!1}})}function DS(t,e,n){return(n??new ar(e)).format(t,"LLLL y")}const f4=DS;function h4(t,e,n,r){let i=(r??new ar(n)).format(t,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function MS(t,e,n,r){let i=(r??new ar(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const p4=MS;function m4(){return""}function g4(t){return"Choose the Month"}function v4(t){return"Go to the Next Month"}function y4(t){return"Go to the Previous Month"}function _4(t,e,n){return(n??new ar(e)).format(t,"cccc")}function w4(t,e){return`Week ${t}`}function x4(t){return"Week Number"}function C4(t){return"Choose the Year"}const E4=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:f4,labelDay:p4,labelDayButton:MS,labelGrid:DS,labelGridcell:h4,labelMonthDropdown:g4,labelNav:m4,labelNext:v4,labelPrevious:y4,labelWeekNumber:w4,labelWeekNumberHeader:x4,labelWeekday:_4,labelYearDropdown:C4},Symbol.toStringTag,{value:"Module"}));function S4(t,e,n,r){const i=t[0],s=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:f,endOfISOWeek:m,endOfMonth:w,endOfWeek:y,isAfter:x,startOfBroadcastWeek:g,startOfISOWeek:h,startOfWeek:_}=r,C=l?g(i,r):o?h(i):_(i),E=l?f(s,r):o?m(w(s)):y(w(s)),b=d(E,C),S=u(s,i)+1,k=[];for(let F=0;F<=b;F++){const A=c(C,F);if(e&&x(A,e))break;k.push(A)}const N=(l?35:42)*S;if(a&&k.length<N){const F=N-k.length;for(let A=0;A<F;A++){const $=c(k[k.length-1],1);k.push($)}}return k}function b4(t){const e=[];return t.reduce((n,r)=>{const i=[],s=r.weeks.reduce((o,a)=>[...o,...a.days],i);return[...n,...s]},e)}function k4(t,e,n,r){const{numberOfMonths:i=1}=n,s=[];for(let o=0;o<i;o++){const a=r.addMonths(t,o);if(e&&a>e)break;s.push(a)}return s}function x_(t,e){const{month:n,defaultMonth:r,today:i=e.today(),numberOfMonths:s=1,endMonth:o,startMonth:a}=t;let l=n||r||i;const{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=e;if(o&&c(o,l)<0){const f=-1*(s-1);l=d(o,f)}return a&&c(l,a)<0&&(l=a),u(l)}class LS{constructor(e,n,r=lr){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class T4{constructor(e,n){this.date=e,this.weeks=n}}class I4{constructor(e,n){this.days=n,this.weekNumber=e}}function N4(t,e,n,r){const{addDays:i,endOfBroadcastWeek:s,endOfISOWeek:o,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:f,startOfWeek:m}=r,w=t.reduce((y,x)=>{const g=n.broadcastCalendar?u(x,r):n.ISOWeek?f(x):m(x),h=n.broadcastCalendar?s(x,r):n.ISOWeek?o(a(x)):l(a(x)),_=e.filter(S=>S>=g&&S<=h),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&_.length<C){const S=e.filter(k=>{const P=C-_.length;return k>h&&k<=i(h,P)});_.push(...S)}const E=_.reduce((S,k)=>{const P=n.ISOWeek?c(k):d(k),N=S.find(A=>A.weekNumber===P),F=new LS(k,x,r);return N?N.days.push(F):S.push(new I4(P,[F])),S},[]),b=new T4(x,E);return y.push(b),y},[]);return n.reverseMonths?w.reverse():w}function R4(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:s,startOfMonth:o,endOfMonth:a,addYears:l,endOfYear:c,newDate:d,today:u}=e,{fromYear:f,toYear:m,fromMonth:w,toMonth:y}=t;!n&&w&&(n=w),!n&&f&&(n=e.newDate(f,0,1)),!r&&y&&(r=y),!r&&m&&(r=d(m,11,31));const x=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):f?n=d(f,0,1):!n&&x&&(n=i(l(t.today??u(),-100))),r?r=a(r):m?r=d(m,11,31):!r&&x&&(r=c(t.today??u())),[n&&s(n),r&&s(r)]}function P4(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=i?s:1,d=o(t);if(!e)return a(d,c);if(!(l(e,t)<s))return a(d,c)}function O4(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:l}=r,c=i?s??1:1,d=o(t);if(!e)return a(d,-c);if(!(l(d,e)<=0))return a(d,-c)}function A4(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Bu(t,e){const[n,r]=p.useState(t);return[e===void 0?n:e,r]}function D4(t,e){const[n,r]=R4(t,e),{startOfMonth:i,endOfMonth:s}=e,o=x_(t,e),[a,l]=Bu(o,t.month?o:void 0);p.useEffect(()=>{const b=x_(t,e);l(b)},[t.timeZone]);const c=k4(a,r,t,e),d=S4(c,t.endMonth?s(t.endMonth):void 0,t,e),u=N4(c,d,t,e),f=A4(u),m=b4(u),w=O4(a,n,t,e),y=P4(a,r,t,e),{disableNavigation:x,onMonthChange:g}=t,h=b=>f.some(S=>S.days.some(k=>k.isEqualTo(b))),_=b=>{if(x)return;let S=i(b);n&&S<i(n)&&(S=i(n)),r&&S>i(r)&&(S=i(r)),l(S),g==null||g(S)};return{months:u,weeks:f,days:m,navStart:n,navEnd:r,previousMonth:w,nextMonth:y,goToMonth:_,goToDay:b=>{h(b)||_(b.date)}}}function M4(t,e,n,r){let i,s=0,o=!1;for(;s<t.length&&!o;){const a=t[s],l=e(a);!l[ye.disabled]&&!l[ye.hidden]&&!l[ye.outside]&&(l[ye.focused]||r!=null&&r.isEqualTo(a)||n(a.date)||l[ye.today])&&(i=a,o=!0),s++}return i||(i=t.find(a=>{const l=e(a);return!l[ye.disabled]&&!l[ye.hidden]&&!l[ye.outside]})),i}function Bn(t,e,n=!1,r=lr){let{from:i,to:s}=t;const{differenceInCalendarDays:o,isSameDay:a}=r;return i&&s?(o(s,i)<0&&([i,s]=[s,i]),o(e,i)>=(n?1:0)&&o(s,e)>=(n?1:0)):!n&&s?a(s,e):!n&&i?a(i,e):!1}function FS(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ug(t){return!!(t&&typeof t=="object"&&"from"in t)}function jS(t){return!!(t&&typeof t=="object"&&"after"in t)}function US(t){return!!(t&&typeof t=="object"&&"before"in t)}function WS(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function BS(t,e){return Array.isArray(t)&&t.every(e.isDate)}function $n(t,e,n=lr){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:s,isAfter:o}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return i(t,a);if(BS(a,n))return a.includes(t);if(ug(a))return Bn(a,t,!1,n);if(WS(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(FS(a)){const l=s(a.before,t),c=s(a.after,t),d=l>0,u=c<0;return o(a.before,a.after)?u&&d:d||u}return jS(a)?s(t,a.after)>0:US(a)?s(a.before,t)>0:typeof a=="function"?a(t):!1})}function L4(t,e,n,r,i,s,o){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:d,addWeeks:u,addYears:f,endOfBroadcastWeek:m,endOfISOWeek:w,endOfWeek:y,max:x,min:g,startOfBroadcastWeek:h,startOfISOWeek:_,startOfWeek:C}=o;let b={day:c,week:u,month:d,year:f,startOfWeek:S=>l?h(S,o):a?_(S):C(S),endOfWeek:S=>l?m(S,o):a?w(S):y(S)}[t](n,e==="after"?1:-1);return e==="before"&&r?b=x([r,b]):e==="after"&&i&&(b=g([i,b])),b}function $S(t,e,n,r,i,s,o,a=0){if(a>365)return;const l=L4(t,e,n.date,r,i,s,o),c=!!(s.disabled&&$n(l,s.disabled,o)),d=!!(s.hidden&&$n(l,s.hidden,o)),u=l,f=new LS(l,u,o);return!c&&!d?f:$S(t,e,f,r,i,s,o,a+1)}function F4(t,e,n,r,i){const{autoFocus:s}=t,[o,a]=p.useState(),l=M4(e.days,n,r||(()=>!1),o),[c,d]=p.useState(s?l:void 0);return{isFocusTarget:y=>!!(l!=null&&l.isEqualTo(y)),setFocused:d,focused:c,blur:()=>{a(c),d(void 0)},moveFocus:(y,x)=>{if(!c)return;const g=$S(y,x,c,e.navStart,e.navEnd,t,i);g&&(e.goToDay(g),d(g))}}}function j4(t,e,n){const{disabled:r,hidden:i,modifiers:s,showOutsideDays:o,broadcastCalendar:a,today:l}=e,{isSameDay:c,isSameMonth:d,startOfMonth:u,isBefore:f,endOfMonth:m,isAfter:w}=n,y=e.startMonth&&u(e.startMonth),x=e.endMonth&&m(e.endMonth),g={[ye.focused]:[],[ye.outside]:[],[ye.disabled]:[],[ye.hidden]:[],[ye.today]:[]},h={};for(const _ of t){const{date:C,displayMonth:E}=_,b=!!(E&&!d(C,E)),S=!!(y&&f(C,y)),k=!!(x&&w(C,x)),P=!!(r&&$n(C,r,n)),N=!!(i&&$n(C,i,n))||S||k||!a&&!o&&b||a&&o===!1&&b,F=c(C,l??n.today());b&&g.outside.push(_),P&&g.disabled.push(_),N&&g.hidden.push(_),F&&g.today.push(_),s&&Object.keys(s).forEach(A=>{const $=s==null?void 0:s[A];$&&$n(C,$,n)&&(h[A]?h[A].push(_):h[A]=[_])})}return _=>{const C={[ye.focused]:!1,[ye.disabled]:!1,[ye.hidden]:!1,[ye.outside]:!1,[ye.today]:!1},E={};for(const b in g){const S=g[b];C[b]=S.some(k=>k===_)}for(const b in h)E[b]=h[b].some(S=>S===_);return{...C,...E}}}function U4(t,e){const{selected:n,required:r,onSelect:i}=t,[s,o]=Bu(n,i?n:void 0),a=i?n:s,{isSameDay:l}=e,c=m=>(a==null?void 0:a.some(w=>l(w,m)))??!1,{min:d,max:u}=t;return{selected:a,select:(m,w,y)=>{let x=[...a??[]];if(c(m)){if((a==null?void 0:a.length)===d||r&&(a==null?void 0:a.length)===1)return;x=a==null?void 0:a.filter(g=>!l(g,m))}else(a==null?void 0:a.length)===u?x=[m]:x=[...x,m];return i||o(x),i==null||i(x,m,w,y),x},isSelected:c}}function W4(t,e,n=0,r=0,i=!1,s=lr){const{from:o,to:a}=e||{},{isSameDay:l,isAfter:c,isBefore:d}=s;let u;if(!o&&!a)u={from:t,to:n>0?void 0:t};else if(o&&!a)l(o,t)?i?u={from:o,to:void 0}:u=void 0:d(t,o)?u={from:t,to:o}:u={from:o,to:t};else if(o&&a)if(l(o,t)&&l(a,t))i?u={from:o,to:a}:u=void 0;else if(l(o,t))u={from:o,to:n>0?void 0:t};else if(l(a,t))u={from:t,to:n>0?void 0:t};else if(d(t,o))u={from:t,to:a};else if(c(t,o))u={from:o,to:t};else if(c(t,a))u={from:o,to:t};else throw new Error("Invalid range");if(u!=null&&u.from&&(u!=null&&u.to)){const f=s.differenceInCalendarDays(u.to,u.from);r>0&&f>r?u={from:t,to:void 0}:n>1&&f<n&&(u={from:t,to:void 0})}return u}function B4(t,e,n=lr){const r=Array.isArray(e)?e:[e];let i=t.from;const s=n.differenceInCalendarDays(t.to,t.from),o=Math.min(s,6);for(let a=0;a<=o;a++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function C_(t,e,n=lr){return Bn(t,e.from,!1,n)||Bn(t,e.to,!1,n)||Bn(e,t.from,!1,n)||Bn(e,t.to,!1,n)}function $4(t,e,n=lr){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Bn(t,a,!1,n):BS(a,n)?a.some(l=>Bn(t,l,!1,n)):ug(a)?a.from&&a.to?C_(t,{from:a.from,to:a.to},n):!1:WS(a)?B4(t,a.dayOfWeek,n):FS(a)?n.isAfter(a.before,a.after)?C_(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):$n(t.from,a,n)||$n(t.to,a,n):jS(a)||US(a)?$n(t.from,a,n)||$n(t.to,a,n):!1))return!0;const o=r.filter(a=>typeof a=="function");if(o.length){let a=t.from;const l=n.differenceInCalendarDays(t.to,t.from);for(let c=0;c<=l;c++){if(o.some(d=>d(a)))return!0;a=n.addDays(a,1)}}return!1}function z4(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:s,onSelect:o}=t,[a,l]=Bu(i,o?i:void 0),c=o?i:a;return{selected:c,select:(f,m,w)=>{const{min:y,max:x}=t,g=f?W4(f,c,y,x,s,e):void 0;return r&&n&&(g!=null&&g.from)&&g.to&&$4({from:g.from,to:g.to},n,e)&&(g.from=f,g.to=void 0),o||l(g),o==null||o(g,f,m,w),g},isSelected:f=>c&&Bn(c,f,!1,e)}}function H4(t,e){const{selected:n,required:r,onSelect:i}=t,[s,o]=Bu(n,i?n:void 0),a=i?n:s,{isSameDay:l}=e;return{selected:a,select:(u,f,m)=>{let w=u;return!r&&a&&a&&l(u,a)&&(w=void 0),i||o(w),i==null||i(w,u,f,m),w},isSelected:u=>a?l(a,u):!1}}function V4(t,e){const n=H4(t,e),r=U4(t,e),i=z4(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function Y4(t){const{components:e,formatters:n,labels:r,dateLib:i,locale:s,classNames:o}=p.useMemo(()=>{const ee={...lg,...t.locale};return{dateLib:new ar({locale:ee,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:QW(t.components),formatters:a4(t.formatters),labels:{...E4,...t.labels},locale:ee,classNames:{...JW(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:a,mode:l,onDayBlur:c,onDayClick:d,onDayFocus:u,onDayKeyDown:f,onDayMouseEnter:m,onDayMouseLeave:w,onNextClick:y,onPrevClick:x,showWeekNumber:g,styles:h}=t,{formatCaption:_,formatDay:C,formatMonthDropdown:E,formatWeekNumber:b,formatWeekNumberHeader:S,formatWeekdayName:k,formatYearDropdown:P}=n,N=D4(t,i),{days:F,months:A,navStart:$,navEnd:Y,previousMonth:Z,nextMonth:j,goToMonth:z}=N,T=j4(F,t,i),{isSelected:O,select:L,selected:H}=V4(t,i)??{},{blur:pe,focused:yt,isFocusTarget:He,moveFocus:kt,setFocused:Fe}=F4(t,N,T,O??(()=>!1),i),{labelDayButton:U,labelGridcell:me,labelGrid:Ve,labelMonthDropdown:ue,labelNav:se,labelWeekday:oe,labelWeekNumber:ct,labelWeekNumberHeader:Lt,labelYearDropdown:ni}=r,ri=p.useMemo(()=>u4(i,t.ISOWeek),[i,t.ISOWeek]),cr=l!==void 0||d!==void 0,id=p.useCallback(()=>{Z&&(z(Z),x==null||x(Z))},[Z,z,x]),Bi=p.useCallback(()=>{j&&(z(j),y==null||y(j))},[z,j,y]),$k=p.useCallback((ee,Me)=>ge=>{ge.preventDefault(),ge.stopPropagation(),Fe(ee),L==null||L(ee.date,Me,ge),d==null||d(ee.date,Me,ge)},[L,d,Fe]),zk=p.useCallback((ee,Me)=>ge=>{Fe(ee),u==null||u(ee.date,Me,ge)},[u,Fe]),Hk=p.useCallback((ee,Me)=>ge=>{pe(),c==null||c(ee.date,Me,ge)},[pe,c]),Vk=p.useCallback((ee,Me)=>ge=>{const ur={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[ge.shiftKey?"year":"month","before"],PageDown:[ge.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ur[ge.key]){ge.preventDefault(),ge.stopPropagation();const[Vt,rl]=ur[ge.key];kt(Vt,rl)}f==null||f(ee.date,Me,ge)},[kt,f,t.dir]),Yk=p.useCallback((ee,Me)=>ge=>{m==null||m(ee.date,Me,ge)},[m]),Gk=p.useCallback((ee,Me)=>ge=>{w==null||w(ee.date,Me,ge)},[w]),Kk=p.useCallback(ee=>Me=>{const ge=Number(Me.target.value),ur=i.setMonth(i.startOfMonth(ee),ge);z(ur)},[i,z]),qk=p.useCallback(ee=>Me=>{const ge=Number(Me.target.value),ur=i.setYear(i.startOfMonth(ee),ge);z(ur)},[i,z]),{className:Qk,style:Xk}=p.useMemo(()=>({className:[o[W.Root],t.className].filter(Boolean).join(" "),style:{...h==null?void 0:h[W.Root],...t.style}}),[o,t.className,t.style,h]),Jk=XW(t),Zk={dayPickerProps:t,selected:H,select:L,isSelected:O,months:A,nextMonth:j,previousMonth:Z,goToMonth:z,getModifiers:T,components:e,classNames:o,styles:h,labels:r,formatters:n};return D.createElement(PS.Provider,{value:Zk},D.createElement(e.Root,{className:Qk,style:Xk,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Jk},D.createElement(e.Months,{className:o[W.Months],style:h==null?void 0:h[W.Months]},!t.hideNavigation&&D.createElement(e.Nav,{className:o[W.Nav],style:h==null?void 0:h[W.Nav],"aria-label":se(),onPreviousClick:id,onNextClick:Bi,previousMonth:Z,nextMonth:j}),A.map((ee,Me)=>{const ge=l4(ee.date,$,Y,n,i),ur=d4($,Y,n,i);return D.createElement(e.Month,{className:o[W.Month],style:h==null?void 0:h[W.Month],key:Me,displayIndex:Me,calendarMonth:ee},D.createElement(e.MonthCaption,{className:o[W.MonthCaption],style:h==null?void 0:h[W.MonthCaption],calendarMonth:ee,displayIndex:Me},a!=null&&a.startsWith("dropdown")?D.createElement(e.DropdownNav,{className:o[W.Dropdowns],style:h==null?void 0:h[W.Dropdowns]},a==="dropdown"||a==="dropdown-months"?D.createElement(e.MonthsDropdown,{className:o[W.MonthsDropdown],"aria-label":ue(),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:Kk(ee.date),options:ge,style:h==null?void 0:h[W.Dropdown],value:i.getMonth(ee.date)}):D.createElement("span",{role:"status","aria-live":"polite"},E(ee.date,i)),a==="dropdown"||a==="dropdown-years"?D.createElement(e.YearsDropdown,{className:o[W.YearsDropdown],"aria-label":ni(i.options),classNames:o,components:e,disabled:!!t.disableNavigation,onChange:qk(ee.date),options:ur,style:h==null?void 0:h[W.Dropdown],value:i.getYear(ee.date)}):D.createElement("span",{role:"status","aria-live":"polite"},P(ee.date,i))):D.createElement(e.CaptionLabel,{className:o[W.CaptionLabel],role:"status","aria-live":"polite"},_(ee.date,i.options,i))),D.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":l==="multiple"||l==="range","aria-label":Ve(ee.date,i.options,i)||void 0,className:o[W.MonthGrid],style:h==null?void 0:h[W.MonthGrid]},!t.hideWeekdays&&D.createElement(e.Weekdays,{className:o[W.Weekdays],style:h==null?void 0:h[W.Weekdays]},g&&D.createElement(e.WeekNumberHeader,{"aria-label":Lt(i.options),className:o[W.WeekNumberHeader],style:h==null?void 0:h[W.WeekNumberHeader],scope:"col"},S()),ri.map((Vt,rl)=>D.createElement(e.Weekday,{"aria-label":oe(Vt,i.options,i),className:o[W.Weekday],key:rl,style:h==null?void 0:h[W.Weekday],scope:"col"},k(Vt,i.options,i)))),D.createElement(e.Weeks,{className:o[W.Weeks],style:h==null?void 0:h[W.Weeks]},ee.weeks.map((Vt,rl)=>D.createElement(e.Week,{className:o[W.Week],key:Vt.weekNumber,style:h==null?void 0:h[W.Week],week:Vt},g&&D.createElement(e.WeekNumber,{week:Vt,style:h==null?void 0:h[W.WeekNumber],"aria-label":ct(Vt.weekNumber,{locale:s}),className:o[W.WeekNumber],scope:"row",role:"rowheader"},b(Vt.weekNumber)),Vt.days.map(it=>{const{date:fn}=it,ae=T(it);if(ae[ye.focused]=!ae.hidden&&!!(yt!=null&&yt.isEqualTo(it)),ae[Zt.selected]=!ae.disabled&&((O==null?void 0:O(fn))||ae.selected),ug(H)){const{from:sd,to:od}=H;ae[Zt.range_start]=!!(sd&&od&&i.isSameDay(fn,sd)),ae[Zt.range_end]=!!(sd&&od&&i.isSameDay(fn,od)),ae[Zt.range_middle]=Bn(H,fn,!0,i)}const eT=c4(ae,h,t.modifiersStyles),tT=CW(ae,o,t.modifiersClassNames),nT=!cr&&!ae.hidden?me(fn,ae,i.options,i):void 0;return D.createElement(e.Day,{key:`${i.format(fn,"yyyy-MM-dd")}_${i.format(it.displayMonth,"yyyy-MM")}`,day:it,modifiers:ae,className:tT.join(" "),style:eT,role:"gridcell","aria-selected":ae.selected||void 0,"aria-label":nT,"data-day":i.format(fn,"yyyy-MM-dd"),"data-month":it.outside?i.format(fn,"yyyy-MM"):void 0,"data-selected":ae.selected||void 0,"data-disabled":ae.disabled||void 0,"data-hidden":ae.hidden||void 0,"data-outside":it.outside||void 0,"data-focused":ae.focused||void 0,"data-today":ae.today||void 0},!ae.hidden&&cr?D.createElement(e.DayButton,{className:o[W.DayButton],style:h==null?void 0:h[W.DayButton],type:"button",day:it,modifiers:ae,disabled:ae.disabled||void 0,tabIndex:He(it)?0:-1,"aria-label":U(fn,ae,i.options,i),onClick:$k(it,ae),onBlur:Hk(it,ae),onFocus:zk(it,ae),onKeyDown:Vk(it,ae),onMouseEnter:Yk(it,ae),onMouseLeave:Gk(it,ae)},C(fn,i.options,i)):!ae.hidden&&C(it.date,i.options,i))}))))))})),t.footer&&D.createElement(e.Footer,{className:o[W.Footer],style:h==null?void 0:h[W.Footer],role:"status","aria-live":"polite"},t.footer)))}function zS({className:t,classNames:e,showOutsideDays:n=!0,...r}){return v.jsx(Y4,{showOutsideDays:n,className:ne("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ne(Mh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ne(Mh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>v.jsx(jj,{className:"h-4 w-4"}),IconRight:({...i})=>v.jsx(Uj,{className:"h-4 w-4"})},...r})}zS.displayName="Calendar";function G4(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var K4="DismissableLayer",Fh="dismissableLayer.update",q4="dismissableLayer.pointerDownOutside",Q4="dismissableLayer.focusOutside",E_,HS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$u=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=p.useContext(HS),[d,u]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=ke(e,S=>u(S)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(x),h=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=h>=g,E=Z4(S=>{const k=S.target,P=[...c.branches].some(N=>N.contains(k));!C||P||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},f),b=e3(S=>{const k=S.target;[...c.branches].some(N=>N.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},f);return G4(S=>{h===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},f),p.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(E_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),S_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=E_)}},[d,f,n,c]),p.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),S_())},[d,c]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(Fh,S),()=>document.removeEventListener(Fh,S)},[]),v.jsx(re.div,{...l,ref:w,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:K(t.onFocusCapture,b.onFocusCapture),onBlurCapture:K(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:K(t.onPointerDownCapture,E.onPointerDownCapture)})});$u.displayName=K4;var X4="DismissableLayerBranch",J4=p.forwardRef((t,e)=>{const n=p.useContext(HS),r=p.useRef(null),i=ke(e,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(re.div,{...t,ref:i})});J4.displayName=X4;function Z4(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){VS(q4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function e3(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&VS(Q4,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S_(){const t=new CustomEvent(Fh);document.dispatchEvent(t)}function VS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PF(i,s):i.dispatchEvent(s)}var tf=0;function dg(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??b_()),document.body.insertAdjacentElement("beforeend",t[1]??b_()),tf++,()=>{tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tf--}},[])}function b_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nf="focusScope.autoFocusOnMount",rf="focusScope.autoFocusOnUnmount",k_={bubbles:!1,cancelable:!0},t3="FocusScope",zu=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=p.useState(null),c=kn(i),d=kn(s),u=p.useRef(null),f=ke(e,y=>l(y)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(_){if(m.paused||!a)return;const C=_.target;a.contains(C)?u.current=C:gr(u.current,{select:!0})},x=function(_){if(m.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||gr(u.current,{select:!0}))},g=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&gr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const h=new MutationObserver(g);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),h.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){I_.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(nf,k_);a.addEventListener(nf,c),a.dispatchEvent(g),g.defaultPrevented||(n3(a3(YS(a)),{select:!0}),document.activeElement===y&&gr(a))}return()=>{a.removeEventListener(nf,c),setTimeout(()=>{const g=new CustomEvent(rf,k_);a.addEventListener(rf,d),a.dispatchEvent(g),g.defaultPrevented||gr(y??document.body,{select:!0}),a.removeEventListener(rf,d),I_.remove(m)},0)}}},[a,c,d,m]);const w=p.useCallback(y=>{if(!n&&!r||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(x&&g){const h=y.currentTarget,[_,C]=r3(h);_&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&gr(_,{select:!0})):y.shiftKey&&g===_&&(y.preventDefault(),n&&gr(C,{select:!0})):g===h&&y.preventDefault()}},[n,r,m.paused]);return v.jsx(re.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});zu.displayName=t3;function n3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gr(r,{select:e}),document.activeElement!==n)return}function r3(t){const e=YS(t),n=T_(e,t),r=T_(e.reverse(),t);return[n,r]}function YS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function T_(t,e){for(const n of t)if(!i3(n,{upTo:e}))return n}function i3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function s3(t){return t instanceof HTMLInputElement&&"select"in t}function gr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&s3(t)&&e&&t.select()}}var I_=o3();function o3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=N_(t,e),t.unshift(e)},remove(e){var n;t=N_(t,e),(n=t[0])==null||n.resume()}}}function N_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function a3(t){return t.filter(e=>e.tagName!=="A")}const l3=["top","right","bottom","left"],Yr=Math.min,It=Math.max,Jc=Math.round,Il=Math.floor,En=t=>({x:t,y:t}),c3={left:"right",right:"left",bottom:"top",top:"bottom"},u3={start:"end",end:"start"};function jh(t,e,n){return It(t,Yr(e,n))}function nr(t,e){return typeof t=="function"?t(e):t}function rr(t){return t.split("-")[0]}function so(t){return t.split("-")[1]}function fg(t){return t==="x"?"y":"x"}function hg(t){return t==="y"?"height":"width"}function Gr(t){return["top","bottom"].includes(rr(t))?"y":"x"}function pg(t){return fg(Gr(t))}function d3(t,e,n){n===void 0&&(n=!1);const r=so(t),i=pg(t),s=hg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zc(o)),[o,Zc(o)]}function f3(t){const e=Zc(t);return[Uh(t),e,Uh(e)]}function Uh(t){return t.replace(/start|end/g,e=>u3[e])}function h3(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function p3(t,e,n,r){const i=so(t);let s=h3(rr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Uh)))),s}function Zc(t){return t.replace(/left|right|bottom|top/g,e=>c3[e])}function m3(t){return{top:0,right:0,bottom:0,left:0,...t}}function GS(t){return typeof t!="number"?m3(t):{top:t,right:t,bottom:t,left:t}}function eu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function R_(t,e,n){let{reference:r,floating:i}=t;const s=Gr(e),o=pg(e),a=hg(o),l=rr(e),c=s==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(so(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const g3=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:u}=R_(c,r,l),f=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:x,fn:g}=a[y],{x:h,y:_,data:C,reset:E}=await g({x:d,y:u,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=h??d,u=_??u,m={...m,[x]:{...m[x],...C}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:u}=R_(c,f,l)),y=-1)}return{x:d,y:u,placement:f,strategy:i,middlewareData:m}};async function Oa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=nr(e,t),w=GS(m),x=a[f?u==="floating"?"reference":"floating":u],g=eu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),h=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=eu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:_,strategy:l}):h);return{top:(g.top-E.top+w.top)/C.y,bottom:(E.bottom-g.bottom+w.bottom)/C.y,left:(g.left-E.left+w.left)/C.x,right:(E.right-g.right+w.right)/C.x}}const v3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=nr(t,e)||{};if(c==null)return{};const u=GS(d),f={x:n,y:r},m=pg(i),w=hg(m),y=await o.getDimensions(c),x=m==="y",g=x?"top":"left",h=x?"bottom":"right",_=x?"clientHeight":"clientWidth",C=s.reference[w]+s.reference[m]-f[m]-s.floating[w],E=f[m]-s.reference[m],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=b?b[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(b)))&&(S=a.floating[_]||s.floating[w]);const k=C/2-E/2,P=S/2-y[w]/2-1,N=Yr(u[g],P),F=Yr(u[h],P),A=N,$=S-y[w]-F,Y=S/2-y[w]/2+k,Z=jh(A,Y,$),j=!l.arrow&&so(i)!=null&&Y!==Z&&s.reference[w]/2-(Y<A?N:F)-y[w]/2<0,z=j?Y<A?Y-A:Y-$:0;return{[m]:f[m]+z,data:{[m]:Z,centerOffset:Y-Z-z,...j&&{alignmentOffset:z}},reset:j}}}),y3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...x}=nr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=rr(i),h=Gr(a),_=rr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(_||!y?[Zc(a)]:f3(a)),b=w!=="none";!f&&b&&E.push(...p3(a,y,w,C));const S=[a,...E],k=await Oa(e,x),P=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(k[g]),u){const Y=d3(i,o,C);P.push(k[Y[0]],k[Y[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(Y=>Y<=0)){var F,A;const Y=(((F=s.flip)==null?void 0:F.index)||0)+1,Z=S[Y];if(Z)return{data:{index:Y,overflows:N},reset:{placement:Z}};let j=(A=N.filter(z=>z.overflows[0]<=0).sort((z,T)=>z.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!j)switch(m){case"bestFit":{var $;const z=($=N.filter(T=>{if(b){const O=Gr(T.placement);return O===h||O==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,L)=>O+L,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:$[0];z&&(j=z);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function P_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O_(t){return l3.some(e=>t[e]>=0)}const _3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=nr(t,e);switch(r){case"referenceHidden":{const s=await Oa(e,{...i,elementContext:"reference"}),o=P_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:O_(o)}}}case"escaped":{const s=await Oa(e,{...i,altBoundary:!0}),o=P_(s,n.floating);return{data:{escapedOffsets:o,escaped:O_(o)}}}default:return{}}}}};async function w3(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=rr(n),a=so(n),l=Gr(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=nr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const x3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await w3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},C3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y:h}=x;return{x:g,y:h}}},...l}=nr(t,e),c={x:n,y:r},d=await Oa(e,l),u=Gr(rr(i)),f=fg(u);let m=c[f],w=c[u];if(s){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",h=m+d[x],_=m-d[g];m=jh(h,m,_)}if(o){const x=u==="y"?"top":"left",g=u==="y"?"bottom":"right",h=w+d[x],_=w-d[g];w=jh(h,w,_)}const y=a.fn({...e,[f]:m,[u]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[u]:o}}}}}},E3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=nr(t,e),d={x:n,y:r},u=Gr(i),f=fg(u);let m=d[f],w=d[u];const y=nr(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=f==="y"?"height":"width",C=s.reference[f]-s.floating[_]+x.mainAxis,E=s.reference[f]+s.reference[_]-x.mainAxis;m<C?m=C:m>E&&(m=E)}if(c){var g,h;const _=f==="y"?"width":"height",C=["top","left"].includes(rr(i)),E=s.reference[u]-s.floating[_]+(C&&((g=o.offset)==null?void 0:g[u])||0)+(C?0:x.crossAxis),b=s.reference[u]+s.reference[_]+(C?0:((h=o.offset)==null?void 0:h[u])||0)-(C?x.crossAxis:0);w<E?w=E:w>b&&(w=b)}return{[f]:m,[u]:w}}}},S3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=nr(t,e),d=await Oa(e,c),u=rr(i),f=so(i),m=Gr(i)==="y",{width:w,height:y}=s.floating;let x,g;u==="top"||u==="bottom"?(x=u,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=u,x=f==="end"?"top":"bottom");const h=y-d.top-d.bottom,_=w-d.left-d.right,C=Yr(y-d[x],h),E=Yr(w-d[g],_),b=!e.middlewareData.shift;let S=C,k=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=h),b&&!f){const N=It(d.left,0),F=It(d.right,0),A=It(d.top,0),$=It(d.bottom,0);m?k=w-2*(N!==0||F!==0?N+F:It(d.left,d.right)):S=y-2*(A!==0||$!==0?A+$:It(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:S});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Hu(){return typeof window<"u"}function oo(t){return KS(t)?(t.nodeName||"").toLowerCase():"#document"}function Ot(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rn(t){var e;return(e=(KS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KS(t){return Hu()?t instanceof Node||t instanceof Ot(t).Node:!1}function ln(t){return Hu()?t instanceof Element||t instanceof Ot(t).Element:!1}function Tn(t){return Hu()?t instanceof HTMLElement||t instanceof Ot(t).HTMLElement:!1}function A_(t){return!Hu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ot(t).ShadowRoot}function el(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function b3(t){return["table","td","th"].includes(oo(t))}function Vu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mg(t){const e=gg(),n=ln(t)?cn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function k3(t){let e=Kr(t);for(;Tn(e)&&!$s(e);){if(mg(e))return e;if(Vu(e))return null;e=Kr(e)}return null}function gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $s(t){return["html","body","#document"].includes(oo(t))}function cn(t){return Ot(t).getComputedStyle(t)}function Yu(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Kr(t){if(oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A_(t)&&t.host||Rn(t);return A_(e)?e.host:e}function qS(t){const e=Kr(t);return $s(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tn(e)&&el(e)?e:qS(e)}function Aa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ot(i);if(s){const a=Wh(o);return e.concat(o,o.visualViewport||[],el(i)?i:[],a&&n?Aa(a):[])}return e.concat(i,Aa(i,[],n))}function Wh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QS(t){const e=cn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Tn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Jc(n)!==s||Jc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function vg(t){return ln(t)?t:t.contextElement}function Ss(t){const e=vg(t);if(!Tn(e))return En(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=QS(e);let o=(s?Jc(n.width):n.width)/r,a=(s?Jc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const T3=En(0);function XS(t){const e=Ot(t);return!gg()||!e.visualViewport?T3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ot(t)?!1:e}function Pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=vg(t);let o=En(1);e&&(r?ln(r)&&(o=Ss(r)):o=Ss(t));const a=I3(s,n,r)?XS(s):En(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,u=i.height/o.y;if(s){const f=Ot(s),m=r&&ln(r)?Ot(r):r;let w=f,y=Wh(w);for(;y&&r&&m!==w;){const x=Ss(y),g=y.getBoundingClientRect(),h=cn(y),_=g.left+(y.clientLeft+parseFloat(h.paddingLeft))*x.x,C=g.top+(y.clientTop+parseFloat(h.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,u*=x.y,l+=_,c+=C,w=Ot(y),y=Wh(w)}}return eu({width:d,height:u,x:l,y:c})}function yg(t,e){const n=Yu(t).scrollLeft;return e?e.left+n:Pi(Rn(t)).left+n}function JS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:yg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function N3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Rn(r),a=e?Vu(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=En(1);const d=En(0),u=Tn(r);if((u||!u&&!s)&&((oo(r)!=="body"||el(o))&&(l=Yu(r)),Tn(r))){const m=Pi(r);c=Ss(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!u&&!s?JS(o,l,!0):En(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function R3(t){return Array.from(t.getClientRects())}function P3(t){const e=Rn(t),n=Yu(t),r=t.ownerDocument.body,i=It(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=It(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yg(t);const a=-n.scrollTop;return cn(r).direction==="rtl"&&(o+=It(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function O3(t,e){const n=Ot(t),r=Rn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=gg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function A3(t,e){const n=Pi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Tn(t)?Ss(t):En(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function D_(t,e,n){let r;if(e==="viewport")r=O3(t,n);else if(e==="document")r=P3(Rn(t));else if(ln(e))r=A3(e,n);else{const i=XS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return eu(r)}function ZS(t,e){const n=Kr(t);return n===e||!ln(n)||$s(n)?!1:cn(n).position==="fixed"||ZS(n,e)}function D3(t,e){const n=e.get(t);if(n)return n;let r=Aa(t,[],!1).filter(a=>ln(a)&&oo(a)!=="body"),i=null;const s=cn(t).position==="fixed";let o=s?Kr(t):t;for(;ln(o)&&!$s(o);){const a=cn(o),l=mg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||el(o)&&!l&&ZS(t,o))?r=r.filter(d=>d!==o):i=a,o=Kr(o)}return e.set(t,r),r}function M3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vu(e)?[]:D3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=D_(e,d,i);return c.top=It(u.top,c.top),c.right=Yr(u.right,c.right),c.bottom=Yr(u.bottom,c.bottom),c.left=It(u.left,c.left),c},D_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function L3(t){const{width:e,height:n}=QS(t);return{width:e,height:n}}function F3(t,e,n){const r=Tn(e),i=Rn(e),s=n==="fixed",o=Pi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=En(0);if(r||!r&&!s)if((oo(e)!=="body"||el(i))&&(a=Yu(e)),r){const f=Pi(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=yg(i));const c=i&&!r&&!s?JS(i,a):En(0),d=o.left+a.scrollLeft-l.x-c.x,u=o.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:o.width,height:o.height}}function sf(t){return cn(t).position==="static"}function M_(t,e){if(!Tn(t)||cn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rn(t)===n&&(n=n.ownerDocument.body),n}function eb(t,e){const n=Ot(t);if(Vu(t))return n;if(!Tn(t)){let i=Kr(t);for(;i&&!$s(i);){if(ln(i)&&!sf(i))return i;i=Kr(i)}return n}let r=M_(t,e);for(;r&&b3(r)&&sf(r);)r=M_(r,e);return r&&$s(r)&&sf(r)&&!mg(r)?n:r||k3(t)||n}const j3=async function(t){const e=this.getOffsetParent||eb,n=this.getDimensions,r=await n(t.floating);return{reference:F3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function U3(t){return cn(t).direction==="rtl"}const W3={convertOffsetParentRelativeRectToViewportRelativeRect:N3,getDocumentElement:Rn,getClippingRect:M3,getOffsetParent:eb,getElementRects:j3,getClientRects:R3,getDimensions:L3,getScale:Ss,isElement:ln,isRTL:U3};function tb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function B3(t,e){let n=null,r;const i=Rn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:u,width:f,height:m}=c;if(a||e(),!f||!m)return;const w=Il(u),y=Il(i.clientWidth-(d+f)),x=Il(i.clientHeight-(u+m)),g=Il(d),_={rootMargin:-w+"px "+-y+"px "+-x+"px "+-g+"px",threshold:It(0,Yr(1,l))||1};let C=!0;function E(b){const S=b[0].intersectionRatio;if(S!==l){if(!C)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!tb(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return o(!0),s}function $3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vg(t),d=i||s?[...c?Aa(c):[],...Aa(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const u=c&&a?B3(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[h]=g;h&&h.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,y=l?Pi(t):null;l&&x();function x(){const g=Pi(t);y&&!tb(y,g)&&n(),y=g,w=requestAnimationFrame(x)}return n(),()=>{var g;d.forEach(h=>{i&&h.removeEventListener("scroll",n),s&&h.removeEventListener("resize",n)}),u==null||u(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const z3=x3,H3=C3,V3=y3,Y3=S3,G3=_3,L_=v3,K3=E3,q3=(t,e,n)=>{const r=new Map,i={platform:W3,...n},s={...i.platform,_c:r};return g3(t,e,{...i,platform:s})};var Zl=typeof document<"u"?p.useLayoutEffect:p.useEffect;function tu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!tu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function nb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F_(t,e){const n=nb(t);return Math.round(e*n)/n}function of(t){const e=p.useRef(t);return Zl(()=>{e.current=t}),e}function Q3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);tu(f,r)||m(r);const[w,y]=p.useState(null),[x,g]=p.useState(null),h=p.useCallback(T=>{T!==b.current&&(b.current=T,y(T))},[]),_=p.useCallback(T=>{T!==S.current&&(S.current=T,g(T))},[]),C=s||w,E=o||x,b=p.useRef(null),S=p.useRef(null),k=p.useRef(d),P=l!=null,N=of(l),F=of(i),A=of(c),$=p.useCallback(()=>{if(!b.current||!S.current)return;const T={placement:e,strategy:n,middleware:f};F.current&&(T.platform=F.current),q3(b.current,S.current,T).then(O=>{const L={...O,isPositioned:A.current!==!1};Y.current&&!tu(k.current,L)&&(k.current=L,Gs.flushSync(()=>{u(L)}))})},[f,e,n,F,A]);Zl(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[c]);const Y=p.useRef(!1);Zl(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Zl(()=>{if(C&&(b.current=C),E&&(S.current=E),C&&E){if(N.current)return N.current(C,E,$);$()}},[C,E,$,N,P]);const Z=p.useMemo(()=>({reference:b,floating:S,setReference:h,setFloating:_}),[h,_]),j=p.useMemo(()=>({reference:C,floating:E}),[C,E]),z=p.useMemo(()=>{const T={position:n,left:0,top:0};if(!j.floating)return T;const O=F_(j.floating,d.x),L=F_(j.floating,d.y);return a?{...T,transform:"translate("+O+"px, "+L+"px)",...nb(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:L}},[n,a,j.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:$,refs:Z,elements:j,floatingStyles:z}),[d,$,Z,j,z])}const X3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?L_({element:r.current,padding:i}).fn(n):{}:r?L_({element:r,padding:i}).fn(n):{}}}},J3=(t,e)=>({...z3(t),options:[t,e]}),Z3=(t,e)=>({...H3(t),options:[t,e]}),eB=(t,e)=>({...K3(t),options:[t,e]}),tB=(t,e)=>({...V3(t),options:[t,e]}),nB=(t,e)=>({...Y3(t),options:[t,e]}),rB=(t,e)=>({...G3(t),options:[t,e]}),iB=(t,e)=>({...X3(t),options:[t,e]});var sB="Arrow",rb=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return v.jsx(re.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});rb.displayName=sB;var oB=rb;function aB(t){const[e,n]=p.useState(void 0);return mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _g="Popper",[ib,Gu]=Ui(_g),[lB,sb]=ib(_g),ob=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return v.jsx(lB,{scope:e,anchor:r,onAnchorChange:i,children:n})};ob.displayName=_g;var ab="PopperAnchor",lb=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=sb(ab,n),o=p.useRef(null),a=ke(e,o);return p.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(re.div,{...i,ref:a})});lb.displayName=ab;var wg="PopperContent",[cB,uB]=ib(wg),cb=p.forwardRef((t,e)=>{var U,me,Ve,ue,se,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=t,x=sb(wg,n),[g,h]=p.useState(null),_=ke(e,ct=>h(ct)),[C,E]=p.useState(null),b=aB(C),S=(b==null?void 0:b.width)??0,k=(b==null?void 0:b.height)??0,P=r+(s!=="center"?"-"+s:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],A=F.length>0,$={padding:N,boundary:F.filter(fB),altBoundary:A},{refs:Y,floatingStyles:Z,placement:j,isPositioned:z,middlewareData:T}=Q3({strategy:"fixed",placement:P,whileElementsMounted:(...ct)=>$3(...ct,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[J3({mainAxis:i+k,alignmentAxis:o}),l&&Z3({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?eB():void 0,...$}),l&&tB({...$}),nB({...$,apply:({elements:ct,rects:Lt,availableWidth:ni,availableHeight:ri})=>{const{width:cr,height:id}=Lt.reference,Bi=ct.floating.style;Bi.setProperty("--radix-popper-available-width",`${ni}px`),Bi.setProperty("--radix-popper-available-height",`${ri}px`),Bi.setProperty("--radix-popper-anchor-width",`${cr}px`),Bi.setProperty("--radix-popper-anchor-height",`${id}px`)}}),C&&iB({element:C,padding:a}),hB({arrowWidth:S,arrowHeight:k}),f&&rB({strategy:"referenceHidden",...$})]}),[O,L]=fb(j),H=kn(w);mt(()=>{z&&(H==null||H())},[z,H]);const pe=(U=T.arrow)==null?void 0:U.x,yt=(me=T.arrow)==null?void 0:me.y,He=((Ve=T.arrow)==null?void 0:Ve.centerOffset)!==0,[kt,Fe]=p.useState();return mt(()=>{g&&Fe(window.getComputedStyle(g).zIndex)},[g]),v.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:z?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:kt,"--radix-popper-transform-origin":[(ue=T.transformOrigin)==null?void 0:ue.x,(se=T.transformOrigin)==null?void 0:se.y].join(" "),...((oe=T.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(cB,{scope:n,placedSide:O,onArrowChange:E,arrowX:pe,arrowY:yt,shouldHideArrow:He,children:v.jsx(re.div,{"data-side":O,"data-align":L,...y,ref:_,style:{...y.style,animation:z?void 0:"none"}})})})});cb.displayName=wg;var ub="PopperArrow",dB={top:"bottom",right:"left",bottom:"top",left:"right"},db=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=uB(ub,r),o=dB[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(oB,{...i,ref:n,style:{...i.style,display:"block"}})})});db.displayName=ub;function fB(t){return t!==null}var hB=t=>({name:"transformOrigin",options:t,fn(e){var x,g,h;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=fb(n),u={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((h=i.arrow)==null?void 0:h.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?u:`${f}px`,y=`${-l}px`):c==="top"?(w=o?u:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?u:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?u:`${m}px`),{data:{x:w,y}}}});function fb(t){const[e,n="center"]=t.split("-");return[e,n]}var hb=ob,xg=lb,pb=cb,mb=db,pB="Portal",Ku=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=p.useState(!1);mt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RN.createPortal(v.jsx(re.div,{...r,ref:e}),o):null});Ku.displayName=pB;var mB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vi=new WeakMap,Nl=new WeakMap,Rl={},af=0,gb=function(t){return t&&(t.host||gb(t.parentNode))},gB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vB=function(t,e,n,r){var i=gB(e,Array.isArray(t)?t:[t]);Rl[n]||(Rl[n]=new WeakMap);var s=Rl[n],o=[],a=new Set,l=new Set(i),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",y=(Vi.get(f)||0)+1,x=(s.get(f)||0)+1;Vi.set(f,y),s.set(f,x),o.push(f),y===1&&w&&Nl.set(f,!0),x===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),a.clear(),af++,function(){o.forEach(function(u){var f=Vi.get(u)-1,m=s.get(u)-1;Vi.set(u,f),s.set(u,m),f||(Nl.has(u)||u.removeAttribute(r),Nl.delete(u)),m||u.removeAttribute(n)}),af--,af||(Vi=new WeakMap,Vi=new WeakMap,Nl=new WeakMap,Rl={})}},Cg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=mB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vB(r,i,n,"aria-hidden")):function(){return null}},ec="right-scroll-bar-position",tc="width-before-scroll-bar",yB="with-scroll-bars-hidden",_B="--removed-body-scroll-bar-size";function lf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wB(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var xB=typeof window<"u"?p.useLayoutEffect:p.useEffect,j_=new WeakMap;function CB(t,e){var n=wB(null,function(r){return t.forEach(function(i){return lf(i,r)})});return xB(function(){var r=j_.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||lf(a,null)}),s.forEach(function(a){i.has(a)||lf(a,o)})}j_.set(n,t)},[t]),n}function EB(t){return t}function SB(t,e){e===void 0&&(e=EB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function bB(t){t===void 0&&(t={});var e=SB(null);return e.options=gn({async:!0,ssr:!1},t),e}var vb=function(t){var e=t.sideCar,n=Ha(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,gn({},n))};vb.isSideCarExport=!0;function kB(t,e){return t.useMedium(e),vb}var yb=bB(),cf=function(){},qu=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:cf,onWheelCapture:cf,onTouchMoveCapture:cf}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,h=t.gapMode,_=Ha(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=CB([n,e]),b=gn(gn({},_),i);return p.createElement(p.Fragment,null,d&&p.createElement(C,{sideCar:yb,removeScrollBar:c,shards:u,noIsolation:m,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:h}),o?p.cloneElement(p.Children.only(a),gn(gn({},b),{ref:E})):p.createElement(g,gn({},b,{className:l,ref:E}),a))});qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qu.classNames={fullWidth:tc,zeroRight:ec};var TB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TB();return e&&t.setAttribute("nonce",e),t}function NB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=IB())&&(NB(e,n),RB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OB=function(){var t=PB();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_b=function(){var t=OB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},AB={left:0,top:0,right:0,gap:0},uf=function(t){return parseInt(t||"",10)||0},DB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[uf(n),uf(r),uf(i)]},MB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AB;var e=DB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LB=_b(),bs="data-scroll-locked",FB=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ec,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ec," .").concat(ec,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tc," .").concat(tc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bs,`] {
    `).concat(_B,": ").concat(a,`px;
  }
`)},U_=function(){var t=parseInt(document.body.getAttribute(bs)||"0",10);return isFinite(t)?t:0},jB=function(){p.useEffect(function(){return document.body.setAttribute(bs,(U_()+1).toString()),function(){var t=U_()-1;t<=0?document.body.removeAttribute(bs):document.body.setAttribute(bs,t.toString())}},[])},UB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;jB();var s=p.useMemo(function(){return MB(i)},[i]);return p.createElement(LB,{styles:FB(s,!e,i,n?"":"!important")})},Bh=!1;if(typeof window<"u")try{var Pl=Object.defineProperty({},"passive",{get:function(){return Bh=!0,!0}});window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Bh=!1}var Yi=Bh?{passive:!1}:!1,WB=function(t){return t.tagName==="TEXTAREA"},wb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!WB(t)&&n[e]==="visible")},BB=function(t){return wb(t,"overflowY")},$B=function(t){return wb(t,"overflowX")},W_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=xb(t,r);if(i){var s=Cb(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xb=function(t,e){return t==="v"?BB(e):$B(e)},Cb=function(t,e){return t==="v"?zB(e):HB(e)},VB=function(t,e){return t==="h"&&e==="rtl"?-1:1},YB=function(t,e,n,r,i){var s=VB(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,f=0;do{var m=Cb(t,a),w=m[0],y=m[1],x=m[2],g=y-x-s*w;(w||g)&&xb(t,a)&&(u+=g,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(u)<1||!d&&Math.abs(f)<1)&&(c=!0),c},Ol=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B_=function(t){return[t.deltaX,t.deltaY]},$_=function(t){return t&&"current"in t?t.current:t},GB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qB=0,Gi=[];function QB(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(qB++)[0],s=p.useState(_b)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=HP([t.lockRef.current],(t.shards||[]).map($_),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var g=Ol(y),h=n.current,_="deltaX"in y?y.deltaX:h[0]-g[0],C="deltaY"in y?y.deltaY:h[1]-g[1],E,b=y.target,S=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in y&&S==="h"&&b.type==="range")return!1;var k=W_(S,b);if(!k)return!0;if(k?E=S:(E=S==="v"?"h":"v",k=W_(S,b)),!k)return!1;if(!r.current&&"changedTouches"in y&&(_||C)&&(r.current=E),!E)return!0;var P=r.current||E;return YB(P,x,y,P==="h"?_:C)},[]),l=p.useCallback(function(y){var x=y;if(!(!Gi.length||Gi[Gi.length-1]!==s)){var g="deltaY"in x?B_(x):Ol(x),h=e.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&GB(E.delta,g)})[0];if(h&&h.should){x.cancelable&&x.preventDefault();return}if(!h){var _=(o.current.shards||[]).map($_).filter(Boolean).filter(function(E){return E.contains(x.target)}),C=_.length>0?a(x,_[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=p.useCallback(function(y,x,g,h){var _={name:y,delta:x,target:g,should:h,shadowParent:XB(g)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),d=p.useCallback(function(y){n.current=Ol(y),r.current=void 0},[]),u=p.useCallback(function(y){c(y.type,B_(y),y.target,a(y,t.lockRef.current))},[]),f=p.useCallback(function(y){c(y.type,Ol(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return Gi.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Yi),document.addEventListener("touchmove",l,Yi),document.addEventListener("touchstart",d,Yi),function(){Gi=Gi.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Yi),document.removeEventListener("touchmove",l,Yi),document.removeEventListener("touchstart",d,Yi)}},[]);var m=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(s,{styles:KB(i)}):null,m?p.createElement(UB,{gapMode:t.gapMode}):null)}function XB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JB=kB(yb,QB);var Qu=p.forwardRef(function(t,e){return p.createElement(qu,gn({},t,{ref:e,sideCar:JB}))});Qu.classNames=qu.classNames;var Eg="Popover",[Eb,Rz]=Ui(Eg,[Gu]),tl=Gu(),[ZB,Zr]=Eb(Eg),Sb=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=tl(e),l=p.useRef(null),[c,d]=p.useState(!1),[u=!1,f]=Ws({prop:r,defaultProp:i,onChange:s});return v.jsx(hb,{...a,children:v.jsx(ZB,{scope:e,contentId:Kn(),triggerRef:l,open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:c,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};Sb.displayName=Eg;var bb="PopoverAnchor",e$=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Zr(bb,n),s=tl(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return p.useEffect(()=>(o(),()=>a()),[o,a]),v.jsx(xg,{...s,...r,ref:e})});e$.displayName=bb;var kb="PopoverTrigger",Tb=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Zr(kb,n),s=tl(n),o=ke(e,i.triggerRef),a=v.jsx(re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ob(i.open),...r,ref:o,onClick:K(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:v.jsx(xg,{asChild:!0,...s,children:a})});Tb.displayName=kb;var Sg="PopoverPortal",[t$,n$]=Eb(Sg,{forceMount:void 0}),Ib=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Zr(Sg,e);return v.jsx(t$,{scope:e,forceMount:n,children:v.jsx(Wi,{present:n||s.open,children:v.jsx(Ku,{asChild:!0,container:i,children:r})})})};Ib.displayName=Sg;var zs="PopoverContent",Nb=p.forwardRef((t,e)=>{const n=n$(zs,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Zr(zs,t.__scopePopover);return v.jsx(Wi,{present:r||s.open,children:s.modal?v.jsx(r$,{...i,ref:e}):v.jsx(i$,{...i,ref:e})})});Nb.displayName=zs;var r$=p.forwardRef((t,e)=>{const n=Zr(zs,t.__scopePopover),r=p.useRef(null),i=ke(e,r),s=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return Cg(o)},[]),v.jsx(Qu,{as:Vr,allowPinchZoom:!0,children:v.jsx(Rb,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:K(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),i$=p.forwardRef((t,e)=>{const n=Zr(zs,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return v.jsx(Rb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Rb=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=t,f=Zr(zs,n),m=tl(n);return dg(),v.jsx(zu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx($u,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:v.jsx(pb,{"data-state":Ob(f.open),role:"dialog",id:f.contentId,...m,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Pb="PopoverClose",s$=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Zr(Pb,n);return v.jsx(re.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>i.onOpenChange(!1))})});s$.displayName=Pb;var o$="PopoverArrow",a$=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=tl(n);return v.jsx(mb,{...i,...r,ref:e})});a$.displayName=o$;function Ob(t){return t?"open":"closed"}var l$=Sb,c$=Tb,u$=Ib,Ab=Nb;const d$=l$,f$=c$,Db=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>v.jsx(u$,{children:v.jsx(Ab,{ref:i,align:e,sideOffset:n,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Db.displayName=Ab.displayName;function h$({dateRange:t,onUpdate:e}){return v.jsx("div",{className:"grid gap-2",children:v.jsxs(d$,{children:[v.jsx(f$,{asChild:!0,children:v.jsxs(et,{id:"date",variant:"outline",className:ne("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[v.jsx(Dj,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?v.jsxs(v.Fragment,{children:[Es(t.from,"LLL dd, y")," -"," ",Es(t.to,"LLL dd, y")]}):Es(t.from,"LLL dd, y"):v.jsx("span",{children:"Pick a date range"})]})}),v.jsx(Db,{className:"w-auto p-0",align:"start",children:v.jsx(zS,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:e,numberOfMonths:2})})]})})}const Sn=p.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Sn.displayName="Input";const p$=cg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Da({className:t,variant:e,...n}){return v.jsx("div",{className:ne(p$({variant:e}),t),...n})}function z_(t,[e,n]){return Math.min(n,Math.max(e,t))}function m$(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var g$="VisuallyHidden",Mb=p.forwardRef((t,e)=>v.jsx(re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Mb.displayName=g$;var v$=[" ","Enter","ArrowUp","ArrowDown"],y$=[" ","Enter"],nl="Select",[Xu,Ju,_$]=$E(nl),[ao,Pz]=Ui(nl,[_$,Gu]),Zu=Gu(),[w$,ei]=ao(nl),[x$,C$]=ao(nl),Lb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:f,required:m,form:w}=t,y=Zu(e),[x,g]=p.useState(null),[h,_]=p.useState(null),[C,E]=p.useState(!1),b=rg(c),[S=!1,k]=Ws({prop:r,defaultProp:i,onChange:s}),[P,N]=Ws({prop:o,defaultProp:a,onChange:l}),F=p.useRef(null),A=x?w||!!x.closest("form"):!0,[$,Y]=p.useState(new Set),Z=Array.from($).map(j=>j.props.value).join(";");return v.jsx(hb,{...y,children:v.jsxs(w$,{required:m,scope:e,trigger:x,onTriggerChange:g,valueNode:h,onValueNodeChange:_,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Kn(),value:P,onValueChange:N,open:S,onOpenChange:k,dir:b,triggerPointerDownPosRef:F,disabled:f,children:[v.jsx(Xu.Provider,{scope:e,children:v.jsx(x$,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(j=>{Y(z=>new Set(z).add(j))},[]),onNativeOptionRemove:p.useCallback(j=>{Y(z=>{const T=new Set(z);return T.delete(j),T})},[]),children:n})}),A?v.jsxs(ok,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:P,onChange:j=>N(j.target.value),disabled:f,form:w,children:[P===void 0?v.jsx("option",{value:""}):null,Array.from($)]},Z):null]})})};Lb.displayName=nl;var Fb="SelectTrigger",jb=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Zu(n),o=ei(Fb,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Ju(n),d=p.useRef("touch"),[u,f,m]=ak(y=>{const x=c().filter(_=>!_.disabled),g=x.find(_=>_.value===o.value),h=lk(x,y,g);h!==void 0&&o.onValueChange(h.value)}),w=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return v.jsx(xg,{asChild:!0,...s,children:v.jsx(re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sk(o.value)?"":void 0,...i,ref:l,onClick:K(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:K(i.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:K(i.onKeyDown,y=>{const x=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(x&&y.key===" ")&&v$.includes(y.key)&&(w(),y.preventDefault())})})})});jb.displayName=Fb;var Ub="SelectValue",Wb=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ei(Ub,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,u=ke(e,l.onValueNodeChange);return mt(()=>{c(d)},[c,d]),v.jsx(re.span,{...a,ref:u,style:{pointerEvents:"none"},children:sk(l.value)?v.jsx(v.Fragment,{children:o}):s})});Wb.displayName=Ub;var E$="SelectIcon",Bb=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(re.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Bb.displayName=E$;var S$="SelectPortal",$b=t=>v.jsx(Ku,{asChild:!0,...t});$b.displayName=S$;var Oi="SelectContent",zb=p.forwardRef((t,e)=>{const n=ei(Oi,t.__scopeSelect),[r,i]=p.useState();if(mt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Gs.createPortal(v.jsx(Hb,{scope:t.__scopeSelect,children:v.jsx(Xu.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),s):null}return v.jsx(Vb,{...t,ref:e})});zb.displayName=Oi;var Gt=10,[Hb,ti]=ao(Oi),b$="SelectContentImpl",Vb=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:x,...g}=t,h=ei(Oi,n),[_,C]=p.useState(null),[E,b]=p.useState(null),S=ke(e,U=>C(U)),[k,P]=p.useState(null),[N,F]=p.useState(null),A=Ju(n),[$,Y]=p.useState(!1),Z=p.useRef(!1);p.useEffect(()=>{if(_)return Cg(_)},[_]),dg();const j=p.useCallback(U=>{const[me,...Ve]=A().map(oe=>oe.ref.current),[ue]=Ve.slice(-1),se=document.activeElement;for(const oe of U)if(oe===se||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===me&&E&&(E.scrollTop=0),oe===ue&&E&&(E.scrollTop=E.scrollHeight),oe==null||oe.focus(),document.activeElement!==se))return},[A,E]),z=p.useCallback(()=>j([k,_]),[j,k,_]);p.useEffect(()=>{$&&z()},[$,z]);const{onOpenChange:T,triggerPointerDownPosRef:O}=h;p.useEffect(()=>{if(_){let U={x:0,y:0};const me=ue=>{var se,oe;U={x:Math.abs(Math.round(ue.pageX)-(((se=O.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((oe=O.current)==null?void 0:oe.y)??0))}},Ve=ue=>{U.x<=10&&U.y<=10?ue.preventDefault():_.contains(ue.target)||T(!1),document.removeEventListener("pointermove",me),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[_,T,O]),p.useEffect(()=>{const U=()=>T(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[T]);const[L,H]=ak(U=>{const me=A().filter(se=>!se.disabled),Ve=me.find(se=>se.ref.current===document.activeElement),ue=lk(me,U,Ve);ue&&setTimeout(()=>ue.ref.current.focus())}),pe=p.useCallback((U,me,Ve)=>{const ue=!Z.current&&!Ve;(h.value!==void 0&&h.value===me||ue)&&(P(U),ue&&(Z.current=!0))},[h.value]),yt=p.useCallback(()=>_==null?void 0:_.focus(),[_]),He=p.useCallback((U,me,Ve)=>{const ue=!Z.current&&!Ve;(h.value!==void 0&&h.value===me||ue)&&F(U)},[h.value]),kt=r==="popper"?$h:Yb,Fe=kt===$h?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:x}:{};return v.jsx(Hb,{scope:n,content:_,viewport:E,onViewportChange:b,itemRefCallback:pe,selectedItem:k,onItemLeave:yt,itemTextRefCallback:He,focusSelectedItem:z,selectedItemText:N,position:r,isPositioned:$,searchRef:L,children:v.jsx(Qu,{as:Vr,allowPinchZoom:!0,children:v.jsx(zu,{asChild:!0,trapped:h.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:K(i,U=>{var me;(me=h.trigger)==null||me.focus({preventScroll:!0}),U.preventDefault()}),children:v.jsx($u,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:v.jsx(kt,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:U=>U.preventDefault(),...g,...Fe,onPlaced:()=>Y(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:K(g.onKeyDown,U=>{const me=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!me&&U.key.length===1&&H(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ue=A().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const se=U.target,oe=ue.indexOf(se);ue=ue.slice(oe+1)}setTimeout(()=>j(ue)),U.preventDefault()}})})})})})})});Vb.displayName=b$;var k$="SelectItemAlignedPosition",Yb=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ei(Oi,n),o=ti(Oi,n),[a,l]=p.useState(null),[c,d]=p.useState(null),u=ke(e,S=>d(S)),f=Ju(n),m=p.useRef(!1),w=p.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:g,focusSelectedItem:h}=o,_=p.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&x&&g){const S=s.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),N=g.getBoundingClientRect();if(s.dir!=="rtl"){const se=N.left-k.left,oe=P.left-se,ct=S.left-oe,Lt=S.width+ct,ni=Math.max(Lt,k.width),ri=window.innerWidth-Gt,cr=z_(oe,[Gt,Math.max(Gt,ri-ni)]);a.style.minWidth=Lt+"px",a.style.left=cr+"px"}else{const se=k.right-N.right,oe=window.innerWidth-P.right-se,ct=window.innerWidth-S.right-oe,Lt=S.width+ct,ni=Math.max(Lt,k.width),ri=window.innerWidth-Gt,cr=z_(oe,[Gt,Math.max(Gt,ri-ni)]);a.style.minWidth=Lt+"px",a.style.right=cr+"px"}const F=f(),A=window.innerHeight-Gt*2,$=y.scrollHeight,Y=window.getComputedStyle(c),Z=parseInt(Y.borderTopWidth,10),j=parseInt(Y.paddingTop,10),z=parseInt(Y.borderBottomWidth,10),T=parseInt(Y.paddingBottom,10),O=Z+j+$+T+z,L=Math.min(x.offsetHeight*5,O),H=window.getComputedStyle(y),pe=parseInt(H.paddingTop,10),yt=parseInt(H.paddingBottom,10),He=S.top+S.height/2-Gt,kt=A-He,Fe=x.offsetHeight/2,U=x.offsetTop+Fe,me=Z+j+U,Ve=O-me;if(me<=He){const se=F.length>0&&x===F[F.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-y.offsetTop-y.offsetHeight,ct=Math.max(kt,Fe+(se?yt:0)+oe+z),Lt=me+ct;a.style.height=Lt+"px"}else{const se=F.length>0&&x===F[0].ref.current;a.style.top="0px";const ct=Math.max(He,Z+y.offsetTop+(se?pe:0)+Fe)+Ve;a.style.height=ct+"px",y.scrollTop=me-He+y.offsetTop}a.style.margin=`${Gt}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,y,x,g,s.dir,r]);mt(()=>_(),[_]);const[C,E]=p.useState();mt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const b=p.useCallback(S=>{S&&w.current===!0&&(_(),h==null||h(),w.current=!1)},[_,h]);return v.jsx(I$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:b,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:v.jsx(re.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Yb.displayName=k$;var T$="SelectPopperPosition",$h=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gt,...s}=t,o=Zu(n);return v.jsx(pb,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$h.displayName=T$;var[I$,bg]=ao(Oi,{}),zh="SelectViewport",Gb=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ti(zh,n),o=bg(zh,n),a=ke(e,s.onViewportChange),l=p.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(Xu.Slot,{scope:n,children:v.jsx(re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:K(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const m=Math.abs(l.current-d.scrollTop);if(m>0){const w=window.innerHeight-Gt*2,y=parseFloat(u.style.minHeight),x=parseFloat(u.style.height),g=Math.max(y,x);if(g<w){const h=g+m,_=Math.min(w,h),C=h-_;u.style.height=_+"px",u.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Gb.displayName=zh;var Kb="SelectGroup",[N$,R$]=ao(Kb),qb=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Kn();return v.jsx(N$,{scope:n,id:i,children:v.jsx(re.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qb.displayName=Kb;var Qb="SelectLabel",Xb=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=R$(Qb,n);return v.jsx(re.div,{id:i.id,...r,ref:e})});Xb.displayName=Qb;var nu="SelectItem",[P$,Jb]=ao(nu),Zb=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ei(nu,n),l=ti(nu,n),c=a.value===r,[d,u]=p.useState(s??""),[f,m]=p.useState(!1),w=ke(e,h=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,h,r,i)}),y=Kn(),x=p.useRef("touch"),g=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(P$,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:p.useCallback(h=>{u(_=>_||((h==null?void 0:h.textContent)??"").trim())},[]),children:v.jsx(Xu.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:v.jsx(re.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:K(o.onFocus,()=>m(!0)),onBlur:K(o.onBlur,()=>m(!1)),onClick:K(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:K(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:K(o.onPointerDown,h=>{x.current=h.pointerType}),onPointerMove:K(o.onPointerMove,h=>{var _;x.current=h.pointerType,i?(_=l.onItemLeave)==null||_.call(l):x.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(o.onPointerLeave,h=>{var _;h.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:K(o.onKeyDown,h=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&h.key===" "||(y$.includes(h.key)&&g(),h.key===" "&&h.preventDefault())})})})})});Zb.displayName=nu;var Oo="SelectItemText",ek=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ei(Oo,n),a=ti(Oo,n),l=Jb(Oo,n),c=C$(Oo,n),[d,u]=p.useState(null),f=ke(e,g=>u(g),l.onItemTextChange,g=>{var h;return(h=a.itemTextRefCallback)==null?void 0:h.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return mt(()=>(y(w),()=>x(w)),[y,x,w]),v.jsxs(v.Fragment,{children:[v.jsx(re.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(s.children,o.valueNode):null]})});ek.displayName=Oo;var tk="SelectItemIndicator",nk=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Jb(tk,n).isSelected?v.jsx(re.span,{"aria-hidden":!0,...r,ref:e}):null});nk.displayName=tk;var Hh="SelectScrollUpButton",O$=p.forwardRef((t,e)=>{const n=ti(Hh,t.__scopeSelect),r=bg(Hh,t.__scopeSelect),[i,s]=p.useState(!1),o=ke(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(rk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});O$.displayName=Hh;var Vh="SelectScrollDownButton",A$=p.forwardRef((t,e)=>{const n=ti(Vh,t.__scopeSelect),r=bg(Vh,t.__scopeSelect),[i,s]=p.useState(!1),o=ke(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(rk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});A$.displayName=Vh;var rk=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ti("SelectScrollButton",n),o=p.useRef(null),a=Ju(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),mt(()=>{var d;const c=a().find(u=>u.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),v.jsx(re.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:K(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:K(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:K(i.onPointerLeave,()=>{l()})})}),D$="SelectSeparator",ik=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(re.div,{"aria-hidden":!0,...r,ref:e})});ik.displayName=D$;var Yh="SelectArrow",M$=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zu(n),s=ei(Yh,n),o=ti(Yh,n);return s.open&&o.position==="popper"?v.jsx(mb,{...i,...r,ref:e}):null});M$.displayName=Yh;function sk(t){return t===""||t===void 0}var ok=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),s=ke(e,i),o=m$(n);return p.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const u=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(u)}},[o,n]),v.jsx(Mb,{asChild:!0,children:v.jsx("select",{...r,ref:s,defaultValue:n})})});ok.displayName="BubbleSelect";function ak(t){const e=kn(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function lk(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=L$(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function L$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var F$=Lb,ck=jb,j$=Wb,U$=Bb,W$=$b,uk=zb,B$=Gb,dk=qb,fk=Xb,hk=Zb,$$=ek,z$=nk,pk=ik;const df=F$,ff=j$,nc=p.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(ck,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(U$,{asChild:!0,children:v.jsx(Fj,{className:"h-4 w-4 opacity-50"})})]}));nc.displayName=ck.displayName;const rc=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(W$,{children:v.jsx(uk,{ref:i,className:ne("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:v.jsx(B$,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));rc.displayName=uk.displayName;const H$=p.forwardRef(({className:t,...e},n)=>v.jsx(fk,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));H$.displayName=fk.displayName;const Ao=p.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(hk,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(z$,{children:v.jsx(Lj,{className:"h-4 w-4"})})}),v.jsx($$,{children:e})]}));Ao.displayName=hk.displayName;const V$=p.forwardRef(({className:t,...e},n)=>v.jsx(pk,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",t),...e}));V$.displayName=pk.displayName;const Y$=dk;Y$.displayName=dk.displayName;const mk=p.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));mk.displayName="Textarea";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function G$(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function K$(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var as=function(){return as=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},as.apply(this,arguments)},gk=function(t){return{loading:t==null,value:t}},q$=function(){return function(t,e){switch(e.type){case"error":return as(as({},t),{error:e.error,loading:!1,value:void 0});case"reset":return gk(e.defaultValue);case"value":return as(as({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Q$=function(t){var e=t?t():void 0,n=p.useReducer(q$(),gk(e)),r=n[0],i=n[1],s=p.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=p.useCallback(function(l){i({type:"error",error:l})},[]),a=p.useCallback(function(l){i({type:"value",value:l})},[]);return p.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},X$=function(t,e){var n=Q$(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return p.useEffect(function(){var l=PO(t,function(c){return G$(void 0,void 0,void 0,function(){var d;return K$(this,function(u){switch(u.label){case 0:return[3,4];case 1:return u.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return u.sent(),[3,4];case 3:return d=u.sent(),s(d),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};function J$({ticketId:t}){const[e,n]=p.useState([]),[r,i]=p.useState(""),[s]=X$(Jl);p.useEffect(()=>{if(!t)return;const a=Yn(Gn,`tickets/${t}/comments`),l=qm(a,c=>{if(c.exists()){const d=Object.entries(c.val()).map(([u,f])=>({id:u,...f})).sort((u,f)=>new Date(f.timestamp)-new Date(u.timestamp));n(d)}else n([])});return()=>l()},[t]);const o=async a=>{if(a.preventDefault(),!(!r.trim()||!s))try{const l=Yn(Gn,`tickets/${t}/comments`);await Gm(l,{content:r.trim(),user:s.displayName||"Anonymous",userEmail:s.email,userPhotoURL:s.photoURL,timestamp:new Date().toISOString()}),i("")}catch(l){console.error("Error adding comment:",l)}};return v.jsxs("div",{className:"flex flex-col h-full bg-[#0a1e46] text-white",children:[v.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.map(a=>{var l;return v.jsxs("div",{className:"bg-[#0f2a5e] rounded-lg p-4 border border-gray-700",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[a.userPhotoURL?v.jsx("img",{src:a.userPhotoURL,alt:a.user,className:"w-8 h-8 rounded-full"}):v.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center uppercase",children:((l=a.user)==null?void 0:l[0])||"A"}),v.jsx("span",{className:"font-medium",children:a.user})]}),v.jsx("span",{className:"text-sm text-gray-300",children:Es(new Date(a.timestamp),"MMM d, yyyy, h:mm a")})]}),v.jsx("p",{className:"text-sm",children:a.content})]},a.id)})}),v.jsx("div",{className:"border-t border-gray-700 p-4 bg-[#0f2a5e] mt-auto",children:v.jsxs("form",{onSubmit:o,className:"space-y-2",children:[v.jsx(mk,{value:r,onChange:a=>i(a.target.value),placeholder:"Add a comment...",className:"min-h-[100px] resize-none bg-[#0a1e46] border-gray-700 text-white placeholder:text-gray-400"}),v.jsx("div",{className:"flex justify-end",children:v.jsx(et,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:!r.trim()||!s,children:"Post Comment"})})]})})]})}function Z$({ticketId:t}){const[e,n]=p.useState([]),[r,i]=p.useState(!1),[s,o]=p.useState(0);p.useEffect(()=>{if(!t)return;const u=Yn(Gn,`tickets/${t}/attachments`),f=qm(u,m=>{if(m.exists()){const w=Object.entries(m.val()).map(([y,x])=>({id:y,...x})).sort((y,x)=>new Date(x.uploadedAt)-new Date(y.uploadedAt));n(w)}else n([])});return()=>f()},[t]);const a=async u=>{const f=u.target.files[0];if(!(!f||!t)){if(f.size>10*1024*1024){alert("File size must be less than 10MB");return}i(!0),o(0);try{const w=`${new Date().getTime()}_${f.name}`,y=`tickets/${t}/${w}`,x=s_(o_,y),g=await hF(x,f),h=await pF(g.ref),_=Yn(Gn,`tickets/${t}/attachments`);await Gm(_,{name:f.name,type:f.type,size:f.size,url:h,path:y,uploadedAt:new Date().toISOString()}),o(100)}catch(m){console.error("Error uploading file:",m),alert("Failed to upload file")}finally{i(!1),o(0)}}},l=async(u,f)=>{if(window.confirm("Are you sure you want to delete this file?"))try{const m=s_(o_,f);await mF(m);const w=Yn(Gn,`tickets/${t}/attachments/${u}`);await xE(w)}catch(m){console.error("Error deleting file:",m),alert("Failed to delete file")}},c=u=>{if(u===0)return"0 Bytes";const f=1024,m=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(u)/Math.log(f));return parseFloat((u/Math.pow(f,w)).toFixed(2))+" "+m[w]},d=u=>u.startsWith("image/")?v.jsx($j,{className:"h-5 w-5"}):v.jsx(Wj,{className:"h-5 w-5"});return v.jsxs("div",{className:"space-y-4 p-4 bg-[#0a1e46] text-white h-[600px] overflow-y-auto",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("label",{className:"flex-1",children:v.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx(Kj,{className:"w-8 h-8 mb-2 text-gray-500"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload file"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Max 10MB"})]}),v.jsx(Sn,{type:"file",className:"hidden",onChange:a,disabled:r,accept:"image/*,.pdf,.doc,.docx"})]})}),v.jsx("label",{children:v.jsxs("div",{className:"flex items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx(Mj,{className:"w-8 h-8 mb-2 text-gray-500"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Take Photo"})]}),v.jsx(Sn,{type:"file",className:"hidden",onChange:a,disabled:r,accept:"image/*",capture:"environment"})]})})]}),r&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[v.jsx(zj,{className:"h-4 w-4 animate-spin"}),v.jsxs("span",{children:["Uploading... ",s,"%"]})]}),v.jsx("div",{className:"space-y-2",children:e.map(u=>v.jsxs("div",{className:"bg-[#0f2a5e] p-4 rounded-lg border border-gray-700",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[d(u.type),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:u.name}),v.jsxs("div",{className:"flex gap-2 text-sm text-gray-500",children:[v.jsx("span",{children:c(u.size)}),v.jsx("span",{children:""}),v.jsx("span",{children:Es(new Date(u.uploadedAt),"PP")})]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(et,{variant:"ghost",size:"sm",onClick:()=>window.open(u.url,"_blank"),children:"View"}),v.jsx(et,{variant:"ghost",size:"sm",onClick:()=>l(u.id,u.path),children:v.jsx(Gj,{className:"h-4 w-4 text-red-500"})})]})]},u.id))})]})}var kg="Dialog",[vk,Oz]=Ui(kg),[ez,dn]=vk(kg),yk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,d]=Ws({prop:r,defaultProp:i,onChange:s});return v.jsx(ez,{scope:e,triggerRef:a,contentRef:l,contentId:Kn(),titleId:Kn(),descriptionId:Kn(),open:c,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};yk.displayName=kg;var _k="DialogTrigger",wk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dn(_k,n),s=ke(e,i.triggerRef);return v.jsx(re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ng(i.open),...r,ref:s,onClick:K(t.onClick,i.onOpenToggle)})});wk.displayName=_k;var Tg="DialogPortal",[tz,xk]=vk(Tg,{forceMount:void 0}),Ck=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=dn(Tg,e);return v.jsx(tz,{scope:e,forceMount:n,children:p.Children.map(r,o=>v.jsx(Wi,{present:n||s.open,children:v.jsx(Ku,{asChild:!0,container:i,children:o})}))})};Ck.displayName=Tg;var ru="DialogOverlay",Ek=p.forwardRef((t,e)=>{const n=xk(ru,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=dn(ru,t.__scopeDialog);return s.modal?v.jsx(Wi,{present:r||s.open,children:v.jsx(nz,{...i,ref:e})}):null});Ek.displayName=ru;var nz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dn(ru,n);return v.jsx(Qu,{as:Vr,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(re.div,{"data-state":Ng(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ai="DialogContent",Sk=p.forwardRef((t,e)=>{const n=xk(Ai,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=dn(Ai,t.__scopeDialog);return v.jsx(Wi,{present:r||s.open,children:s.modal?v.jsx(rz,{...i,ref:e}):v.jsx(iz,{...i,ref:e})})});Sk.displayName=Ai;var rz=p.forwardRef((t,e)=>{const n=dn(Ai,t.__scopeDialog),r=p.useRef(null),i=ke(e,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return Cg(s)},[]),v.jsx(bk,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:K(t.onFocusOutside,s=>s.preventDefault())})}),iz=p.forwardRef((t,e)=>{const n=dn(Ai,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return v.jsx(bk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),bk=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=dn(Ai,n),l=p.useRef(null),c=ke(e,l);return dg(),v.jsxs(v.Fragment,{children:[v.jsx(zu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx($u,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ng(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(sz,{titleId:a.titleId}),v.jsx(az,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Ig="DialogTitle",kk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dn(Ig,n);return v.jsx(re.h2,{id:i.titleId,...r,ref:e})});kk.displayName=Ig;var Tk="DialogDescription",Ik=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dn(Tk,n);return v.jsx(re.p,{id:i.descriptionId,...r,ref:e})});Ik.displayName=Tk;var Nk="DialogClose",Rk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dn(Nk,n);return v.jsx(re.button,{type:"button",...r,ref:e,onClick:K(t.onClick,()=>i.onOpenChange(!1))})});Rk.displayName=Nk;function Ng(t){return t?"open":"closed"}var Pk="DialogTitleWarning",[Az,Ok]=CF(Pk,{contentName:Ai,titleName:Ig,docsSlug:"dialog"}),sz=({titleId:t})=>{const e=Ok(Pk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},oz="DialogDescriptionWarning",az=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ok(oz).contentName}}.`;return p.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Ak=yk,lz=wk,Dk=Ck,ed=Ek,td=Sk,nd=kk,rd=Ik,Mk=Rk;const cz=Ak,uz=Dk,Lk=p.forwardRef(({className:t,...e},n)=>v.jsx(ed,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Lk.displayName=ed.displayName;const Fk=p.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(uz,{children:[v.jsx(Lk,{}),v.jsxs(td,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(Mk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(gS,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fk.displayName=td.displayName;const dz=p.forwardRef(({className:t,...e},n)=>v.jsx(nd,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",t),...e}));dz.displayName=nd.displayName;const fz=p.forwardRef(({className:t,...e},n)=>v.jsx(rd,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));fz.displayName=rd.displayName;const hz=Ak,pz=lz,mz=Dk,jk=p.forwardRef(({className:t,...e},n)=>v.jsx(ed,{className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));jk.displayName=ed.displayName;const gz=cg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Uk=p.forwardRef(({side:t="right",className:e,children:n,...r},i)=>v.jsxs(mz,{children:[v.jsx(jk,{}),v.jsxs(td,{ref:i,className:ne(gz({side:t}),e),...r,children:[n,v.jsxs(Mk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(gS,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uk.displayName=td.displayName;const Wk=({className:t,...e})=>v.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",t),...e});Wk.displayName="SheetHeader";const Bk=p.forwardRef(({className:t,...e},n)=>v.jsx(nd,{ref:n,className:ne("text-lg font-semibold text-foreground",t),...e}));Bk.displayName=nd.displayName;const vz=p.forwardRef(({className:t,...e},n)=>v.jsx(rd,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));vz.displayName=rd.displayName;const Do=p.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Do.displayName="Card";const Mo=p.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",t),...e}));Mo.displayName="CardHeader";const Lo=p.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lo.displayName="CardTitle";const Fo=p.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));Fo.displayName="CardDescription";const jo=p.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:ne("p-6 pt-0",t),...e}));jo.displayName="CardContent";const yz=p.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",t),...e}));yz.displayName="CardFooter";function _z(){const[t,e]=p.useState([{id:"staff1",name:"Jonathan Charles",department:"Maintenance",activeTickets:3},{id:"staff2",name:"Tyler",department:"IT",activeTickets:1},{id:"staff3",name:"Ebbie",department:"Electrical",activeTickets:2}]),[n,r]=p.useState({name:"",department:"",email:""}),[i,s]=p.useState([{id:"loc1",name:"Building A"},{id:"loc2",name:"Building B"},{id:"loc3",name:"Sports Field"}]),o=async()=>{if(!(!n.name||!n.department))try{const l=Yn(Gn,"staff");await Gm(l,{...n,activeTickets:0,createdAt:new Date().toISOString()}),r({name:"",department:"",email:""})}catch(l){console.error("Error adding staff:",l)}},a=async l=>{if(window.confirm("Are you sure you want to remove this staff member?"))try{await xE(Yn(Gn,`staff/${l}`))}catch(c){console.error("Error removing staff:",c)}};return v.jsxs(hz,{children:[v.jsx(pz,{asChild:!0,children:v.jsx(et,{variant:"outline",size:"icon",children:v.jsx(Yj,{className:"h-4 w-4"})})}),v.jsxs(Uk,{className:"w-[400px] sm:w-[540px] bg-[#0a1e46] text-white h-screen overflow-y-auto p-6",children:[v.jsx(Wk,{children:v.jsx(Bk,{className:"text-white",children:"System Management"})}),v.jsxs(mS,{defaultValue:"staff",className:"mt-6",children:[v.jsxs(ag,{className:"grid w-full grid-cols-3 bg-[#0f2a5e]",children:[v.jsxs(xs,{value:"staff",className:"text-gray-300 data-[state=active]:bg-[#0a1e46] data-[state=active]:text-white",children:[v.jsx(qj,{className:"h-4 w-4 mr-2"}),"Staff"]}),v.jsxs(xs,{value:"workload",className:"text-gray-300 data-[state=active]:bg-[#0a1e46] data-[state=active]:text-white",children:[v.jsx(Oj,{className:"h-4 w-4 mr-2"}),"Workload"]}),v.jsxs(xs,{value:"locations",className:"text-gray-300 data-[state=active]:bg-[#0a1e46] data-[state=active]:text-white",children:[v.jsx(Aj,{className:"h-4 w-4 mr-2"}),"Locations"]})]}),v.jsxs(Cs,{value:"staff",className:"space-y-4 mt-4",children:[v.jsxs(Do,{className:"bg-[#0f2a5e] border-gray-700",children:[v.jsxs(Mo,{children:[v.jsx(Lo,{className:"text-white",children:"Add Staff Member"}),v.jsx(Fo,{className:"text-gray-300",children:"Add new maintenance staff to the system"})]}),v.jsx(jo,{className:"space-y-4",children:v.jsxs("div",{className:"space-y-2",children:[v.jsx(Sn,{placeholder:"Name",value:n.name,onChange:l=>r(c=>({...c,name:l.target.value})),className:"bg-[#0a1e46] border-gray-700 text-white placeholder:text-gray-400"}),v.jsx(Sn,{placeholder:"Department",value:n.department,onChange:l=>r(c=>({...c,department:l.target.value})),className:"bg-[#0a1e46] border-gray-700 text-white placeholder:text-gray-400"}),v.jsx(Sn,{placeholder:"Email",type:"email",value:n.email,onChange:l=>r(c=>({...c,email:l.target.value})),className:"bg-[#0a1e46] border-gray-700 text-white placeholder:text-gray-400"}),v.jsx(et,{onClick:o,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Add Staff Member"})]})})]}),v.jsxs(Do,{className:"bg-[#0f2a5e] border-gray-700",children:[v.jsxs(Mo,{children:[v.jsx(Lo,{className:"text-white",children:"Current Staff"}),v.jsx(Fo,{className:"text-gray-300",children:"Manage existing staff members"})]}),v.jsx(jo,{children:v.jsx("div",{className:"space-y-2",children:t.map(l=>v.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-700 rounded-lg bg-[#0a1e46]",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-white",children:l.name}),v.jsx("p",{className:"text-sm text-gray-300",children:l.department})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-sm text-gray-300",children:[l.activeTickets," active tickets"]}),v.jsx(et,{variant:"ghost",size:"sm",onClick:()=>a(l.id),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:"Remove"})]})]},l.id))})})]})]}),v.jsx(Cs,{value:"workload",children:v.jsxs(Do,{className:"bg-[#0f2a5e] border-gray-700",children:[v.jsxs(Mo,{children:[v.jsx(Lo,{className:"text-white",children:"Staff Workload"}),v.jsx(Fo,{className:"text-gray-300",children:"Current ticket distribution"})]}),v.jsx(jo,{children:v.jsx("div",{className:"space-y-4",children:t.map(l=>v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium text-white",children:l.name}),v.jsxs("span",{className:"text-sm text-gray-300",children:[l.activeTickets," tickets"]})]}),v.jsx("div",{className:"h-2 bg-[#0a1e46] rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Math.min(l.activeTickets/5*100,100)}%`,backgroundColor:l.activeTickets>4?"#ef4444":"#3b82f6"}})})]},l.id))})})]})}),v.jsx(Cs,{value:"locations",children:v.jsxs(Do,{className:"bg-[#0f2a5e] border-gray-700",children:[v.jsxs(Mo,{children:[v.jsx(Lo,{className:"text-white",children:"Locations"}),v.jsx(Fo,{className:"text-gray-300",children:"Manage maintenance locations"})]}),v.jsx(jo,{children:v.jsxs("div",{className:"space-y-4",children:[i.map(l=>v.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-700 rounded-lg bg-[#0a1e46]",children:[v.jsx("span",{className:"text-white",children:l.name}),v.jsx(et,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white hover:bg-[#0a1e46]",children:"Edit"})]},l.id)),v.jsx(et,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Add Location"})]})})]})})]})]})]})}const wz=[{value:"new",label:"New"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}],xz=[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],H_=[{id:"staff1",name:"Jonathan Charles",department:""},{id:"staff2",name:"Tyler",department:""},{id:"staff3",name:"Ebbie",department:""}],Cz=({status:t})=>{const e={new:"bg-blue-100 text-blue-800 border-blue-200","in-progress":"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-green-100 text-green-800 border-green-200"};return v.jsx(Da,{className:`${e[t]} text-xs uppercase`,children:t})},Ez=({priority:t})=>{const e={high:"bg-red-100 text-red-800 border-red-200",medium:"bg-orange-100 text-orange-800 border-orange-200",low:"bg-green-100 text-green-800 border-green-200"};return v.jsx(Da,{className:`${e[t]} text-xs uppercase`,children:t})},Sz=({ticket:t,onTicketClick:e})=>{var l;const[n,r]=p.useState(!1),[i,s]=p.useState(t),o=(c,d)=>{s(u=>({...u,[c]:d}))},a=async()=>{try{const c=Yn(Gn,`tickets/${t.id}`);await GL(c,{...i,lastUpdated:new Date().toISOString()}),r(!1)}catch(c){console.error("Error updating ticket:",c)}};return v.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[v.jsx("td",{className:"px-4 py-2 text-sm",children:typeof i.requester=="object"?i.requester.email||i.requester.name:i.requester}),v.jsx("td",{className:"px-4 py-2 text-sm",children:n?v.jsx(Sn,{type:"date",value:i.dueDate||"",onChange:c=>o("dueDate",c.target.value),className:"h-8"}):i.dueDate||"No due date"}),v.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:i.ticketId}),v.jsx("td",{className:"px-4 py-2",children:n?v.jsxs(df,{value:i.status,onValueChange:c=>o("status",c),children:[v.jsx(nc,{className:"h-8",children:v.jsx(ff,{})}),v.jsx(rc,{children:wz.map(c=>v.jsx(Ao,{value:c.value,children:c.label},c.value))})]}):v.jsx(Cz,{status:i.status})}),v.jsx("td",{className:"px-4 py-2 text-sm",children:n?v.jsx(Sn,{value:i.subject,onChange:c=>o("subject",c.target.value),className:"h-8"}):i.subject}),v.jsx("td",{className:"px-4 py-2 text-sm",children:n?v.jsx(Sn,{value:i.description,onChange:c=>o("description",c.target.value),className:"h-8"}):i.description}),v.jsx("td",{className:"px-4 py-2",children:n?v.jsxs(df,{value:i.priority,onValueChange:c=>o("priority",c),children:[v.jsx(nc,{className:"h-8",children:v.jsx(ff,{})}),v.jsx(rc,{children:xz.map(c=>v.jsx(Ao,{value:c.value,children:c.label},c.value))})]}):v.jsx(Ez,{priority:i.priority})}),v.jsx("td",{className:"px-4 py-2",children:n?v.jsxs(df,{value:i.assignedTo||"unassigned",onValueChange:c=>o("assignedTo",c==="unassigned"?null:c),children:[v.jsx(nc,{className:"w-full",children:v.jsx(ff,{placeholder:"Select staff member"})}),v.jsxs(rc,{children:[v.jsx(Ao,{value:"unassigned",children:"Unassigned"}),H_.map(c=>v.jsxs(Ao,{value:c.id,children:[c.name," - ",c.department]},c.id))]})]}):v.jsx("div",{className:"flex items-center gap-2",children:i.assignedTo?v.jsx(Da,{variant:"outline",children:((l=H_.find(c=>c.id===i.assignedTo))==null?void 0:l.name)||"Unknown"}):v.jsx(Da,{variant:"secondary",children:"Unassigned"})})}),v.jsx("td",{className:"px-4 py-2",children:v.jsxs("div",{className:"flex gap-1",children:[v.jsx(et,{size:"sm",variant:"ghost",onClick:()=>e(t),children:v.jsx(Hj,{className:"h-4 w-4"})}),n?v.jsxs(v.Fragment,{children:[v.jsx(et,{size:"sm",variant:"ghost",onClick:a,children:"Save"}),v.jsx(et,{size:"sm",variant:"ghost",onClick:()=>r(!1),children:"Cancel"})]}):v.jsx(et,{size:"sm",variant:"ghost",onClick:()=>r(!0),children:v.jsx(Vj,{className:"h-4 w-4"})})]})})]})},bz=()=>{const[t,e]=p.useState([]),[n,r]=p.useState("open"),[i,s]=p.useState(!1),[o,a]=p.useState(""),[l,c]=p.useState(null),[d,u]=p.useState({from:new Date(new Date().setMonth(new Date().getMonth()-1)),to:new Date});p.useEffect(()=>{const y=Yn(Gn,"tickets"),x=qm(y,g=>{if(g.exists()){const h=g.val(),_=Object.entries(h).map(([C,E])=>({id:C,...E})).sort((C,E)=>new Date(E.createdAt)-new Date(C.createdAt));e(_)}});return()=>x()},[]);const f=t.filter(y=>{const x=n==="open"?y.status!=="completed":y.status==="completed",g=o?Object.values(y).some(C=>String(C).toLowerCase().includes(o.toLowerCase())):!0,h=new Date(y.createdAt),_=h>=d.from&&h<=d.to;return x&&g&&_}),m=y=>{c(y),s(!0)},w=()=>{a(""),u({from:new Date(new Date().setMonth(new Date().getMonth()-1)),to:new Date}),r("open")};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx(et,{variant:n==="open"?"default":"outline",onClick:()=>r("open"),children:"Open"}),v.jsx(et,{variant:n==="closed"?"default":"outline",onClick:()=>r("closed"),children:"Closed"})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Tickets"}),v.jsx(Da,{variant:"secondary",children:f.length})]}),v.jsx("div",{className:"flex-1"}),v.jsx(h$,{dateRange:d,onUpdate:u}),v.jsx(Sn,{placeholder:"Search...",value:o,onChange:y=>a(y.target.value),className:"max-w-xs"}),v.jsxs(et,{variant:"default",className:"flex items-center gap-2",onClick:w,children:[v.jsx(Bj,{className:"h-4 w-4"}),"Clear Filters"]}),v.jsx(_z,{})]}),v.jsx("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Reported By"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Due Date"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Ticket Number"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Status"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Title"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Description"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Priority"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Assigned To"}),v.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(y=>v.jsx(Sz,{ticket:y,onTicketClick:m},y.id))})]})}),v.jsx(cz,{open:i,onOpenChange:s,children:v.jsx(Fk,{className:"max-w-3xl min-h-[600px] bg-[#0a1e46] text-white",children:v.jsxs(mS,{defaultValue:"comments",className:"h-full flex flex-col",children:[v.jsxs(ag,{className:"bg-[#0f2a5e] mb-2",children:[v.jsx(xs,{value:"comments",className:"text-gray-300 data-[state=active]:bg-[#0a1e46] data-[state=active]:text-white",children:"Comments"}),v.jsx(xs,{value:"files",className:"text-gray-300 data-[state=active]:bg-[#0a1e46] data-[state=active]:text-white",children:"Files"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v.jsxs(Cs,{value:"comments",className:"h-full m-0",children:[" ",v.jsx(J$,{ticketId:l==null?void 0:l.id})]}),v.jsx(Cs,{value:"files",className:"h-full m-0",children:v.jsx(Z$,{ticketId:l==null?void 0:l.id})})]})]})})})]})})};function kz(){const{signIn:t}=WE(),e=Vp(),n=async()=>{try{await t(),e("/")}catch(r){console.error("Login failed:",r)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"School Maintenance System"}),v.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in with your school account"})]}),v.jsx("div",{children:v.jsx("button",{onClick:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in with Google"})})]})})}function Tz({children:t}){const{user:e,loading:n}=WE(),r=sr();return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?t:v.jsx(I1,{to:"/login",state:{from:r},replace:!0})}function Iz(){return v.jsx(eR,{basename:"/school-maintenance",children:v.jsx(xF,{children:v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsxs(R1,{children:[v.jsx(oh,{path:"/login",element:v.jsx(kz,{})}),v.jsx(oh,{path:"/",element:v.jsx(Tz,{children:v.jsx(bz,{})})})]})})})})}ix(document.getElementById("root")).render(v.jsx(p.StrictMode,{children:v.jsx(Iz,{})}));
