function xI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tw={exports:{}},lc={},Iw={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),TI=Symbol.for("react.portal"),II=Symbol.for("react.fragment"),kI=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),PI=Symbol.for("react.provider"),NI=Symbol.for("react.context"),AI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),OI=Symbol.for("react.memo"),DI=Symbol.for("react.lazy"),vv=Symbol.iterator;function LI(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rw=Object.assign,Pw={};function js(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||kw}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nw(){}Nw.prototype=js.prototype;function Jf(t,e,n){this.props=t,this.context=e,this.refs=Pw,this.updater=n||kw}var Zf=Jf.prototype=new Nw;Zf.constructor=Jf;Rw(Zf,js.prototype);Zf.isPureReactComponent=!0;var yv=Array.isArray,Aw=Object.prototype.hasOwnProperty,ep={current:null},bw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Aw.call(e,r)&&!bw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:ep.current}}function MI(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function FI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FI(""+t.key):e.toString(36)}function Ma(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case TI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gd(o,0):r,yv(i)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),Ma(i,e,n,"",function(c){return c})):i!=null&&(tp(i)&&(i=MI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_v,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yv(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+gd(s,l);o+=Ma(s,e,n,u,i)}else if(u=LI(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+gd(s,l++),o+=Ma(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function aa(t,e,n){if(t==null)return t;var r=[],i=0;return Ma(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},Fa={transition:null},UI={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:ep};function Dw(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:aa,forEach:function(t,e,n){aa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return aa(t,function(){e++}),e},toArray:function(t){return aa(t,function(e){return e})||[]},only:function(t){if(!tp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=js;ne.Fragment=II;ne.Profiler=RI;ne.PureComponent=Jf;ne.StrictMode=kI;ne.Suspense=bI;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI;ne.act=Dw;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ep.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Aw.call(e,u)&&!bw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:NI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PI,_context:t},t.Consumer=t};ne.createElement=Ow;ne.createFactory=function(t){var e=Ow.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:AI,render:t}};ne.isValidElement=tp;ne.lazy=function(t){return{$$typeof:DI,_payload:{_status:-1,_result:t},_init:jI}};ne.memo=function(t,e){return{$$typeof:OI,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Fa.transition;Fa.transition={};try{t()}finally{Fa.transition=e}};ne.unstable_act=Dw;ne.useCallback=function(t,e){return _t.current.useCallback(t,e)};ne.useContext=function(t){return _t.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};ne.useEffect=function(t,e){return _t.current.useEffect(t,e)};ne.useId=function(){return _t.current.useId()};ne.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return _t.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};ne.useRef=function(t){return _t.current.useRef(t)};ne.useState=function(t){return _t.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return _t.current.useTransition()};ne.version="18.3.1";Iw.exports=ne;var g=Iw.exports;const pr=xw(g),zI=xI({__proto__:null,default:pr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=g,$I=Symbol.for("react.element"),WI=Symbol.for("react.fragment"),VI=Object.prototype.hasOwnProperty,HI=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GI={key:!0,ref:!0,__self:!0,__source:!0};function Lw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VI.call(e,r)&&!GI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$I,type:t,key:s,ref:o,props:i,_owner:HI.current}}lc.Fragment=WI;lc.jsx=Lw;lc.jsxs=Lw;Tw.exports=lc;var N=Tw.exports,Mw={exports:{}},jt={},Fw={exports:{}},jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var V=j.length;j.push($);e:for(;0<V;){var Q=V-1>>>1,se=j[Q];if(0<i(se,$))j[Q]=$,j[V]=se,V=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],V=j.pop();if(V!==$){j[0]=V;e:for(var Q=0,se=j.length,me=se>>>1;Q<me;){var Be=2*(Q+1)-1,rt=j[Be],qe=Be+1,H=j[qe];if(0>i(rt,V))qe<se&&0>i(H,rt)?(j[Q]=H,j[qe]=V,Q=qe):(j[Q]=rt,j[Be]=V,Q=Be);else if(qe<se&&0>i(H,V))j[Q]=H,j[qe]=V,Q=qe;else break e}}return $}function i(j,$){var V=j.sortIndex-$.sortIndex;return V!==0?V:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,p=3,_=!1,C=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function O(j){if(w=!1,E(j),!C)if(n(u)!==null)C=!0,Y(L);else{var $=n(c);$!==null&&X(O,$.startTime-j)}}function L(j,$){C=!1,w&&(w=!1,y(S),S=-1),_=!0;var V=p;try{for(E($),f=n(u);f!==null&&(!(f.expirationTime>$)||j&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var se=Q(f.expirationTime<=$);$=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(u)&&r(u),E($)}else r(u);f=n(u)}if(f!==null)var me=!0;else{var Be=n(c);Be!==null&&X(O,Be.startTime-$),me=!1}return me}finally{f=null,p=V,_=!1}}var F=!1,T=null,S=-1,I=5,R=-1;function A(){return!(t.unstable_now()-R<I)}function b(){if(T!==null){var j=t.unstable_now();R=j;var $=!0;try{$=T(!0,j)}finally{$?P():(F=!1,T=null)}}else F=!1}var P;if(typeof v=="function")P=function(){v(b)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=b,P=function(){ie.postMessage(null)}}else P=function(){k(b,0)};function Y(j){T=j,F||(F=!0,P())}function X(j,$){S=k(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,Y(L))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var V=p;p=$;try{return j()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=p;p=j;try{return $()}finally{p=V}},t.unstable_scheduleCallback=function(j,$,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,j={id:h++,callback:$,priorityLevel:j,startTime:V,expirationTime:se,sortIndex:-1},V>Q?(j.sortIndex=V,e(c,j),n(u)===null&&j===n(c)&&(w?(y(S),S=-1):w=!0,X(O,V-Q))):(j.sortIndex=se,e(u,j),C||_||(C=!0,Y(L))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var $=p;return function(){var V=p;p=$;try{return j.apply(this,arguments)}finally{p=V}}}})(jw);Fw.exports=jw;var KI=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI=g,Ft=KI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uw=new Set,el={};function Ni(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(el[t]=e,t=0;t<e.length;t++)Uw.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,YI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wv={},Ev={};function QI(t){return gh.call(Ev,t)?!0:gh.call(wv,t)?!1:YI.test(t)?Ev[t]=!0:(wv[t]=!0,!1)}function XI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JI(t,e,n,r){if(e===null||typeof e>"u"||XI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var np=/[\-:]([a-z])/g;function rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(np,rp);tt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(np,rp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(np,rp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ip(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JI(e,n,i,r)&&(n=null),r||i===null?QI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rr=qI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),zw=Symbol.for("react.provider"),Bw=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),lp=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),$w=Symbol.for("react.offscreen"),Sv=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,vd;function No(t){if(vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vd=e&&e[1]||""}return`
`+vd+t}var yd=!1;function _d(t,e){if(!t||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?No(t):""}function ZI(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=_d(t.type,!1),t;case 11:return t=_d(t.type.render,!1),t;case 1:return t=_d(t.type,!0),t;default:return""}}function wh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case Ki:return"Portal";case vh:return"Profiler";case sp:return"StrictMode";case yh:return"Suspense";case _h:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bw:return(t.displayName||"Context")+".Consumer";case zw:return(t._context.displayName||"Context")+".Provider";case op:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lp:return e=t.displayName||null,e!==null?e:wh(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return wh(t(e))}catch{}}return null}function ek(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tk(t){var e=Ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ca(t){t._valueTracker||(t._valueTracker=tk(t))}function Vw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eh(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hw(t,e){e=e.checked,e!=null&&ip(t,"checked",e,!1)}function Sh(t,e){Hw(t,e);var n=Mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ch(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ch(t,e,n){(e!=="number"||iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ao=Array.isArray;function os(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ao(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mr(n)}}function Gw(t,e){var n=Mr(e.value),r=Mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Th(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,qw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nk=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(t){nk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fo[e]=Fo[t]})});function Yw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fo.hasOwnProperty(t)&&Fo[t]?(""+e).trim():e+"px"}function Qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rk=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(t,e){if(e){if(rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ph=null,ls=null,as=null;function kv(t){if(t=Ol(t)){if(typeof Ph!="function")throw Error(U(280));var e=t.stateNode;e&&(e=hc(e),Ph(t.stateNode,t.type,e))}}function Xw(t){ls?as?as.push(t):as=[t]:ls=t}function Jw(){if(ls){var t=ls,e=as;if(as=ls=null,kv(t),e)for(t=0;t<e.length;t++)kv(e[t])}}function Zw(t,e){return t(e)}function e0(){}var wd=!1;function t0(t,e,n){if(wd)return t(e,n);wd=!0;try{return Zw(t,e,n)}finally{wd=!1,(ls!==null||as!==null)&&(e0(),Jw())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var r=hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Nh=!1;if(Gn)try{var go={};Object.defineProperty(go,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Nh=!1}function ik(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var jo=!1,su=null,ou=!1,Ah=null,sk={onError:function(t){jo=!0,su=t}};function ok(t,e,n,r,i,s,o,l,u){jo=!1,su=null,ik.apply(sk,arguments)}function lk(t,e,n,r,i,s,o,l,u){if(ok.apply(this,arguments),jo){if(jo){var c=su;jo=!1,su=null}else throw Error(U(198));ou||(ou=!0,Ah=c)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rv(t){if(Ai(t)!==t)throw Error(U(188))}function ak(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rv(i),t;if(s===r)return Rv(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function r0(t){return t=ak(t),t!==null?i0(t):null}function i0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i0(t);if(e!==null)return e;t=t.sibling}return null}var s0=Ft.unstable_scheduleCallback,Pv=Ft.unstable_cancelCallback,uk=Ft.unstable_shouldYield,ck=Ft.unstable_requestPaint,Me=Ft.unstable_now,dk=Ft.unstable_getCurrentPriorityLevel,up=Ft.unstable_ImmediatePriority,o0=Ft.unstable_UserBlockingPriority,lu=Ft.unstable_NormalPriority,hk=Ft.unstable_LowPriority,l0=Ft.unstable_IdlePriority,ac=null,wn=null;function fk(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:gk,pk=Math.log,mk=Math.LN2;function gk(t){return t>>>=0,t===0?32:31-(pk(t)/mk|0)|0}var ha=64,fa=4194304;function bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=bo(l):(s&=o,s!==0&&(r=bo(s)))}else o=n&~i,o!==0?r=bo(o):s!==0&&(r=bo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sn(e),i=1<<n,r|=t[n],e&=~i;return r}function vk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=vk(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a0(){var t=ha;return ha<<=1,!(ha&4194240)&&(ha=64),t}function Ed(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=n}function _k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function u0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c0,dp,d0,h0,f0,Oh=!1,pa=[],Tr=null,Ir=null,kr=null,rl=new Map,il=new Map,yr=[],wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ol(e),e!==null&&dp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ek(t,e,n,r,i){switch(e){case"focusin":return Tr=vo(Tr,t,e,n,r,i),!0;case"dragenter":return Ir=vo(Ir,t,e,n,r,i),!0;case"mouseover":return kr=vo(kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rl.set(s,vo(rl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,il.set(s,vo(il.get(s)||null,t,e,n,r,i)),!0}return!1}function p0(t){var e=li(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=n0(n),e!==null){t.blockedOn=e,f0(t.priority,function(){d0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rh=r,n.target.dispatchEvent(r),Rh=null}else return e=Ol(n),e!==null&&dp(e),t.blockedOn=n,!1;e.shift()}return!0}function Av(t,e,n){ja(t)&&n.delete(e)}function Sk(){Oh=!1,Tr!==null&&ja(Tr)&&(Tr=null),Ir!==null&&ja(Ir)&&(Ir=null),kr!==null&&ja(kr)&&(kr=null),rl.forEach(Av),il.forEach(Av)}function yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Oh||(Oh=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Sk)))}function sl(t){function e(i){return yo(i,t)}if(0<pa.length){yo(pa[0],t);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&yo(Tr,t),Ir!==null&&yo(Ir,t),kr!==null&&yo(kr,t),rl.forEach(e),il.forEach(e),n=0;n<yr.length;n++)r=yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)p0(n),n.blockedOn===null&&yr.shift()}var us=rr.ReactCurrentBatchConfig,uu=!0;function Ck(t,e,n,r){var i=fe,s=us.transition;us.transition=null;try{fe=1,hp(t,e,n,r)}finally{fe=i,us.transition=s}}function xk(t,e,n,r){var i=fe,s=us.transition;us.transition=null;try{fe=4,hp(t,e,n,r)}finally{fe=i,us.transition=s}}function hp(t,e,n,r){if(uu){var i=Dh(t,e,n,r);if(i===null)Ad(t,e,r,cu,n),Nv(t,r);else if(Ek(i,t,e,n,r))r.stopPropagation();else if(Nv(t,r),e&4&&-1<wk.indexOf(t)){for(;i!==null;){var s=Ol(i);if(s!==null&&c0(s),s=Dh(t,e,n,r),s===null&&Ad(t,e,r,cu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ad(t,e,r,null,n)}}var cu=null;function Dh(t,e,n,r){if(cu=null,t=ap(r),t=li(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cu=t,null}function m0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dk()){case up:return 1;case o0:return 4;case lu:case hk:return 16;case l0:return 536870912;default:return 16}default:return 16}}var Cr=null,fp=null,Ua=null;function g0(){if(Ua)return Ua;var t,e=fp,n=e.length,r,i="value"in Cr?Cr.value:Cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ua=i.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function bv(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ma:bv,this.isPropagationStopped=bv,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=Ut(Us),bl=Ae({},Us,{view:0,detail:0}),Tk=Ut(bl),Sd,Cd,_o,uc=Ae({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(Sd=t.screenX-_o.screenX,Cd=t.screenY-_o.screenY):Cd=Sd=0,_o=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:Cd}}),Ov=Ut(uc),Ik=Ae({},uc,{dataTransfer:0}),kk=Ut(Ik),Rk=Ae({},bl,{relatedTarget:0}),xd=Ut(Rk),Pk=Ae({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=Ut(Pk),Ak=Ae({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bk=Ut(Ak),Ok=Ae({},Us,{data:0}),Dv=Ut(Ok),Dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mk[t])?!!e[t]:!1}function mp(){return Fk}var jk=Ae({},bl,{key:function(t){if(t.key){var e=Dk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uk=Ut(jk),zk=Ae({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=Ut(zk),Bk=Ae({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),$k=Ut(Bk),Wk=Ae({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vk=Ut(Wk),Hk=Ae({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Ut(Hk),Kk=[9,13,27,32],gp=Gn&&"CompositionEvent"in window,Uo=null;Gn&&"documentMode"in document&&(Uo=document.documentMode);var qk=Gn&&"TextEvent"in window&&!Uo,v0=Gn&&(!gp||Uo&&8<Uo&&11>=Uo),Mv=" ",Fv=!1;function y0(t,e){switch(t){case"keyup":return Kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function Yk(t,e){switch(t){case"compositionend":return _0(e);case"keypress":return e.which!==32?null:(Fv=!0,Mv);case"textInput":return t=e.data,t===Mv&&Fv?null:t;default:return null}}function Qk(t,e){if(Yi)return t==="compositionend"||!gp&&y0(t,e)?(t=g0(),Ua=fp=Cr=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v0&&e.locale!=="ko"?null:e.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xk[t.type]:e==="textarea"}function w0(t,e,n,r){Xw(r),e=du(e,"onChange"),0<e.length&&(n=new pp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zo=null,ol=null;function Jk(t){A0(t,0)}function cc(t){var e=Ji(t);if(Vw(e))return t}function Zk(t,e){if(t==="change")return e}var E0=!1;if(Gn){var Td;if(Gn){var Id="oninput"in document;if(!Id){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),Id=typeof Uv.oninput=="function"}Td=Id}else Td=!1;E0=Td&&(!document.documentMode||9<document.documentMode)}function zv(){zo&&(zo.detachEvent("onpropertychange",S0),ol=zo=null)}function S0(t){if(t.propertyName==="value"&&cc(ol)){var e=[];w0(e,ol,t,ap(t)),t0(Jk,e)}}function e1(t,e,n){t==="focusin"?(zv(),zo=e,ol=n,zo.attachEvent("onpropertychange",S0)):t==="focusout"&&zv()}function t1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(ol)}function n1(t,e){if(t==="click")return cc(e)}function r1(t,e){if(t==="input"||t==="change")return cc(e)}function i1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:i1;function ll(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gh.call(e,i)||!un(t[i],e[i]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $v(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function C0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x0(){for(var t=window,e=iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iu(t.document)}return e}function vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s1(t){var e=x0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C0(n.ownerDocument.documentElement,n)){if(r!==null&&vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$v(n,s);var o=$v(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o1=Gn&&"documentMode"in document&&11>=document.documentMode,Qi=null,Lh=null,Bo=null,Mh=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mh||Qi==null||Qi!==iu(r)||(r=Qi,"selectionStart"in r&&vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&ll(Bo,r)||(Bo=r,r=du(Lh,"onSelect"),0<r.length&&(e=new pp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qi)))}function ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},kd={},T0={};Gn&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function dc(t){if(kd[t])return kd[t];if(!Xi[t])return t;var e=Xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T0)return kd[t]=e[n];return t}var I0=dc("animationend"),k0=dc("animationiteration"),R0=dc("animationstart"),P0=dc("transitionend"),N0=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,e){N0.set(t,e),Ni(e,[t])}for(var Rd=0;Rd<Vv.length;Rd++){var Pd=Vv[Rd],l1=Pd.toLowerCase(),a1=Pd[0].toUpperCase()+Pd.slice(1);Hr(l1,"on"+a1)}Hr(I0,"onAnimationEnd");Hr(k0,"onAnimationIteration");Hr(R0,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(P0,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lk(r,e,void 0,t),t.currentTarget=null}function A0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Hv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Hv(i,l,c),s=u}}}if(ou)throw t=Ah,ou=!1,Ah=null,t}function Ce(t,e){var n=e[Bh];n===void 0&&(n=e[Bh]=new Set);var r=t+"__bubble";n.has(r)||(b0(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),b0(n,t,r,e)}var va="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[va]){t[va]=!0,Uw.forEach(function(n){n!=="selectionchange"&&(u1.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[va]||(e[va]=!0,Nd("selectionchange",!1,e))}}function b0(t,e,n,r){switch(m0(e)){case 1:var i=Ck;break;case 4:i=xk;break;default:i=hp}n=i.bind(null,e,n,t),i=void 0,!Nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ad(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=li(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}t0(function(){var c=s,h=ap(n),f=[];e:{var p=N0.get(t);if(p!==void 0){var _=pp,C=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":_=Uk;break;case"focusin":C="focus",_=xd;break;case"focusout":C="blur",_=xd;break;case"beforeblur":case"afterblur":_=xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=$k;break;case I0:case k0:case R0:_=Nk;break;case P0:_=Vk;break;case"scroll":_=Tk;break;case"wheel":_=Gk;break;case"copy":case"cut":case"paste":_=bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Lv}var w=(e&4)!==0,k=!w&&t==="scroll",y=w?p!==null?p+"Capture":null:p;w=[];for(var v=c,E;v!==null;){E=v;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,y!==null&&(O=nl(v,y),O!=null&&w.push(ul(v,O,E)))),k)break;v=v.return}0<w.length&&(p=new _(p,C,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==Rh&&(C=n.relatedTarget||n.fromElement)&&(li(C)||C[Kn]))break e;if((_||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?li(C):null,C!==null&&(k=Ai(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=c),_!==C)){if(w=Ov,O="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Lv,O="onPointerLeave",y="onPointerEnter",v="pointer"),k=_==null?p:Ji(_),E=C==null?p:Ji(C),p=new w(O,v+"leave",_,n,h),p.target=k,p.relatedTarget=E,O=null,li(h)===c&&(w=new w(y,v+"enter",C,n,h),w.target=E,w.relatedTarget=k,O=w),k=O,_&&C)t:{for(w=_,y=C,v=0,E=w;E;E=zi(E))v++;for(E=0,O=y;O;O=zi(O))E++;for(;0<v-E;)w=zi(w),v--;for(;0<E-v;)y=zi(y),E--;for(;v--;){if(w===y||y!==null&&w===y.alternate)break t;w=zi(w),y=zi(y)}w=null}else w=null;_!==null&&Gv(f,p,_,w,!1),C!==null&&k!==null&&Gv(f,k,C,w,!0)}}e:{if(p=c?Ji(c):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var L=Zk;else if(jv(p))if(E0)L=r1;else{L=t1;var F=e1}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=n1);if(L&&(L=L(t,c))){w0(f,L,n,h);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Ch(p,"number",p.value)}switch(F=c?Ji(c):window,t){case"focusin":(jv(F)||F.contentEditable==="true")&&(Qi=F,Lh=c,Bo=null);break;case"focusout":Bo=Lh=Qi=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Wv(f,n,h);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Wv(f,n,h)}var T;if(gp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Yi?y0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(v0&&n.locale!=="ko"&&(Yi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Yi&&(T=g0()):(Cr=h,fp="value"in Cr?Cr.value:Cr.textContent,Yi=!0)),F=du(c,S),0<F.length&&(S=new Dv(S,t,null,n,h),f.push({event:S,listeners:F}),T?S.data=T:(T=_0(n),T!==null&&(S.data=T)))),(T=qk?Yk(t,n):Qk(t,n))&&(c=du(c,"onBeforeInput"),0<c.length&&(h=new Dv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}A0(f,e)})}function ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function du(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nl(t,n),s!=null&&r.unshift(ul(t,s,i)),s=nl(t,e),s!=null&&r.push(ul(t,s,i))),t=t.return}return r}function zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=nl(n,s),u!=null&&o.unshift(ul(n,u,l))):i||(u=nl(n,s),u!=null&&o.push(ul(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c1=/\r\n?/g,d1=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(c1,`
`).replace(d1,"")}function ya(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(U(425))}function hu(){}var Fh=null,jh=null;function Uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(p1)}:zh;function p1(t){setTimeout(function(){throw t})}function bd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(e)}function Rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),yn="__reactFiber$"+zs,cl="__reactProps$"+zs,Kn="__reactContainer$"+zs,Bh="__reactEvents$"+zs,m1="__reactListeners$"+zs,g1="__reactHandles$"+zs;function li(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[yn])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[yn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function hc(t){return t[cl]||null}var $h=[],Zi=-1;function Gr(t){return{current:t}}function Te(t){0>Zi||(t.current=$h[Zi],$h[Zi]=null,Zi--)}function we(t,e){Zi++,$h[Zi]=t.current,t.current=e}var Fr={},ct=Gr(Fr),Rt=Gr(!1),gi=Fr;function Cs(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pt(t){return t=t.childContextTypes,t!=null}function fu(){Te(Rt),Te(ct)}function Qv(t,e,n){if(ct.current!==Fr)throw Error(U(168));we(ct,e),we(Rt,n)}function O0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,ek(t)||"Unknown",i));return Ae({},n,r)}function pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,gi=ct.current,we(ct,t),we(Rt,Rt.current),!0}function Xv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=O0(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,Te(Rt),Te(ct),we(ct,t)):Te(Rt),we(Rt,n)}var Ln=null,fc=!1,Od=!1;function D0(t){Ln===null?Ln=[t]:Ln.push(t)}function v1(t){fc=!0,D0(t)}function Kr(){if(!Od&&Ln!==null){Od=!0;var t=0,e=fe;try{var n=Ln;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,fc=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),s0(up,Kr),i}finally{fe=e,Od=!1}}return null}var es=[],ts=0,mu=null,gu=0,Bt=[],$t=0,vi=null,Fn=1,jn="";function ri(t,e){es[ts++]=gu,es[ts++]=mu,mu=t,gu=e}function L0(t,e,n){Bt[$t++]=Fn,Bt[$t++]=jn,Bt[$t++]=vi,vi=t;var r=Fn;t=jn;var i=32-sn(r)-1;r&=~(1<<i),n+=1;var s=32-sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fn=1<<32-sn(e)+i|n<<i|r,jn=s+t}else Fn=1<<s|n<<i|r,jn=t}function yp(t){t.return!==null&&(ri(t,1),L0(t,1,0))}function _p(t){for(;t===mu;)mu=es[--ts],es[ts]=null,gu=es[--ts],es[ts]=null;for(;t===vi;)vi=Bt[--$t],Bt[$t]=null,jn=Bt[--$t],Bt[$t]=null,Fn=Bt[--$t],Bt[$t]=null}var Lt=null,Dt=null,ke=!1,en=null;function M0(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,Dt=Rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:Fn,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lt=t,Dt=null,!0):!1;default:return!1}}function Wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vh(t){if(ke){var e=Dt;if(e){var n=e;if(!Jv(t,e)){if(Wh(t))throw Error(U(418));e=Rr(n.nextSibling);var r=Lt;e&&Jv(t,e)?M0(r,n):(t.flags=t.flags&-4097|2,ke=!1,Lt=t)}}else{if(Wh(t))throw Error(U(418));t.flags=t.flags&-4097|2,ke=!1,Lt=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function _a(t){if(t!==Lt)return!1;if(!ke)return Zv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uh(t.type,t.memoizedProps)),e&&(e=Dt)){if(Wh(t))throw F0(),Error(U(418));for(;e;)M0(t,e),e=Rr(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Lt?Rr(t.stateNode.nextSibling):null;return!0}function F0(){for(var t=Dt;t;)t=Rr(t.nextSibling)}function xs(){Dt=Lt=null,ke=!1}function wp(t){en===null?en=[t]:en.push(t)}var y1=rr.ReactCurrentBatchConfig;function wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ey(t){var e=t._init;return e(t._payload)}function j0(t){function e(y,v){if(t){var E=y.deletions;E===null?(y.deletions=[v],y.flags|=16):E.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=br(y,v),y.index=0,y.sibling=null,y}function s(y,v,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<v?(y.flags|=2,v):E):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,E,O){return v===null||v.tag!==6?(v=zd(E,y.mode,O),v.return=y,v):(v=i(v,E),v.return=y,v)}function u(y,v,E,O){var L=E.type;return L===qi?h(y,v,E.props.children,O,E.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gr&&ey(L)===v.type)?(O=i(v,E.props),O.ref=wo(y,v,E),O.return=y,O):(O=Ka(E.type,E.key,E.props,null,y.mode,O),O.ref=wo(y,v,E),O.return=y,O)}function c(y,v,E,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Bd(E,y.mode,O),v.return=y,v):(v=i(v,E.children||[]),v.return=y,v)}function h(y,v,E,O,L){return v===null||v.tag!==7?(v=pi(E,y.mode,O,L),v.return=y,v):(v=i(v,E),v.return=y,v)}function f(y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zd(""+v,y.mode,E),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ua:return E=Ka(v.type,v.key,v.props,null,y.mode,E),E.ref=wo(y,null,v),E.return=y,E;case Ki:return v=Bd(v,y.mode,E),v.return=y,v;case gr:var O=v._init;return f(y,O(v._payload),E)}if(Ao(v)||mo(v))return v=pi(v,y.mode,E,null),v.return=y,v;wa(y,v)}return null}function p(y,v,E,O){var L=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:l(y,v,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ua:return E.key===L?u(y,v,E,O):null;case Ki:return E.key===L?c(y,v,E,O):null;case gr:return L=E._init,p(y,v,L(E._payload),O)}if(Ao(E)||mo(E))return L!==null?null:h(y,v,E,O,null);wa(y,E)}return null}function _(y,v,E,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(E)||null,l(v,y,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ua:return y=y.get(O.key===null?E:O.key)||null,u(v,y,O,L);case Ki:return y=y.get(O.key===null?E:O.key)||null,c(v,y,O,L);case gr:var F=O._init;return _(y,v,E,F(O._payload),L)}if(Ao(O)||mo(O))return y=y.get(E)||null,h(v,y,O,L,null);wa(v,O)}return null}function C(y,v,E,O){for(var L=null,F=null,T=v,S=v=0,I=null;T!==null&&S<E.length;S++){T.index>S?(I=T,T=null):I=T.sibling;var R=p(y,T,E[S],O);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(y,T),v=s(R,v,S),F===null?L=R:F.sibling=R,F=R,T=I}if(S===E.length)return n(y,T),ke&&ri(y,S),L;if(T===null){for(;S<E.length;S++)T=f(y,E[S],O),T!==null&&(v=s(T,v,S),F===null?L=T:F.sibling=T,F=T);return ke&&ri(y,S),L}for(T=r(y,T);S<E.length;S++)I=_(T,y,S,E[S],O),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),v=s(I,v,S),F===null?L=I:F.sibling=I,F=I);return t&&T.forEach(function(A){return e(y,A)}),ke&&ri(y,S),L}function w(y,v,E,O){var L=mo(E);if(typeof L!="function")throw Error(U(150));if(E=L.call(E),E==null)throw Error(U(151));for(var F=L=null,T=v,S=v=0,I=null,R=E.next();T!==null&&!R.done;S++,R=E.next()){T.index>S?(I=T,T=null):I=T.sibling;var A=p(y,T,R.value,O);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(y,T),v=s(A,v,S),F===null?L=A:F.sibling=A,F=A,T=I}if(R.done)return n(y,T),ke&&ri(y,S),L;if(T===null){for(;!R.done;S++,R=E.next())R=f(y,R.value,O),R!==null&&(v=s(R,v,S),F===null?L=R:F.sibling=R,F=R);return ke&&ri(y,S),L}for(T=r(y,T);!R.done;S++,R=E.next())R=_(T,y,S,R.value,O),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?S:R.key),v=s(R,v,S),F===null?L=R:F.sibling=R,F=R);return t&&T.forEach(function(b){return e(y,b)}),ke&&ri(y,S),L}function k(y,v,E,O){if(typeof E=="object"&&E!==null&&E.type===qi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ua:e:{for(var L=E.key,F=v;F!==null;){if(F.key===L){if(L=E.type,L===qi){if(F.tag===7){n(y,F.sibling),v=i(F,E.props.children),v.return=y,y=v;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gr&&ey(L)===F.type){n(y,F.sibling),v=i(F,E.props),v.ref=wo(y,F,E),v.return=y,y=v;break e}n(y,F);break}else e(y,F);F=F.sibling}E.type===qi?(v=pi(E.props.children,y.mode,O,E.key),v.return=y,y=v):(O=Ka(E.type,E.key,E.props,null,y.mode,O),O.ref=wo(y,v,E),O.return=y,y=O)}return o(y);case Ki:e:{for(F=E.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(y,v.sibling),v=i(v,E.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Bd(E,y.mode,O),v.return=y,y=v}return o(y);case gr:return F=E._init,k(y,v,F(E._payload),O)}if(Ao(E))return C(y,v,E,O);if(mo(E))return w(y,v,E,O);wa(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,E),v.return=y,y=v):(n(y,v),v=zd(E,y.mode,O),v.return=y,y=v),o(y)):n(y,v)}return k}var Ts=j0(!0),U0=j0(!1),vu=Gr(null),yu=null,ns=null,Ep=null;function Sp(){Ep=ns=yu=null}function Cp(t){var e=vu.current;Te(vu),t._currentValue=e}function Hh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cs(t,e){yu=t,Ep=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(Ep!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(yu===null)throw Error(U(308));ns=t,yu.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var ai=null;function xp(t){ai===null?ai=[t]:ai.push(t)}function z0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xp(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vr=!1;function Tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,xp(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function Ba(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cp(t,n)}}function ty(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _u(t,e,n,r){var i=t.updateQueue;vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,l=s;do{var p=l.lane,_=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,w=l;switch(p=e,_=n,w.tag){case 1:if(C=w.payload,typeof C=="function"){f=C.call(_,f,p);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=w.payload,p=typeof C=="function"?C.call(_,f,p):C,p==null)break e;f=Ae({},f,p);break e;case 2:vr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else _={eventTime:_,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=_,u=f):h=h.next=_,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=f}}function ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Dl={},En=Gr(Dl),dl=Gr(Dl),hl=Gr(Dl);function ui(t){if(t===Dl)throw Error(U(174));return t}function Ip(t,e){switch(we(hl,e),we(dl,t),we(En,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Th(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Th(e,t)}Te(En),we(En,e)}function Is(){Te(En),Te(dl),Te(hl)}function $0(t){ui(hl.current);var e=ui(En.current),n=Th(e,t.type);e!==n&&(we(dl,t),we(En,n))}function kp(t){dl.current===t&&(Te(En),Te(dl))}var Pe=Gr(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dd=[];function Rp(){for(var t=0;t<Dd.length;t++)Dd[t]._workInProgressVersionPrimary=null;Dd.length=0}var $a=rr.ReactCurrentDispatcher,Ld=rr.ReactCurrentBatchConfig,yi=0,Ne=null,Ue=null,Ve=null,Eu=!1,$o=!1,fl=0,_1=0;function lt(){throw Error(U(321))}function Pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Np(t,e,n,r,i,s){if(yi=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$a.current=t===null||t.memoizedState===null?C1:x1,t=n(r,i),$o){s=0;do{if($o=!1,fl=0,25<=s)throw Error(U(301));s+=1,Ve=Ue=null,e.updateQueue=null,$a.current=T1,t=n(r,i)}while($o)}if($a.current=Su,e=Ue!==null&&Ue.next!==null,yi=0,Ve=Ue=Ne=null,Eu=!1,e)throw Error(U(300));return t}function Ap(){var t=fl!==0;return fl=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ne.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function qt(){if(Ue===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ve===null?Ne.memoizedState:Ve.next;if(e!==null)Ve=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Ne.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function pl(t,e){return typeof e=="function"?e(t):e}function Md(t){var e=qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((yi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Ne.lanes|=h,_i|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,un(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,_i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fd(t){var e=qt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);un(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function W0(){}function V0(t,e){var n=Ne,r=qt(),i=e(),s=!un(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,bp(K0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,ml(9,G0.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(U(349));yi&30||H0(n,e,i)}return i}function H0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G0(t,e,n,r){e.value=n,e.getSnapshot=r,q0(e)&&Y0(t)}function K0(t,e,n){return n(function(){q0(e)&&Y0(t)})}function q0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function Y0(t){var e=qn(t,1);e!==null&&on(e,t,1,-1)}function ry(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:t},e.queue=t,t=t.dispatch=S1.bind(null,Ne,t),[e.memoizedState,t]}function ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q0(){return qt().memoizedState}function Wa(t,e,n,r){var i=vn();Ne.flags|=t,i.memoizedState=ml(1|e,n,void 0,r===void 0?null:r)}function pc(t,e,n,r){var i=qt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Pp(r,o.deps)){i.memoizedState=ml(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=ml(1|e,n,s,r)}function iy(t,e){return Wa(8390656,8,t,e)}function bp(t,e){return pc(2048,8,t,e)}function X0(t,e){return pc(4,2,t,e)}function J0(t,e){return pc(4,4,t,e)}function Z0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eE(t,e,n){return n=n!=null?n.concat([t]):null,pc(4,4,Z0.bind(null,e,t),n)}function Op(){}function tE(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nE(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rE(t,e,n){return yi&21?(un(n,e)||(n=a0(),Ne.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function w1(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Ld.transition;Ld.transition={};try{t(!1),e()}finally{fe=n,Ld.transition=r}}function iE(){return qt().memoizedState}function E1(t,e,n){var r=Ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sE(t))oE(e,n);else if(n=z0(t,e,n,r),n!==null){var i=gt();on(n,t,r,i),lE(n,e,r)}}function S1(t,e,n){var r=Ar(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sE(t))oE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,un(l,o)){var u=e.interleaved;u===null?(i.next=i,xp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=z0(t,e,i,r),n!==null&&(i=gt(),on(n,t,r,i),lE(n,e,r))}}function sE(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function oE(t,e){$o=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cp(t,n)}}var Su={readContext:Kt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},C1={readContext:Kt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,Z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E1.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:ry,useDebugValue:Op,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=ry(!1),e=t[0];return t=w1.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=vn();if(ke){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ke===null)throw Error(U(349));yi&30||H0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iy(K0.bind(null,r,s,t),[t]),r.flags|=2048,ml(9,G0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vn(),e=Ke.identifierPrefix;if(ke){var n=jn,r=Fn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x1={readContext:Kt,useCallback:tE,useContext:Kt,useEffect:bp,useImperativeHandle:eE,useInsertionEffect:X0,useLayoutEffect:J0,useMemo:nE,useReducer:Md,useRef:Q0,useState:function(){return Md(pl)},useDebugValue:Op,useDeferredValue:function(t){var e=qt();return rE(e,Ue.memoizedState,t)},useTransition:function(){var t=Md(pl)[0],e=qt().memoizedState;return[t,e]},useMutableSource:W0,useSyncExternalStore:V0,useId:iE,unstable_isNewReconciler:!1},T1={readContext:Kt,useCallback:tE,useContext:Kt,useEffect:bp,useImperativeHandle:eE,useInsertionEffect:X0,useLayoutEffect:J0,useMemo:nE,useReducer:Fd,useRef:Q0,useState:function(){return Fd(pl)},useDebugValue:Op,useDeferredValue:function(t){var e=qt();return Ue===null?e.memoizedState=t:rE(e,Ue.memoizedState,t)},useTransition:function(){var t=Fd(pl)[0],e=qt().memoizedState;return[t,e]},useMutableSource:W0,useSyncExternalStore:V0,useId:iE,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=Ar(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(on(e,t,i,r),Ba(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=Ar(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(on(e,t,i,r),Ba(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=Ar(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pr(t,i,r),e!==null&&(on(e,t,r,n),Ba(e,t,r))}};function sy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(i,s):!0}function aE(t,e,n){var r=!1,i=Fr,s=e.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=Pt(e)?gi:ct.current,r=e.contextTypes,s=(r=r!=null)?Cs(t,i):Fr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function Kh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Tp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=Pt(e)?gi:ct.current,i.context=Cs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mc.enqueueReplaceState(i,i.state,null),_u(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,e){try{var n="",r=e;do n+=ZI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I1=typeof WeakMap=="function"?WeakMap:Map;function uE(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,sf=r),qh(t,e)},n}function cE(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qh(t,e),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ly(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=z1.bind(null,t,e,n),e.then(t,t))}function ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var k1=rr.ReactCurrentOwner,Tt=!1;function pt(t,e,n,r){e.child=t===null?U0(e,null,n,r):Ts(e,t.child,n,r)}function cy(t,e,n,r,i){n=n.render;var s=e.ref;return cs(e,i),r=Np(t,e,n,r,s,i),n=Ap(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(ke&&n&&yp(e),e.flags|=1,pt(t,e,r,i),e.child)}function dy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Bp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dE(t,e,s,r,i)):(t=Ka(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return Yn(t,e,i)}return e.flags|=1,t=br(s,r),t.ref=e.ref,t.return=e,e.child=t}function dE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ll(s,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Yn(t,e,i)}return Yh(t,e,n,r,i)}function hE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(is,bt),bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(is,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(is,bt),bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(is,bt),bt|=r;return pt(t,e,i,n),e.child}function fE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yh(t,e,n,r,i){var s=Pt(n)?gi:ct.current;return s=Cs(e,s),cs(e,i),n=Np(t,e,n,r,s,i),r=Ap(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(ke&&r&&yp(e),e.flags|=1,pt(t,e,n,i),e.child)}function hy(t,e,n,r,i){if(Pt(n)){var s=!0;pu(e)}else s=!1;if(cs(e,i),e.stateNode===null)Va(t,e),aE(e,n,r),Kh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=Pt(n)?gi:ct.current,c=Cs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&oy(e,o,r,c),vr=!1;var p=e.memoizedState;o.state=p,_u(e,r,o,i),u=e.memoizedState,l!==r||p!==u||Rt.current||vr?(typeof h=="function"&&(Gh(e,n,h,r),u=e.memoizedState),(l=vr||sy(e,n,l,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,B0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Jt(e.type,l),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kt(u):(u=Pt(n)?gi:ct.current,u=Cs(e,u));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==u)&&oy(e,o,r,u),vr=!1,p=e.memoizedState,o.state=p,_u(e,r,o,i);var C=e.memoizedState;l!==f||p!==C||Rt.current||vr?(typeof _=="function"&&(Gh(e,n,_,r),C=e.memoizedState),(c=vr||sy(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Qh(t,e,n,r,s,i)}function Qh(t,e,n,r,i,s){fE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xv(e,n,!1),Yn(t,e,s);r=e.stateNode,k1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ts(e,t.child,null,s),e.child=Ts(e,null,l,s)):pt(t,e,l,s),e.memoizedState=r.state,i&&Xv(e,n,!0),e.child}function pE(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),Ip(t,e.containerInfo)}function fy(t,e,n,r,i){return xs(),wp(i),e.flags|=256,pt(t,e,n,r),e.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function mE(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Pe,i&1),t===null)return Vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yc(o,r,0,null),t=pi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jh(n),e.memoizedState=Xh,t):Dp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return R1(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=br(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=br(l,s):(s=pi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xh,r}return s=t.child,t=s.sibling,r=br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dp(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ea(t,e,n,r){return r!==null&&wp(r),Ts(e,t.child,null,n),t=Dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jd(Error(U(422))),Ea(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yc({mode:"visible",children:r.children},i,0,null),s=pi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ts(e,t.child,null,o),e.child.memoizedState=Jh(o),e.memoizedState=Xh,s);if(!(e.mode&1))return Ea(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(U(419)),r=jd(s,r,void 0),Ea(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),on(r,t,i,-1))}return zp(),r=jd(Error(U(421))),Ea(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=Rr(i.nextSibling),Lt=e,ke=!0,en=null,t!==null&&(Bt[$t++]=Fn,Bt[$t++]=jn,Bt[$t++]=vi,Fn=t.id,jn=t.overflow,vi=e),e=Dp(e,r.children),e.flags|=4096,e)}function py(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hh(t.return,e,n)}function Ud(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,n,e);else if(t.tag===19)py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ud(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ud(e,!0,n,null,s);break;case"together":Ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P1(t,e,n){switch(e.tag){case 3:pE(e),xs();break;case 5:$0(e);break;case 1:Pt(e.type)&&pu(e);break;case 4:Ip(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(vu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?mE(t,e,n):(we(Pe,Pe.current&1),t=Yn(t,e,n),t!==null?t.sibling:null);we(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,hE(t,e,n)}return Yn(t,e,n)}var vE,Zh,yE,_E;vE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};yE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ui(En.current);var s=null;switch(n){case"input":i=Eh(t,i),r=Eh(t,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=xh(t,i),r=xh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hu)}Ih(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(el.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(el.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ce("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};_E=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eo(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N1(t,e,n){var r=e.pendingProps;switch(_p(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Pt(e.type)&&fu(),at(e),null;case 3:return r=e.stateNode,Is(),Te(Rt),Te(ct),Rp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(af(en),en=null))),Zh(t,e),at(e),null;case 5:kp(e);var i=ui(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)yE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return at(e),null}if(t=ui(En.current),_a(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yn]=e,r[cl]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Oo.length;i++)Ce(Oo[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Cv(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":Tv(r,s),Ce("invalid",r)}Ih(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ya(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ya(r.textContent,l,t),i=["children",""+l]):el.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":ca(r),xv(r,s,!0);break;case"textarea":ca(r),Iv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[cl]=r,vE(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oo.length;i++)Ce(Oo[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":Cv(t,r),i=Eh(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":Tv(t,r),i=xh(t,r),Ce("invalid",t);break;default:i=r}Ih(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Qw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&tl(t,u):typeof u=="number"&&tl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(el.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ce("scroll",t):u!=null&&ip(t,s,u,o))}switch(n){case"input":ca(t),xv(t,r,!1);break;case"textarea":ca(t),Iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?os(t,!!r.multiple,s,!1):r.defaultValue!=null&&os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)_E(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ui(hl.current),ui(En.current),_a(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(s=r.nodeValue!==n)&&(t=Lt,t!==null))switch(t.tag){case 3:ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ya(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return at(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Dt!==null&&e.mode&1&&!(e.flags&128))F0(),xs(),e.flags|=98560,s=!1;else if(s=_a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[yn]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else en!==null&&(af(en),en=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?ze===0&&(ze=3):zp())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Is(),Zh(t,e),t===null&&al(e.stateNode.containerInfo),at(e),null;case 10:return Cp(e.type._context),at(e),null;case 17:return Pt(e.type)&&fu(),at(e),null;case 19:if(Te(Pe),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Eo(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wu(t),o!==null){for(e.flags|=128,Eo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>Rs&&(e.flags|=128,r=!0,Eo(s,!1),e.lanes=4194304)}else{if(!r)if(t=wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return at(e),null}else 2*Me()-s.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,Eo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Pe.current,we(Pe,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return Up(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function A1(t,e){switch(_p(e),e.tag){case 1:return Pt(e.type)&&fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Is(),Te(Rt),Te(ct),Rp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kp(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return Is(),null;case 10:return Cp(e.type._context),null;case 22:case 23:return Up(),null;case 24:return null;default:return null}}var Sa=!1,ut=!1,b1=typeof WeakSet=="function"?WeakSet:Set,W=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function ef(t,e,n){try{n()}catch(r){be(t,e,r)}}var my=!1;function O1(t,e){if(Fh=uu,t=x0(),vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)p=f,f=_;for(;;){if(f===t)break t;if(p===n&&++c===i&&(l=o),p===s&&++h===r&&(u=o),(_=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},uu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var w=C.memoizedProps,k=C.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Jt(e.type,w),k);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(O){be(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=my,my=!1,C}function Wo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ef(e,n,s)}i=i.next}while(i!==r)}}function gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wE(t){var e=t.alternate;e!==null&&(t.alternate=null,wE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[cl],delete e[Bh],delete e[m1],delete e[g1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EE(t){return t.tag===5||t.tag===3||t.tag===4}function gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hu));else if(r!==4&&(t=t.child,t!==null))for(nf(t,e,n),t=t.sibling;t!==null;)nf(t,e,n),t=t.sibling}function rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rf(t,e,n),t=t.sibling;t!==null;)rf(t,e,n),t=t.sibling}var Xe=null,Zt=!1;function cr(t,e,n){for(n=n.child;n!==null;)SE(t,e,n),n=n.sibling}function SE(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:ut||rs(n,e);case 6:var r=Xe,i=Zt;Xe=null,cr(t,e,n),Xe=r,Zt=i,Xe!==null&&(Zt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Zt?(t=Xe,n=n.stateNode,t.nodeType===8?bd(t.parentNode,n):t.nodeType===1&&bd(t,n),sl(t)):bd(Xe,n.stateNode));break;case 4:r=Xe,i=Zt,Xe=n.stateNode.containerInfo,Zt=!0,cr(t,e,n),Xe=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ef(n,e,o),i=i.next}while(i!==r)}cr(t,e,n);break;case 1:if(!ut&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,e,l)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,cr(t,e,n),ut=r):cr(t,e,n);break;default:cr(t,e,n)}}function vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b1),e.forEach(function(r){var i=$1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Zt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Zt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));SE(s,o,i),Xe=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CE(e,t),e=e.sibling}function CE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),gn(t),r&4){try{Wo(3,t,t.return),gc(3,t)}catch(w){be(t,t.return,w)}try{Wo(5,t,t.return)}catch(w){be(t,t.return,w)}}break;case 1:Qt(e,t),gn(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(Qt(e,t),gn(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{tl(i,"")}catch(w){be(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Hw(i,s),kh(l,o);var c=kh(l,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Qw(i,f):h==="dangerouslySetInnerHTML"?qw(i,f):h==="children"?tl(i,f):ip(i,h,f,c)}switch(l){case"input":Sh(i,s);break;case"textarea":Gw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?os(i,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?os(i,!!s.multiple,s.defaultValue,!0):os(i,!!s.multiple,s.multiple?[]:"",!1))}i[cl]=s}catch(w){be(t,t.return,w)}}break;case 6:if(Qt(e,t),gn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){be(t,t.return,w)}}break;case 3:if(Qt(e,t),gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(w){be(t,t.return,w)}break;case 4:Qt(e,t),gn(t);break;case 13:Qt(e,t),gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=Me())),r&4&&vy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(c=ut)||h,Qt(e,t),ut=c):Qt(e,t),gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(p=W,_=p.child,p.tag){case 0:case 11:case 14:case 15:Wo(4,p,p.return);break;case 1:rs(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:rs(p,p.return);break;case 22:if(p.memoizedState!==null){_y(f);continue}}_!==null?(_.return=p,W=_):_y(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Yw("display",o))}catch(w){be(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){be(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(e,t),gn(t),r&4&&vy(t);break;case 21:break;default:Qt(e,t),gn(t)}}function gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tl(i,""),r.flags&=-33);var s=gy(t);rf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gy(t);nf(t,l,o);break;default:throw Error(U(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D1(t,e,n){W=t,xE(t)}function xE(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sa;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ut;l=Sa;var c=ut;if(Sa=o,(ut=u)&&!c)for(W=i;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?wy(i):u!==null?(u.return=o,W=u):wy(i);for(;s!==null;)W=s,xE(s),s=s.sibling;W=i,Sa=l,ut=c}yy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):yy(t)}}function yy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ny(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ny(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ut||e.flags&512&&tf(e)}catch(p){be(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function _y(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function wy(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gc(4,e)}catch(u){be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){be(e,i,u)}}var s=e.return;try{tf(e)}catch(u){be(e,s,u)}break;case 5:var o=e.return;try{tf(e)}catch(u){be(e,o,u)}}}catch(u){be(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var L1=Math.ceil,Cu=rr.ReactCurrentDispatcher,Lp=rr.ReactCurrentOwner,Gt=rr.ReactCurrentBatchConfig,le=0,Ke=null,je=null,et=0,bt=0,is=Gr(0),ze=0,gl=null,_i=0,vc=0,Mp=0,Vo=null,St=null,Fp=0,Rs=1/0,Dn=null,xu=!1,sf=null,Nr=null,Ca=!1,xr=null,Tu=0,Ho=0,of=null,Ha=-1,Ga=0;function gt(){return le&6?Me():Ha!==-1?Ha:Ha=Me()}function Ar(t){return t.mode&1?le&2&&et!==0?et&-et:y1.transition!==null?(Ga===0&&(Ga=a0()),Ga):(t=fe,t!==0||(t=window.event,t=t===void 0?16:m0(t.type)),t):1}function on(t,e,n,r){if(50<Ho)throw Ho=0,of=null,Error(U(185));Al(t,n,r),(!(le&2)||t!==Ke)&&(t===Ke&&(!(le&2)&&(vc|=n),ze===4&&_r(t,et)),Nt(t,r),n===1&&le===0&&!(e.mode&1)&&(Rs=Me()+500,fc&&Kr()))}function Nt(t,e){var n=t.callbackNode;yk(t,e);var r=au(t,t===Ke?et:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?v1(Ey.bind(null,t)):D0(Ey.bind(null,t)),f1(function(){!(le&6)&&Kr()}),n=null;else{switch(u0(r)){case 1:n=up;break;case 4:n=o0;break;case 16:n=lu;break;case 536870912:n=l0;break;default:n=lu}n=bE(n,TE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TE(t,e){if(Ha=-1,Ga=0,le&6)throw Error(U(327));var n=t.callbackNode;if(ds()&&t.callbackNode!==n)return null;var r=au(t,t===Ke?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Iu(t,r);else{e=r;var i=le;le|=2;var s=kE();(Ke!==t||et!==e)&&(Dn=null,Rs=Me()+500,fi(t,e));do try{j1();break}catch(l){IE(t,l)}while(!0);Sp(),Cu.current=s,le=i,je!==null?e=0:(Ke=null,et=0,e=ze)}if(e!==0){if(e===2&&(i=bh(t),i!==0&&(r=i,e=lf(t,i))),e===1)throw n=gl,fi(t,0),_r(t,r),Nt(t,Me()),n;if(e===6)_r(t,r);else{if(i=t.current.alternate,!(r&30)&&!M1(i)&&(e=Iu(t,r),e===2&&(s=bh(t),s!==0&&(r=s,e=lf(t,s))),e===1))throw n=gl,fi(t,0),_r(t,r),Nt(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ii(t,St,Dn);break;case 3:if(_r(t,r),(r&130023424)===r&&(e=Fp+500-Me(),10<e)){if(au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zh(ii.bind(null,t,St,Dn),e);break}ii(t,St,Dn);break;case 4:if(_r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L1(r/1960))-r,10<r){t.timeoutHandle=zh(ii.bind(null,t,St,Dn),r);break}ii(t,St,Dn);break;case 5:ii(t,St,Dn);break;default:throw Error(U(329))}}}return Nt(t,Me()),t.callbackNode===n?TE.bind(null,t):null}function lf(t,e){var n=Vo;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=Iu(t,e),t!==2&&(e=St,St=n,e!==null&&af(e)),t}function af(t){St===null?St=t:St.push.apply(St,t)}function M1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _r(t,e){for(e&=~Mp,e&=~vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sn(e),r=1<<n;t[n]=-1,e&=~r}}function Ey(t){if(le&6)throw Error(U(327));ds();var e=au(t,0);if(!(e&1))return Nt(t,Me()),null;var n=Iu(t,e);if(t.tag!==0&&n===2){var r=bh(t);r!==0&&(e=r,n=lf(t,r))}if(n===1)throw n=gl,fi(t,0),_r(t,e),Nt(t,Me()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ii(t,St,Dn),Nt(t,Me()),null}function jp(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Rs=Me()+500,fc&&Kr())}}function wi(t){xr!==null&&xr.tag===0&&!(le&6)&&ds();var e=le;le|=1;var n=Gt.transition,r=fe;try{if(Gt.transition=null,fe=1,t)return t()}finally{fe=r,Gt.transition=n,le=e,!(le&6)&&Kr()}}function Up(){bt=is.current,Te(is)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h1(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(_p(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fu();break;case 3:Is(),Te(Rt),Te(ct),Rp();break;case 5:kp(r);break;case 4:Is();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Cp(r.type._context);break;case 22:case 23:Up()}n=n.return}if(Ke=t,je=t=br(t.current,null),et=bt=e,ze=0,gl=null,Mp=vc=_i=0,St=Vo=null,ai!==null){for(e=0;e<ai.length;e++)if(n=ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ai=null}return t}function IE(t,e){do{var n=je;try{if(Sp(),$a.current=Su,Eu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eu=!1}if(yi=0,Ve=Ue=Ne=null,$o=!1,fl=0,Lp.current=null,n===null||n.return===null){ze=1,gl=e,je=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=ay(o);if(_!==null){_.flags&=-257,uy(_,o,l,s,e),_.mode&1&&ly(s,c,e),e=_,u=c;var C=e.updateQueue;if(C===null){var w=new Set;w.add(u),e.updateQueue=w}else C.add(u);break e}else{if(!(e&1)){ly(s,c,e),zp();break e}u=Error(U(426))}}else if(ke&&l.mode&1){var k=ay(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),uy(k,o,l,s,e),wp(ks(u,l));break e}}s=u=ks(u,l),ze!==4&&(ze=2),Vo===null?Vo=[s]:Vo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=uE(s,u,e);ty(s,y);break e;case 1:l=u;var v=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Nr===null||!Nr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=cE(s,l,e);ty(s,O);break e}}s=s.return}while(s!==null)}PE(n)}catch(L){e=L,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function kE(){var t=Cu.current;return Cu.current=Su,t===null?Su:t}function zp(){(ze===0||ze===3||ze===2)&&(ze=4),Ke===null||!(_i&268435455)&&!(vc&268435455)||_r(Ke,et)}function Iu(t,e){var n=le;le|=2;var r=kE();(Ke!==t||et!==e)&&(Dn=null,fi(t,e));do try{F1();break}catch(i){IE(t,i)}while(!0);if(Sp(),le=n,Cu.current=r,je!==null)throw Error(U(261));return Ke=null,et=0,ze}function F1(){for(;je!==null;)RE(je)}function j1(){for(;je!==null&&!uk();)RE(je)}function RE(t){var e=AE(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?PE(t):je=e,Lp.current=null}function PE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=A1(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,je=null;return}}else if(n=N1(n,e,bt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);ze===0&&(ze=5)}function ii(t,e,n){var r=fe,i=Gt.transition;try{Gt.transition=null,fe=1,U1(t,e,n,r)}finally{Gt.transition=i,fe=r}return null}function U1(t,e,n,r){do ds();while(xr!==null);if(le&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_k(t,s),t===Ke&&(je=Ke=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ca||(Ca=!0,bE(lu,function(){return ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=fe;fe=1;var l=le;le|=4,Lp.current=null,O1(t,n),CE(n,t),s1(jh),uu=!!Fh,jh=Fh=null,t.current=n,D1(n),ck(),le=l,fe=o,Gt.transition=s}else t.current=n;if(Ca&&(Ca=!1,xr=t,Tu=i),s=t.pendingLanes,s===0&&(Nr=null),fk(n.stateNode),Nt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xu)throw xu=!1,t=sf,sf=null,t;return Tu&1&&t.tag!==0&&ds(),s=t.pendingLanes,s&1?t===of?Ho++:(Ho=0,of=t):Ho=0,Kr(),null}function ds(){if(xr!==null){var t=u0(Tu),e=Gt.transition,n=fe;try{if(Gt.transition=null,fe=16>t?16:t,xr===null)var r=!1;else{if(t=xr,xr=null,Tu=0,le&6)throw Error(U(331));var i=le;for(le|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Wo(8,h,s)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var p=h.sibling,_=h.return;if(wE(h),h===c){W=null;break}if(p!==null){p.return=_,W=p;break}W=_}}}var C=s.alternate;if(C!==null){var w=C.child;if(w!==null){C.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,W=y;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){o=W;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,W=E;else e:for(o=v;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gc(9,l)}}catch(L){be(l,l.return,L)}if(l===o){W=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,W=O;break e}W=l.return}}if(le=i,Kr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(ac,t)}catch{}r=!0}return r}finally{fe=n,Gt.transition=e}}return!1}function Sy(t,e,n){e=ks(n,e),e=uE(t,e,1),t=Pr(t,e,1),e=gt(),t!==null&&(Al(t,1,e),Nt(t,e))}function be(t,e,n){if(t.tag===3)Sy(t,t,n);else for(;e!==null;){if(e.tag===3){Sy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){t=ks(n,t),t=cE(e,t,1),e=Pr(e,t,1),t=gt(),e!==null&&(Al(e,1,t),Nt(e,t));break}}e=e.return}}function z1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(et&n)===n&&(ze===4||ze===3&&(et&130023424)===et&&500>Me()-Fp?fi(t,0):Mp|=n),Nt(t,e)}function NE(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=gt();t=qn(t,e),t!==null&&(Al(t,e,n),Nt(t,n))}function B1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NE(t,n)}function $1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),NE(t,n)}var AE;AE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,P1(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,ke&&e.flags&1048576&&L0(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Va(t,e),t=e.pendingProps;var i=Cs(e,ct.current);cs(e,n),i=Np(null,e,r,t,i,n);var s=Ap();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(s=!0,pu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tp(e),i.updater=mc,e.stateNode=i,i._reactInternals=e,Kh(e,r,t,n),e=Qh(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&yp(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Va(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V1(r),t=Jt(r,t),i){case 0:e=Yh(null,e,r,t,n);break e;case 1:e=hy(null,e,r,t,n);break e;case 11:e=cy(null,e,r,t,n);break e;case 14:e=dy(null,e,r,Jt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Yh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),hy(t,e,r,i,n);case 3:e:{if(pE(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,B0(t,e),_u(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ks(Error(U(423)),e),e=fy(t,e,r,n,i);break e}else if(r!==i){i=ks(Error(U(424)),e),e=fy(t,e,r,n,i);break e}else for(Dt=Rr(e.stateNode.containerInfo.firstChild),Lt=e,ke=!0,en=null,n=U0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===i){e=Yn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return $0(e),t===null&&Vh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uh(r,i)?o=null:s!==null&&Uh(r,s)&&(e.flags|=32),fE(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&Vh(e),null;case 13:return mE(t,e,n);case 4:return Ip(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ts(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),cy(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(vu,r._currentValue),r._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!Rt.current){e=Yn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Wn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Hh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cs(e,n),i=Kt(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),dy(t,e,r,i,n);case 15:return dE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Va(t,e),e.tag=1,Pt(r)?(t=!0,pu(e)):t=!1,cs(e,n),aE(e,r,i),Kh(e,r,i,n),Qh(null,e,r,!0,t,n);case 19:return gE(t,e,n);case 22:return hE(t,e,n)}throw Error(U(156,e.tag))};function bE(t,e){return s0(t,e)}function W1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,r){return new W1(t,e,n,r)}function Bp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V1(t){if(typeof t=="function")return Bp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===op)return 11;if(t===lp)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ka(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Bp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return pi(n.children,i,s,e);case sp:o=8,i|=8;break;case vh:return t=Vt(12,n,e,i|2),t.elementType=vh,t.lanes=s,t;case yh:return t=Vt(13,n,e,i),t.elementType=yh,t.lanes=s,t;case _h:return t=Vt(19,n,e,i),t.elementType=_h,t.lanes=s,t;case $w:return yc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zw:o=10;break e;case Bw:o=9;break e;case op:o=11;break e;case lp:o=14;break e;case gr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Vt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function pi(t,e,n,r){return t=Vt(7,t,r,e),t.lanes=n,t}function yc(t,e,n,r){return t=Vt(22,t,r,e),t.elementType=$w,t.lanes=n,t.stateNode={isHidden:!1},t}function zd(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function Bd(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ed(0),this.expirationTimes=Ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ed(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $p(t,e,n,r,i,s,o,l,u){return t=new H1(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(s),t}function G1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OE(t){if(!t)return Fr;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Pt(n))return O0(t,n,e)}return e}function DE(t,e,n,r,i,s,o,l,u){return t=$p(n,r,!0,t,i,s,o,l,u),t.context=OE(null),n=t.current,r=gt(),i=Ar(n),s=Wn(r,i),s.callback=e??null,Pr(n,s,i),t.current.lanes=i,Al(t,i,r),Nt(t,r),t}function _c(t,e,n,r){var i=e.current,s=gt(),o=Ar(i);return n=OE(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(i,e,o),t!==null&&(on(t,i,o,s),Ba(t,i,o)),o}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wp(t,e){Cy(t,e),(t=t.alternate)&&Cy(t,e)}function K1(){return null}var LE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vp(t){this._internalRoot=t}wc.prototype.render=Vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));_c(t,e,null,null)};wc.prototype.unmount=Vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){_c(null,t,null,null)}),e[Kn]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=h0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yr.length&&e!==0&&e<yr[n].priority;n++);yr.splice(n,0,t),n===0&&p0(t)}};function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xy(){}function q1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ku(o);s.call(c)}}var o=DE(e,r,t,0,null,!1,!1,"",xy);return t._reactRootContainer=o,t[Kn]=o.current,al(t.nodeType===8?t.parentNode:t),wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=ku(u);l.call(c)}}var u=$p(t,0,!1,null,null,!1,!1,"",xy);return t._reactRootContainer=u,t[Kn]=u.current,al(t.nodeType===8?t.parentNode:t),wi(function(){_c(e,u,n,r)}),u}function Sc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ku(o);l.call(u)}}_c(e,o,t,i)}else o=q1(n,e,t,i,r);return ku(o)}c0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bo(e.pendingLanes);n!==0&&(cp(e,n|1),Nt(e,Me()),!(le&6)&&(Rs=Me()+500,Kr()))}break;case 13:wi(function(){var r=qn(t,1);if(r!==null){var i=gt();on(r,t,1,i)}}),Wp(t,1)}};dp=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=gt();on(e,t,134217728,n)}Wp(t,134217728)}};d0=function(t){if(t.tag===13){var e=Ar(t),n=qn(t,e);if(n!==null){var r=gt();on(n,t,e,r)}Wp(t,e)}};h0=function(){return fe};f0=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Ph=function(t,e,n){switch(e){case"input":if(Sh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hc(r);if(!i)throw Error(U(90));Vw(r),Sh(r,i)}}}break;case"textarea":Gw(t,n);break;case"select":e=n.value,e!=null&&os(t,!!n.multiple,e,!1)}};Zw=jp;e0=wi;var Y1={usingClientEntryPoint:!1,Events:[Ol,Ji,hc,Xw,Jw,jp]},So={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r0(t),t===null?null:t.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||K1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{ac=xa.inject(Q1),wn=xa}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y1;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(e))throw Error(U(200));return G1(t,e,null,n)};jt.createRoot=function(t,e){if(!Hp(t))throw Error(U(299));var n=!1,r="",i=LE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$p(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,al(t.nodeType===8?t.parentNode:t),new Vp(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=r0(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return wi(t)};jt.hydrate=function(t,e,n){if(!Ec(e))throw Error(U(200));return Sc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Hp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=DE(e,null,t,1,n??null,i,!1,s,o),t[Kn]=e.current,al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wc(e)};jt.render=function(t,e,n){if(!Ec(e))throw Error(U(200));return Sc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Ec(t))throw Error(U(40));return t._reactRootContainer?(wi(function(){Sc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};jt.unstable_batchedUpdates=jp;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ec(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Sc(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function ME(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ME)}catch(t){console.error(t)}}ME(),Mw.exports=jt;var Bs=Mw.exports;const X1=xw(Bs);var FE,Ty=Bs;FE=Ty.createRoot,Ty.hydrateRoot;var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.parse=iR;Gp.serialize=sR;const J1=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Z1=/^[\u0021-\u003A\u003C-\u007E]*$/,eR=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tR=/^[\u0020-\u003A\u003D-\u007E]*$/,nR=Object.prototype.toString,rR=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function iR(t,e){const n=new rR,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||oR;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const l=t.indexOf(";",s),u=l===-1?r:l;if(o>u){s=t.lastIndexOf(";",o-1)+1;continue}const c=Iy(t,s,o),h=ky(t,o,c),f=t.slice(c,h);if(n[f]===void 0){let p=Iy(t,o+1,u),_=ky(t,u,p);const C=i(t.slice(p,_));n[f]=C}s=u+1}while(s<r);return n}function Iy(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function ky(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function sR(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!J1.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!Z1.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!eR.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!tR.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!lR(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function oR(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function lR(t){return nR.call(t)==="[object Date]"}/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ry="popstate";function aR(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return uf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vl(i)}return cR(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function Py(t,e){return{usr:t.state,key:t.key,idx:e}}function uf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:n,key:e&&e.key||r||uR()}}function vl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let k=h(),y=k==null?null:k-c;c=k,u&&u({action:l,location:w.location,delta:y})}function p(k,y){l="PUSH";let v=uf(w.location,k,y);c=h()+1;let E=Py(v,c),O=w.createHref(v);try{o.pushState(E,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(O)}s&&u&&u({action:l,location:w.location,delta:1})}function _(k,y){l="REPLACE";let v=uf(w.location,k,y);c=h();let E=Py(v,c),O=w.createHref(v);o.replaceState(E,"",O),s&&u&&u({action:l,location:w.location,delta:0})}function C(k){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof k=="string"?k:vl(k);return v=v.replace(/ $/,"%20"),Re(y,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,y)}let w={get action(){return l},get location(){return t(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ry,f),u=k,()=>{i.removeEventListener(Ry,f),u=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let y=C(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:_,go(k){return o.go(k)}};return w}function jE(t,e,n="/"){return dR(t,e,n,!1)}function dR(t,e,n,r){let i=typeof e=="string"?$s(e):e,s=jr(i.pathname||"/",n);if(s==null)return null;let o=UE(t);hR(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=CR(s);l=ER(o[u],c,r)}return l}function UE(t,e=[],n=[],r=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Re(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Vn([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Re(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),UE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_R(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of zE(s.path))i(s,o,u)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function hR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fR=/^:[\w-]+$/,pR=3,mR=2,gR=1,vR=10,yR=-2,Ny=t=>t==="*";function _R(t,e){let n=t.split("/"),r=n.length;return n.some(Ny)&&(r+=yR),e&&(r+=mR),n.filter(i=>!Ny(i)).reduce((i,s)=>i+(fR.test(s)?pR:s===""?gR:vR),r)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ER(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Ru({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ru({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Vn([s,f.pathname]),pathnameBase:kR(Vn([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Vn([s,f.pathnameBase]))}return o}function Ru(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},p)=>{if(h==="*"){let C=l[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const _=l[p];return f&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function SR(t,e=!1,n=!0){cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$s(t):t;return{pathname:n?n.startsWith("/")?n:TR(n,e):e,search:RR(r),hash:PR(i)}}function TR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $d(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kp(t){let e=IR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qp(t,e,n,r=!1){let i;typeof t=="string"?i=$s(t):(i={...t},Re(!i.pathname||!i.pathname.includes("?"),$d("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),$d("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),$d("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=xR(i,l),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Vn=t=>t.join("/").replace(/\/\/+/g,"/"),kR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var AR=["GET",...BE];new Set(AR);var Ws=g.createContext(null);Ws.displayName="DataRouter";var Cc=g.createContext(null);Cc.displayName="DataRouterState";var $E=g.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var bR=g.createContext(new Map);bR.displayName="Fetchers";var OR=g.createContext(null);OR.displayName="Await";var fn=g.createContext(null);fn.displayName="Navigation";var Ll=g.createContext(null);Ll.displayName="Location";var kn=g.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Yp=g.createContext(null);Yp.displayName="RouteError";function DR(t,{relative:e}={}){Re(Vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(fn),{hash:i,pathname:s,search:o}=Ml(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Vn([n,s])),r.createHref({pathname:l,search:o,hash:i})}function Vs(){return g.useContext(Ll)!=null}function ir(){return Re(Vs(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ll).location}var WE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(t){g.useContext(fn).static||g.useLayoutEffect(t)}function Qp(){let{isDataRoute:t}=g.useContext(kn);return t?KR():LR()}function LR(){Re(Vs(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Ws),{basename:e,navigator:n}=g.useContext(fn),{matches:r}=g.useContext(kn),{pathname:i}=ir(),s=JSON.stringify(Kp(r)),o=g.useRef(!1);return VE(()=>{o.current=!0}),g.useCallback((u,c={})=>{if(cn(o.current,WE),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=qp(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}g.createContext(null);function Ml(t,{relative:e}={}){let{matches:n}=g.useContext(kn),{pathname:r}=ir(),i=JSON.stringify(Kp(n));return g.useMemo(()=>qp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function MR(t,e){return HE(t,e)}function HE(t,e,n,r){var v;Re(Vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=g.useContext(fn),{matches:o}=g.useContext(kn),l=o[o.length-1],u=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let E=f&&f.path||"";GE(c,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=ir(),_;if(e){let E=typeof e=="string"?$s(e):e;Re(h==="/"||((v=E.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),_=E}else _=p;let C=_.pathname||"/",w=C;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=!s&&n&&n.matches&&n.matches.length>0?n.matches:jE(t,{pathname:w});cn(f||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),cn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=BR(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Vn([h,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Vn([h,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&y?g.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},y):y}function FR(){let t=GR(),e=NR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,o)}var jR=g.createElement(FR,null),UR=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(kn.Provider,{value:this.props.routeContext},g.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zR({routeContext:t,match:e,children:n}){let r=g.useContext(Ws);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(kn.Provider,{value:t},n)}function BR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Re(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:f}=n,p=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let f,p=!1,_=null,C=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,_=c.route.errorElement||jR,o&&(l<0&&h===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,C=null):l===h&&(p=!0,C=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),k=()=>{let y;return f?y=_:p?y=C:c.route.Component?y=g.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,g.createElement(zR,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?g.createElement(UR,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function Xp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $R(t){let e=g.useContext(Ws);return Re(e,Xp(t)),e}function WR(t){let e=g.useContext(Cc);return Re(e,Xp(t)),e}function VR(t){let e=g.useContext(kn);return Re(e,Xp(t)),e}function Jp(t){let e=VR(t),n=e.matches[e.matches.length-1];return Re(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HR(){return Jp("useRouteId")}function GR(){var r;let t=g.useContext(Yp),e=WR("useRouteError"),n=Jp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KR(){let{router:t}=$R("useNavigate"),e=Jp("useNavigate"),n=g.useRef(!1);return VE(()=>{n.current=!0}),g.useCallback(async(i,s={})=>{cn(n.current,WE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Ay={};function GE(t,e,n){!e&&!Ay[t]&&(Ay[t]=!0,cn(!1,n))}g.memo(qR);function qR({routes:t,future:e,state:n}){return HE(t,void 0,n,e)}function YR({to:t,replace:e,state:n,relative:r}){Re(Vs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(fn);cn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(kn),{pathname:o}=ir(),l=Qp(),u=qp(t,Kp(s),o,r==="path"),c=JSON.stringify(u);return g.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:r})},[l,c,r,e,n]),null}function cf(t){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Re(!Vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=$s(n));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=n,_=g.useMemo(()=>{let C=jr(u,o);return C==null?null:{location:{pathname:C,search:c,hash:h,state:f,key:p},navigationType:r}},[o,u,c,h,f,p,r]);return cn(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:g.createElement(fn.Provider,{value:l},g.createElement(Ll.Provider,{children:e,value:_}))}function XR({children:t,location:e}){return MR(df(t),e)}function df(t,e=[]){let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,df(r.props.children,s));return}Re(r.type===cf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=df(r.props.children,s)),n.push(o)}),n}var qa="get",Ya="application/x-www-form-urlencoded";function xc(t){return t!=null&&typeof t.tagName=="string"}function JR(t){return xc(t)&&t.tagName.toLowerCase()==="button"}function ZR(t){return xc(t)&&t.tagName.toLowerCase()==="form"}function eP(t){return xc(t)&&t.tagName.toLowerCase()==="input"}function tP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nP(t,e){return t.button===0&&(!e||e==="_self")&&!tP(t)}var Ta=null;function rP(){if(Ta===null)try{new FormData(document.createElement("form"),0),Ta=!1}catch{Ta=!0}return Ta}var iP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(t){return t!=null&&!iP.has(t)?(cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):t}function sP(t,e){let n,r,i,s,o;if(ZR(t)){let l=t.getAttribute("action");r=l?jr(l,e):null,n=t.getAttribute("method")||qa,i=Wd(t.getAttribute("enctype"))||Ya,s=new FormData(t)}else if(JR(t)||eP(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?jr(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||qa,i=Wd(t.getAttribute("formenctype"))||Wd(l.getAttribute("enctype"))||Ya,s=new FormData(l,t),!rP()){let{name:c,type:h,value:f}=t;if(h==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(xc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qa,r=null,i=Ya,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Zp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await oP(s,n);return o.links?o.links():[]}return[]}));return hP(r.flat(1).filter(lP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function by(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function uP(t,e){return cP(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function cP(t){return[...new Set(t)]}function dP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function hP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(dP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function fP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pP(){let t=g.useContext(Ws);return Zp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mP(){let t=g.useContext(Cc);return Zp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var em=g.createContext(void 0);em.displayName="FrameworkContext";function KE(){let t=g.useContext(em);return Zp(t,"You must render this element inside a <HydratedRouter> element"),t}function gP(t,e){let n=g.useContext(em),[r,i]=g.useState(!1),[s,o]=g.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,p=g.useRef(null);g.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=y=>{y.forEach(v=>{o(v.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[t]),g.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Co(l,_),onBlur:Co(u,C),onMouseEnter:Co(c,_),onMouseLeave:Co(h,C),onTouchStart:Co(f,_)}]:[!1,p,{}]}function Co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vP({page:t,...e}){let{router:n}=pP(),r=g.useMemo(()=>jE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?g.createElement(_P,{page:t,matches:r,...e}):null}function yP(t){let{manifest:e,routeModules:n}=KE(),[r,i]=g.useState([]);return g.useEffect(()=>{let s=!1;return aP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function _P({page:t,matches:e,...n}){let r=ir(),{manifest:i,routeModules:s}=KE(),{loaderData:o,matches:l}=mP(),u=g.useMemo(()=>by(t,e,l,i,r,"data"),[t,e,l,i,r]),c=g.useMemo(()=>by(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=g.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,C=!1;if(e.forEach(k=>{var v;let y=i.routes[k.route.id];!y||!y.hasLoader||(!u.some(E=>E.route.id===k.route.id)&&k.route.id in o&&((v=s[k.route.id])!=null&&v.shouldRevalidate)||y.hasClientLoader?C=!0:_.add(k.route.id))}),_.size===0)return[];let w=fP(t);return C&&_.size>0&&w.searchParams.set("_routes",e.filter(k=>_.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[o,r,i,u,e,t,s]),f=g.useMemo(()=>uP(c,i),[c,i]),p=yP(c);return g.createElement(g.Fragment,null,h.map(_=>g.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),f.map(_=>g.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),p.map(({key:_,link:C})=>g.createElement("link",{key:_,...C})))}function wP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qE&&(window.__reactRouterVersion="7.1.5")}catch{}function EP({basename:t,children:e,window:n}){let r=g.useRef();r.current==null&&(r.current=aR({window:n,v5Compat:!0}));let i=r.current,[s,o]=g.useState({action:i.action,location:i.location}),l=g.useCallback(u=>{g.startTransition(()=>o(u))},[o]);return g.useLayoutEffect(()=>i.listen(l),[i,l]),g.createElement(QR,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QE=g.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:h,viewTransition:f,...p},_){let{basename:C}=g.useContext(fn),w=typeof c=="string"&&YE.test(c),k,y=!1;if(typeof c=="string"&&w&&(k=c,qE))try{let I=new URL(window.location.href),R=c.startsWith("//")?new URL(I.protocol+c):new URL(c),A=jr(R.pathname,C);R.origin===I.origin&&A!=null?c=A+R.search+R.hash:y=!0}catch{cn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=DR(c,{relative:i}),[E,O,L]=gP(r,p),F=TP(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:f});function T(I){e&&e(I),I.defaultPrevented||F(I)}let S=g.createElement("a",{...p,...L,href:k||v,onClick:y||s?e:T,ref:wP(_,O),target:u,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?g.createElement(g.Fragment,null,S,g.createElement(vP,{page:v})):S});QE.displayName="Link";var SP=g.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...c},h){let f=Ml(o,{relative:c.relative}),p=ir(),_=g.useContext(Cc),{navigator:C,basename:w}=g.useContext(fn),k=_!=null&&NP(f)&&l===!0,y=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,v=p.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&w&&(E=jr(E,w)||E);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let L=v===y||!i&&v.startsWith(y)&&v.charAt(O)==="/",F=E!=null&&(E===y||!i&&E.startsWith(y)&&E.charAt(y.length)==="/"),T={isActive:L,isPending:F,isTransitioning:k},S=L?e:void 0,I;typeof r=="function"?I=r(T):I=[r,L?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(T):s;return g.createElement(QE,{...c,"aria-current":S,className:I,ref:h,style:R,to:o,viewTransition:l},typeof u=="function"?u(T):u)});SP.displayName="NavLink";var CP=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=qa,action:l,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...p},_)=>{let C=RP(),w=PP(l,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&YE.test(l),v=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let O=E.nativeEvent.submitter,L=(O==null?void 0:O.getAttribute("formmethod"))||o;C(O||E.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return g.createElement("form",{ref:_,method:k,action:w,onSubmit:r?u:v,...p,"data-discover":!y&&t==="render"?"true":void 0})});CP.displayName="Form";function xP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(t){let e=g.useContext(Ws);return Re(e,xP(t)),e}function TP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Qp(),u=ir(),c=Ml(t,{relative:s});return g.useCallback(h=>{if(nP(h,e)){h.preventDefault();let f=n!==void 0?n:vl(u)===vl(c);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,c,n,r,e,t,i,s,o])}var IP=0,kP=()=>`__${String(++IP)}__`;function RP(){let{router:t}=XE("useSubmit"),{basename:e}=g.useContext(fn),n=HR();return g.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:u,body:c}=sP(r,e);if(i.navigate===!1){let h=i.fetcherKey||kP();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function PP(t,{relative:e}={}){let{basename:n}=g.useContext(fn),r=g.useContext(kn);Re(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ml(t||".",{relative:e})},o=ir();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Vn([n,s.pathname])),vl(s)}function NP(t,e={}){let n=g.useContext($E);Re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XE("useViewTransitionState"),i=Ml(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ru(i.pathname,o)!=null||Ru(i.pathname,s)!=null}new TextEncoder;var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw Hs(e)},Hs=function(t){return new Error("Firebase Database ("+JE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(p=64)),r.push(n[h],n[f],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new bP;const p=s<<2|l>>4;if(r.push(p),c!==64){const _=l<<4&240|c>>2;if(r.push(_),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(t){const e=ZE(t);return tm.encodeByteArray(e,!0)},Pu=function(t){return eS(t).replace(/\./g,"")},Nu=function(t){try{return tm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){return tS(void 0,t)}function tS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!DP(n)||(t[n]=tS(t[n],e[n]));return t}function DP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=()=>LP().__FIREBASE_DEFAULTS__,FP=()=>{if(typeof process>"u"||typeof Oy>"u")return;const t=Oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nu(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return MP()||FP()||jP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nS=t=>{var e,n;return(n=(e=nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rS=t=>{const e=nS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iS=()=>{var t;return(t=nm())===null||t===void 0?void 0:t.config},sS=t=>{var e;return(e=nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pu(JSON.stringify(n)),Pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function UP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BP(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $P(){return JE.NODE_ADMIN===!0}function WP(){try{return typeof indexedDB=="object"}catch{return!1}}function VP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HP,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new sr(i,l,r)}}function GP(t,e){return t.replace(KP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return JSON.parse(t)}function Ge(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=yl(Nu(s[0])||""),n=yl(Nu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},qP=function(t){const e=aS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},YP=function(t){const e=aS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ps(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dy(s)&&Dy(o)){if(!bu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const p=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^s&(o^l),h=1518500249):(c=s^o^l,h=1859775393):f<60?(c=s&o|l&(s|o),h=2400959708):(c=s^o^l,h=3395469782);const p=(i<<5|i>>>27)+c+u+h+r[f]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function XP(t,e){const n=new JP(t,e);return n.subscribe.bind(n)}class JP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vd),i.error===void 0&&(i.error=Vd),i.complete===void 0&&(i.complete=Vd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vd(){}function im(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,z(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ic=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rN(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nN(t){return t===si?void 0:t}function rN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const sN={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},oN=de.INFO,lN={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},aN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kc{constructor(e){this.name=e,this._logLevel=oN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const uN=(t,e)=>e.some(n=>t instanceof n);let Ly,My;function cN(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dN(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uS=new WeakMap,ff=new WeakMap,cS=new WeakMap,Hd=new WeakMap,sm=new WeakMap;function hN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uS.set(n,t)}).catch(()=>{}),sm.set(e,t),e}function fN(t){if(ff.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ff.set(t,e)}let pf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ff.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pN(t){pf=t(pf)}function mN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gd(this),e,...n);return cS.set(r,e.sort?e.sort():[e]),Or(r)}:dN().includes(t)?function(...e){return t.apply(Gd(this),e),Or(uS.get(this))}:function(...e){return Or(t.apply(Gd(this),e))}}function gN(t){return typeof t=="function"?mN(t):(t instanceof IDBTransaction&&fN(t),uN(t,cN())?new Proxy(t,pf):t)}function Or(t){if(t instanceof IDBRequest)return hN(t);if(Hd.has(t))return Hd.get(t);const e=gN(t);return e!==t&&(Hd.set(t,e),sm.set(e,t)),e}const Gd=t=>sm.get(t);function vN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Or(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Or(o.result),u.oldVersion,u.newVersion,Or(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const yN=["get","getKey","getAll","getAllKeys","count"],_N=["put","add","delete","clear"],Kd=new Map;function Fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_N.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yN.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Kd.set(e,s),s}pN(t=>({...t,get:(e,n,r)=>Fy(e,n)||t.get(e,n,r),has:(e,n)=>!!Fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mf="@firebase/app",jy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new kc("@firebase/app"),SN="@firebase/app-compat",CN="@firebase/analytics-compat",xN="@firebase/analytics",TN="@firebase/app-check-compat",IN="@firebase/app-check",kN="@firebase/auth",RN="@firebase/auth-compat",PN="@firebase/database",NN="@firebase/data-connect",AN="@firebase/database-compat",bN="@firebase/functions",ON="@firebase/functions-compat",DN="@firebase/installations",LN="@firebase/installations-compat",MN="@firebase/messaging",FN="@firebase/messaging-compat",jN="@firebase/performance",UN="@firebase/performance-compat",zN="@firebase/remote-config",BN="@firebase/remote-config-compat",$N="@firebase/storage",WN="@firebase/storage-compat",VN="@firebase/firestore",HN="@firebase/vertexai",GN="@firebase/firestore-compat",KN="firebase",qN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="[DEFAULT]",YN={[mf]:"fire-core",[SN]:"fire-core-compat",[xN]:"fire-analytics",[CN]:"fire-analytics-compat",[IN]:"fire-app-check",[TN]:"fire-app-check-compat",[kN]:"fire-auth",[RN]:"fire-auth-compat",[PN]:"fire-rtdb",[NN]:"fire-data-connect",[AN]:"fire-rtdb-compat",[bN]:"fire-fn",[ON]:"fire-fn-compat",[DN]:"fire-iid",[LN]:"fire-iid-compat",[MN]:"fire-fcm",[FN]:"fire-fcm-compat",[jN]:"fire-perf",[UN]:"fire-perf-compat",[zN]:"fire-rc",[BN]:"fire-rc-compat",[$N]:"fire-gcs",[WN]:"fire-gcs-compat",[VN]:"fire-fst",[GN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[KN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,QN=new Map,vf=new Map;function Uy(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ei(t){const e=t.name;if(vf.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,t);for(const n of Ou.values())Uy(n,t);for(const n of QN.values())Uy(n,t);return!0}function Rc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Fl("app","Firebase",XN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=qN;function dS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=iS()),!n)throw Dr.create("no-options");const s=Ou.get(i);if(s){if(bu(n,s.options)&&bu(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}const o=new iN(i);for(const u of vf.values())o.addComponent(u);const l=new JN(n,r,o);return Ou.set(i,l),l}function om(t=gf){const e=Ou.get(t);if(!e&&t===gf&&iS())return dS();if(!e)throw Dr.create("no-app",{appName:t});return e}function Sn(t,e,n){var r;let i=(r=YN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(l.join(" "));return}Ei(new Ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebase-heartbeat-database",eA=1,_l="firebase-heartbeat-store";let qd=null;function hS(){return qd||(qd=vN(ZN,eA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),qd}async function tA(t){try{const n=(await hS()).transaction(_l),r=await n.objectStore(_l).get(fS(t));return await n.done,r}catch(e){if(e instanceof sr)Qn.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(n.message)}}}async function zy(t,e){try{const r=(await hS()).transaction(_l,"readwrite");await r.objectStore(_l).put(e,fS(t)),await r.done}catch(n){if(n instanceof sr)Qn.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(r.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=1024,rA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=By();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rA){const o=lA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=By(),{heartbeatsToSend:r,unsentEntries:i}=sA(this._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qn.warn(n),""}}}function By(){return new Date().toISOString().substring(0,10)}function sA(t,e=nA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$y(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WP()?VP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $y(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}function lA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){Ei(new Ur("platform-logger",e=>new wN(e),"PRIVATE")),Ei(new Ur("heartbeat",e=>new iA(e),"PRIVATE")),Sn(mf,jy,t),Sn(mf,jy,"esm2017"),Sn("fire-js","")}aA("");var uA="firebase",cA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(uA,cA,"app");var _n=function(){return _n=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_n.apply(this,arguments)};function jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dA(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function pS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hA=pS,mS=new Fl("auth","Firebase",pS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new kc("@firebase/auth");function fA(t,...e){Du.logLevel<=de.WARN&&Du.warn(`Auth (${bi}): ${t}`,...e)}function Qa(t,...e){Du.logLevel<=de.ERROR&&Du.error(`Auth (${bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw am(t,...e)}function ln(t,...e){return am(t,...e)}function lm(t,e,n){const r=Object.assign(Object.assign({},hA()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return lm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),lm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mS.create(t,...e)}function q(t,e,...n){if(!t)throw am(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qa(e),new Error(e)}function Xn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mA(){return Wy()==="http:"||Wy()==="https:"}function Wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mA()||zP()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=rm()||lS()}get(){return gA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Ul(3e4,6e4);function cm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,i={}){return vS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Gs(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return UP()||(c.referrerPolicy="no-referrer"),gS.fetch()(yS(t,t.config.apiHost,n,l),c)})}async function vS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yA),e);try{const i=new EA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ia(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ia(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ia(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ia(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lm(t,h,c);Tn(t,h)}}catch(i){if(i instanceof sr)throw i;Tn(t,"network-request-failed",{message:String(i)})}}async function wA(t,e,n,r,i={}){const s=await Ks(t,e,n,r,i);return"mfaPendingCredential"in s&&Tn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?um(t.config,i):`${t.config.apiScheme}://${i}`}class EA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),_A.get())})}}function Ia(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ln(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function _S(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(t,e=!1){const n=pn(t),r=await n.getIdToken(e),i=dm(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Go(Yd(i.auth_time)),issuedAtTime:Go(Yd(i.iat)),expirationTime:Go(Yd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yd(t){return Number(t)*1e3}function dm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qa("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nu(n);return i?JSON.parse(i):(Qa("Failed to decode base64 JWT payload"),null)}catch(i){return Qa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Vy(t){const e=dm(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&xA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wl(t,_S(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wS(s.providerUserInfo):[],l=kA(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new _f(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function IA(t){const e=pn(t);await Lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wS(t){return t.map(e=>{var{providerId:n}=e,r=jl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e){const n=await vS(t,{},async()=>{const r=Gs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PA(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",cm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");const n=Vy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hs;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _f(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CA(this,e)}reload(){return IA(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await wl(this,SA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:O,isAnonymous:L,providerData:F,stsTokenManager:T}=n;q(E&&T,e,"internal-error");const S=hs.fromJSON(this.name,T);q(typeof E=="string",e,"internal-error"),dr(f,e.name),dr(p,e.name),q(typeof O=="boolean",e,"internal-error"),q(typeof L=="boolean",e,"internal-error"),dr(_,e.name),dr(C,e.name),dr(w,e.name),dr(k,e.name),dr(y,e.name),dr(v,e.name);const I=new zn({uid:E,auth:e,email:p,emailVerified:O,displayName:f,isAnonymous:L,photoURL:C,phoneNumber:_,tenantId:w,stsTokenManager:S,createdAt:y,lastLoginAt:v});return F&&Array.isArray(F)&&(I.providerData=F.map(R=>Object.assign({},R))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new hs;i.updateFromServerResponse(n);const s=new zn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new hs;l.updateFromIdToken(r);const u=new zn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _f(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Bn(t){Xn(t instanceof Function,"Expected a class definition");let e=Hy.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ES.type="NONE";const Gy=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e,n){return`firebase:${t}:${e}:${n}`}class fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xa(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xa("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fs(Bn(Gy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Bn(Gy);const o=Xa(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){const f=zn._fromJSON(e,h);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new fs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new fs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kS(e))return"Blackberry";if(RS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SS(t=vt()){return/firefox\//i.test(t)}function CS(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=vt()){return/crios\//i.test(t)}function TS(t=vt()){return/iemobile/i.test(t)}function IS(t=vt()){return/android/i.test(t)}function kS(t=vt()){return/blackberry/i.test(t)}function RS(t=vt()){return/webos/i.test(t)}function hm(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NA(t=vt()){var e;return hm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AA(){return BP()&&document.documentMode===10}function PS(t=vt()){return hm(t)||IS(t)||RS(t)||kS(t)||/windows phone/i.test(t)||TS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e=[]){let n;switch(t){case"Browser":n=Ky(vt());break;case"Worker":n=`${Ky(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",cm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=6;class LA{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new bA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _S(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(mi(this));const n=e?pn(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OA(this),n=new LA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pc(t){return pn(t)}class qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=XP(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(t){fm=t}function jA(t){return fm.loadJS(t)}function UA(){return fm.gapiScript}function zA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){const n=Rc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bu(s,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function $A(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WA(t,e,n){const r=Pc(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=AS(e),{host:o,port:l}=VA(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),HA()}function AS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VA(t){const e=AS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Yy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Yy(o)}}}function Yy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return wA(t,"POST","/v1/accounts:signInWithIdp",cm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="http://localhost";class Si extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Si(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){const e={requestUri:GA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends zl{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Si._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mn.credential(n,r)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends zl{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends zl{constructor(){super("twitter.com")}static credential(e,n){return Si._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zn._fromIdTokenResponse(e,r,i),o=Qy(r);return new Ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qy(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mu(e,n,r,i)}}function OS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(t,s,e,r):s})}async function KA(t,e,n=!1){const r=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e,n=!1){const{auth:r}=t;if(Wt(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const s=await wl(t,OS(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=dm(s.idToken);q(o,r,"internal-error");const{sub:l}=o;return q(t.uid===l,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e,n=!1){if(Wt(t.app))return Promise.reject(mi(t));const r="signIn",i=await OS(t,r,e),s=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function QA(t,e,n,r){return pn(t).onIdTokenChanged(e,n,r)}function XA(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function JA(t){return pn(t).signOut()}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1e3,eb=10;class LS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);AA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eb):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const tb=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const FS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await nb(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=mm("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function ib(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function sb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ob(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lb(){return jS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebaseLocalStorageDb",ab=1,ju="firebaseLocalStorage",zS="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ac(t,e){return t.transaction([ju],e?"readwrite":"readonly").objectStore(ju)}function ub(){const t=indexedDB.deleteDatabase(US);return new Bl(t).toPromise()}function wf(){const t=indexedDB.open(US,ab);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ju,{keyPath:zS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ju)?e(r):(r.close(),await ub(),e(await wf()))})})}async function Xy(t,e,n){const r=Ac(t,!0).put({[zS]:e,value:n});return new Bl(r).toPromise()}async function cb(t,e){const n=Ac(t,!1).get(e),r=await new Bl(n).toPromise();return r===void 0?null:r.value}function Jy(t,e){const n=Ac(t,!0).delete(e);return new Bl(n).toPromise()}const db=800,hb=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nc._getInstance(lb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sb(),!this.activeServiceWorker)return;this.sender=new rb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ob()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wf();return await Xy(e,Fu,"1"),await Jy(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cb(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ac(i,!1).getAll();return new Bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const fb=BS;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){return e?Bn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pb(t){return YA(t.auth,new gm(t),t.bypassAuthState)}function mb(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),qA(n,new gm(t),t.bypassAuthState)}async function gb(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),KA(n,new gm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pb;case"linkViaPopup":case"linkViaRedirect":return gb;case"reauthViaPopup":case"reauthViaRedirect":return mb;default:Tn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Ul(2e3,1e4);async function yb(t,e,n){if(Wt(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const r=Pc(t);pA(t,e,pm);const i=$S(r,n);return new ci(r,"signInViaPopup",e,i).executeNotNull()}class ci extends WS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vb.get())};e()}}ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="pendingRedirect",Ja=new Map;class wb extends WS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ja.get(this.auth._key());if(!e){try{const r=await Eb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Eb(t,e){const n=xb(e),r=Cb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sb(t,e){Ja.set(t._key(),e)}function Cb(t){return Bn(t._redirectPersistence)}function xb(t){return Xa(_b,t.config.apiKey,t.name)}async function Tb(t,e,n=!1){if(Wt(t.app))return Promise.reject(mi(t));const r=Pc(t),i=$S(r,e),o=await new wb(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=10*60*1e3;class kb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ib&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ab=/^https?/;async function bb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pb(t);for(const n of e)try{if(Ob(n))return}catch{}Tn(t,"unauthorized-domain")}function Ob(t){const e=yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ab.test(n))return!1;if(Nb.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Ul(3e4,6e4);function e_(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Lb(t){return new Promise((e,n)=>{var r,i,s;function o(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(ln(t,"network-request-failed"))},timeout:Db.get()})}if(!((i=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)o();else{const l=zA("iframefcb");return Cn()[l]=()=>{gapi.load?o():n(ln(t,"network-request-failed"))},jA(`${UA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Za=null,e})}let Za=null;function Mb(t){return Za=Za||Lb(t),Za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Ul(5e3,15e3),jb="__/auth/iframe",Ub="emulator/auth/iframe",zb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $b(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?um(e,Ub):`https://${t.config.authDomain}/${jb}`,r={apiKey:e.apiKey,appName:t.name,v:bi},i=Bb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gs(r).slice(1)}`}async function Wb(t){const e=await Mb(t),n=Cn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:$b(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ln(t,"network-request-failed"),l=Cn().setTimeout(()=>{s(o)},Fb.get());function u(){Cn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hb=500,Gb=600,Kb="_blank",qb="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yb(t,e,n,r=Hb,i=Gb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Vb),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(l=xS(c)?Kb:n),SS(c)&&(e=e||qb,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[_,C])=>`${p}${_}=${C},`,"");if(NA(c)&&l!=="_self")return Qb(e||"",l),new t_(null);const f=window.open(e||"",l,h);q(f,t,"popup-blocked");try{f.focus()}catch{}return new t_(f)}function Qb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__/auth/handler",Jb="emulator/auth/handler",Zb=encodeURIComponent("fac");async function n_(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bi,eventId:i};if(e instanceof pm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof zl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${Zb}=${encodeURIComponent(u)}`:"";return`${eO(t)}?${Gs(l).slice(1)}${c}`}function eO({config:t}){return t.emulator?um(t,Jb):`https://${t.authDomain}/${Xb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class tO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=Tb,this._overrideRedirectResult=Sb}async _openPopup(e,n,r,i){var s;Xn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await n_(e,n,r,yf(),i);return Yb(e,o,mm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await n_(e,n,r,yf(),i);return ib(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wb(e),r=new kb(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qd,{type:Qd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qd];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PS()||CS()||hm()}}const nO=tO;var r_="@firebase/auth",i_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sO(t){Ei(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NS(t)},c=new MA(r,i,s,u);return $A(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ei(new Ur("auth-internal",e=>{const n=Pc(e.getProvider("auth").getImmediate());return(r=>new rO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(r_,i_,iO(t)),Sn(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=5*60,lO=sS("authIdTokenMaxAge")||oO;let s_=null;const aO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lO)return;const i=n==null?void 0:n.token;s_!==i&&(s_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uO(t=om()){const e=Rc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BA(t,{popupRedirectResolver:nO,persistence:[fb,tb,FS]}),r=sS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=aO(s.toString());XA(n,o,()=>o(n.currentUser)),QA(n,l=>o(l))}}const i=nS("auth");return i&&WA(n,`http://${i}`),n}function cO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sO("Browser");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function I(){}I.prototype=S.prototype,T.D=S.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,A,b){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return S.prototype[A].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var A=0;16>A;++A)R[A]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(A=0;16>A;++A)R[A]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=T.g[0],I=T.g[1],A=T.g[2];var b=T.g[3],P=S+(b^I&(A^b))+R[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=b+(A^S&(I^A))+R[1]+3905402710&4294967295,b=S+(P<<12&4294967295|P>>>20),P=A+(I^b&(S^I))+R[2]+606105819&4294967295,A=b+(P<<17&4294967295|P>>>15),P=I+(S^A&(b^S))+R[3]+3250441966&4294967295,I=A+(P<<22&4294967295|P>>>10),P=S+(b^I&(A^b))+R[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=b+(A^S&(I^A))+R[5]+1200080426&4294967295,b=S+(P<<12&4294967295|P>>>20),P=A+(I^b&(S^I))+R[6]+2821735955&4294967295,A=b+(P<<17&4294967295|P>>>15),P=I+(S^A&(b^S))+R[7]+4249261313&4294967295,I=A+(P<<22&4294967295|P>>>10),P=S+(b^I&(A^b))+R[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=b+(A^S&(I^A))+R[9]+2336552879&4294967295,b=S+(P<<12&4294967295|P>>>20),P=A+(I^b&(S^I))+R[10]+4294925233&4294967295,A=b+(P<<17&4294967295|P>>>15),P=I+(S^A&(b^S))+R[11]+2304563134&4294967295,I=A+(P<<22&4294967295|P>>>10),P=S+(b^I&(A^b))+R[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=b+(A^S&(I^A))+R[13]+4254626195&4294967295,b=S+(P<<12&4294967295|P>>>20),P=A+(I^b&(S^I))+R[14]+2792965006&4294967295,A=b+(P<<17&4294967295|P>>>15),P=I+(S^A&(b^S))+R[15]+1236535329&4294967295,I=A+(P<<22&4294967295|P>>>10),P=S+(A^b&(I^A))+R[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=b+(I^A&(S^I))+R[6]+3225465664&4294967295,b=S+(P<<9&4294967295|P>>>23),P=A+(S^I&(b^S))+R[11]+643717713&4294967295,A=b+(P<<14&4294967295|P>>>18),P=I+(b^S&(A^b))+R[0]+3921069994&4294967295,I=A+(P<<20&4294967295|P>>>12),P=S+(A^b&(I^A))+R[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=b+(I^A&(S^I))+R[10]+38016083&4294967295,b=S+(P<<9&4294967295|P>>>23),P=A+(S^I&(b^S))+R[15]+3634488961&4294967295,A=b+(P<<14&4294967295|P>>>18),P=I+(b^S&(A^b))+R[4]+3889429448&4294967295,I=A+(P<<20&4294967295|P>>>12),P=S+(A^b&(I^A))+R[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=b+(I^A&(S^I))+R[14]+3275163606&4294967295,b=S+(P<<9&4294967295|P>>>23),P=A+(S^I&(b^S))+R[3]+4107603335&4294967295,A=b+(P<<14&4294967295|P>>>18),P=I+(b^S&(A^b))+R[8]+1163531501&4294967295,I=A+(P<<20&4294967295|P>>>12),P=S+(A^b&(I^A))+R[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=b+(I^A&(S^I))+R[2]+4243563512&4294967295,b=S+(P<<9&4294967295|P>>>23),P=A+(S^I&(b^S))+R[7]+1735328473&4294967295,A=b+(P<<14&4294967295|P>>>18),P=I+(b^S&(A^b))+R[12]+2368359562&4294967295,I=A+(P<<20&4294967295|P>>>12),P=S+(I^A^b)+R[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=b+(S^I^A)+R[8]+2272392833&4294967295,b=S+(P<<11&4294967295|P>>>21),P=A+(b^S^I)+R[11]+1839030562&4294967295,A=b+(P<<16&4294967295|P>>>16),P=I+(A^b^S)+R[14]+4259657740&4294967295,I=A+(P<<23&4294967295|P>>>9),P=S+(I^A^b)+R[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=b+(S^I^A)+R[4]+1272893353&4294967295,b=S+(P<<11&4294967295|P>>>21),P=A+(b^S^I)+R[7]+4139469664&4294967295,A=b+(P<<16&4294967295|P>>>16),P=I+(A^b^S)+R[10]+3200236656&4294967295,I=A+(P<<23&4294967295|P>>>9),P=S+(I^A^b)+R[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=b+(S^I^A)+R[0]+3936430074&4294967295,b=S+(P<<11&4294967295|P>>>21),P=A+(b^S^I)+R[3]+3572445317&4294967295,A=b+(P<<16&4294967295|P>>>16),P=I+(A^b^S)+R[6]+76029189&4294967295,I=A+(P<<23&4294967295|P>>>9),P=S+(I^A^b)+R[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=b+(S^I^A)+R[12]+3873151461&4294967295,b=S+(P<<11&4294967295|P>>>21),P=A+(b^S^I)+R[15]+530742520&4294967295,A=b+(P<<16&4294967295|P>>>16),P=I+(A^b^S)+R[2]+3299628645&4294967295,I=A+(P<<23&4294967295|P>>>9),P=S+(A^(I|~b))+R[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=b+(I^(S|~A))+R[7]+1126891415&4294967295,b=S+(P<<10&4294967295|P>>>22),P=A+(S^(b|~I))+R[14]+2878612391&4294967295,A=b+(P<<15&4294967295|P>>>17),P=I+(b^(A|~S))+R[5]+4237533241&4294967295,I=A+(P<<21&4294967295|P>>>11),P=S+(A^(I|~b))+R[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=b+(I^(S|~A))+R[3]+2399980690&4294967295,b=S+(P<<10&4294967295|P>>>22),P=A+(S^(b|~I))+R[10]+4293915773&4294967295,A=b+(P<<15&4294967295|P>>>17),P=I+(b^(A|~S))+R[1]+2240044497&4294967295,I=A+(P<<21&4294967295|P>>>11),P=S+(A^(I|~b))+R[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=b+(I^(S|~A))+R[15]+4264355552&4294967295,b=S+(P<<10&4294967295|P>>>22),P=A+(S^(b|~I))+R[6]+2734768916&4294967295,A=b+(P<<15&4294967295|P>>>17),P=I+(b^(A|~S))+R[13]+1309151649&4294967295,I=A+(P<<21&4294967295|P>>>11),P=S+(A^(I|~b))+R[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=b+(I^(S|~A))+R[11]+3174756917&4294967295,b=S+(P<<10&4294967295|P>>>22),P=A+(S^(b|~I))+R[2]+718787259&4294967295,A=b+(P<<15&4294967295|P>>>17),P=I+(b^(A|~S))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+b&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var I=S-this.blockSize,R=this.B,A=this.h,b=0;b<S;){if(A==0)for(;b<=I;)i(this,T,b),b+=this.blockSize;if(typeof T=="string"){for(;b<S;)if(R[A++]=T.charCodeAt(b++),A==this.blockSize){i(this,R),A=0;break}}else for(;b<S;)if(R[A++]=T[b++],A==this.blockSize){i(this,R),A=0;break}}this.h=A,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var I=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=I&255,I/=256;for(this.u(T),T=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)T[I++]=this.g[S]>>>R&255;return T};function s(T,S){var I=l;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=S(T)}function o(T,S){this.h=S;for(var I=[],R=!0,A=T.length-1;0<=A;A--){var b=T[A]|0;R&&b==S||(I[A]=b,R=!1)}this.g=I}var l={};function u(T){return-128<=T&&128>T?s(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return k(c(-T));for(var S=[],I=1,R=0;T>=I;R++)S[R]=T/I|0,I*=4294967296;return new o(S,0)}function h(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return k(h(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),R=f,A=0;A<T.length;A+=8){var b=Math.min(8,T.length-A),P=parseInt(T.substring(A,A+b),S);8>b?(b=c(Math.pow(S,b)),R=R.j(b).add(c(P))):(R=R.j(I),R=R.add(c(P)))}return R}var f=u(0),p=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-k(this).m();for(var T=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(w(this))return"-"+k(this).toString(T);for(var S=c(Math.pow(T,6)),I=this,R="";;){var A=O(I,S).g;I=y(I,A.j(S));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=A,C(I))return b+R;for(;6>b.length;)b="0"+b;R=b+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=y(this,T),w(T)?-1:C(T)?0:1};function k(T){for(var S=T.g.length,I=[],R=0;R<S;R++)I[R]=~T.g[R];return new o(I,~T.h).add(p)}t.abs=function(){return w(this)?k(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0,A=0;A<=S;A++){var b=R+(this.i(A)&65535)+(T.i(A)&65535),P=(b>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);R=P>>>16,b&=65535,P&=65535,I[A]=P<<16|b}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(k(S))}t.j=function(T){if(C(this)||C(T))return f;if(w(this))return w(T)?k(this).j(k(T)):k(k(this).j(T));if(w(T))return k(this.j(k(T)));if(0>this.l(_)&&0>T.l(_))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<T.g.length;A++){var b=this.i(R)>>>16,P=this.i(R)&65535,G=T.i(A)>>>16,ie=T.i(A)&65535;I[2*R+2*A]+=P*ie,v(I,2*R+2*A),I[2*R+2*A+1]+=b*ie,v(I,2*R+2*A+1),I[2*R+2*A+1]+=P*G,v(I,2*R+2*A+1),I[2*R+2*A+2]+=b*G,v(I,2*R+2*A+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new o(I,0)};function v(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function E(T,S){this.g=T,this.h=S}function O(T,S){if(C(S))throw Error("division by zero");if(C(T))return new E(f,f);if(w(T))return S=O(k(T),S),new E(k(S.g),k(S.h));if(w(S))return S=O(T,k(S)),new E(k(S.g),S.h);if(30<T.g.length){if(w(T)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=S;0>=R.l(T);)I=L(I),R=L(R);var A=F(I,1),b=F(R,1);for(R=F(R,2),I=F(I,2);!C(R);){var P=b.add(R);0>=P.l(T)&&(A=A.add(I),b=P),R=F(R,1),I=F(I,1)}return S=y(T,A.j(S)),new E(A,S)}for(A=f;0<=T.l(S);){for(I=Math.max(1,Math.floor(T.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),b=c(I),P=b.j(S);w(P)||0<P.l(T);)I-=R,b=c(I),P=b.j(S);C(b)&&(b=p),A=A.add(b),T=y(T,P)}return new E(A,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function L(T){for(var S=T.g.length+1,I=[],R=0;R<S;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function F(T,S){var I=S>>5;S%=32;for(var R=T.g.length-I,A=[],b=0;b<R;b++)A[b]=0<S?T.i(b+I)>>>S|T.i(b+I+1)<<32-S:T.i(b+I);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,HS=o}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ka=="object"&&ka];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var m=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var D=a[x];if(!(D in m))break e;m=m[D]}a=a[a.length-1],x=m[a],d=d(x),d!=x&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var m=0,x=!1,D={next:function(){if(!x&&m<a.length){var M=m++;return{value:d(M,a[M]),done:!1}}return x=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,m){return a.call.apply(a.bind,arguments)}function f(a,d,m){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,x),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function p(a,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function _(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function C(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(x,D,M){for(var B=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)B[ve-2]=arguments[ve];return d.prototype[D].apply(x,B)}}function w(a){const d=a.length;if(0<d){const m=Array(d);for(let x=0;x<d;x++)m[x]=a[x];return m}return[]}function k(a,d){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(u(x)){const D=a.length||0,M=x.length||0;a.length=D+M;for(let B=0;B<M;B++)a[D+B]=x[B]}else a.push(x)}}class y{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(a){return/^[\s\xa0]*$/.test(a)}function E(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(a,d,m){for(const x in a)d.call(m,a[x],x,a)}function T(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function S(a){const d={};for(const m in a)d[m]=a[m];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let m,x;for(let D=1;D<arguments.length;D++){x=arguments[D];for(m in x)a[m]=x[m];for(let M=0;M<I.length;M++)m=I[M],Object.prototype.hasOwnProperty.call(x,m)&&(a[m]=x[m])}}function A(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function b(a){l.setTimeout(()=>{throw a},0)}function P(){var a=$;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class G{constructor(){this.h=this.g=null}add(d,m){const x=ie.get();x.set(d,m),this.h?this.h.next=x:this.g=x,this.h=x}}var ie=new y(()=>new Y,a=>a.reset());class Y{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let X,j=!1,$=new G,V=()=>{const a=l.Promise.resolve(void 0);X=()=>{a.then(Q)}};var Q=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(m){b(m)}var d=ie;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}j=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function rt(a,d){if(me.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(L){e:{try{O(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:qe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&rt.aa.h.call(this)}}C(rt,me);var qe={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),ge=0;function $e(a,d,m,x,D){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!x,this.ha=D,this.key=++ge,this.da=this.fa=!1}function ce(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function oe(a){this.src=a,this.g={},this.h=0}oe.prototype.add=function(a,d,m,x,D){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var B=Ye(a,d,x,D);return-1<B?(d=a[B],m||(d.fa=!1)):(d=new $e(d,this.src,M,!!x,D),d.fa=m,a.push(d)),d};function ae(a,d){var m=d.type;if(m in a.g){var x=a.g[m],D=Array.prototype.indexOf.call(x,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(x,D,1),M&&(ce(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Ye(a,d,m,x){for(var D=0;D<a.length;++D){var M=a[D];if(!M.da&&M.listener==d&&M.capture==!!m&&M.ha==x)return D}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),Nn={};function or(a,d,m,x,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)or(a,d[M],m,x,D);return null}return m=Cg(m),a&&a[H]?a.K(d,m,c(x)?!!x.capture:!1,D):Jr(a,d,m,!1,x,D)}function Jr(a,d,m,x,D,M){if(!d)throw Error("Invalid event type");var B=c(D)?!!D.capture:!!D,ve=Qc(a);if(ve||(a[Et]=ve=new oe(a)),m=ve.add(d,m,x,B,M),m.proxy)return m;if(x=qc(),m.proxy=x,x.src=a,x.listener=m,a.addEventListener)Be||(D=B),D===void 0&&(D=!1),a.addEventListener(d.toString(),x,D);else if(a.attachEvent)a.attachEvent(Sg(d.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function qc(){function a(m){return d.call(a.src,a.listener,m)}const d=YT;return a}function Zr(a,d,m,x,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)Zr(a,d[M],m,x,D);else x=c(x)?!!x.capture:!!x,m=Cg(m),a&&a[H]?(a=a.i,d=String(d).toString(),d in a.g&&(M=a.g[d],m=Ye(M,m,x,D),-1<m&&(ce(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete a.g[d],a.h--)))):a&&(a=Qc(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ye(d,m,x,D)),(m=-1<a?d[a]:null)&&Yc(m))}function Yc(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[H])ae(d.i,a);else{var m=a.type,x=a.proxy;d.removeEventListener?d.removeEventListener(m,x,a.capture):d.detachEvent?d.detachEvent(Sg(m),x):d.addListener&&d.removeListener&&d.removeListener(x),(m=Qc(d))?(ae(m,a),m.h==0&&(m.src=null,d[Et]=null)):ce(a)}}}function Sg(a){return a in Nn?Nn[a]:Nn[a]="on"+a}function YT(a,d){if(a.da)a=!0;else{d=new rt(d,this);var m=a.listener,x=a.ha||a.src;a.fa&&Yc(a),a=m.call(x,d)}return a}function Qc(a){return a=a[Et],a instanceof oe?a:null}var Xc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cg(a){return typeof a=="function"?a:(a[Xc]||(a[Xc]=function(d){return a.handleEvent(d)}),a[Xc])}function it(){se.call(this),this.i=new oe(this),this.M=this,this.F=null}C(it,se),it.prototype[H]=!0,it.prototype.removeEventListener=function(a,d,m,x){Zr(this,a,d,m,x)};function ht(a,d){var m,x=a.F;if(x)for(m=[];x;x=x.F)m.push(x);if(a=a.M,x=d.type||d,typeof d=="string")d=new me(d,a);else if(d instanceof me)d.target=d.target||a;else{var D=d;d=new me(x,a),R(d,D)}if(D=!0,m)for(var M=m.length-1;0<=M;M--){var B=d.g=m[M];D=Yl(B,x,!0,d)&&D}if(B=d.g=a,D=Yl(B,x,!0,d)&&D,D=Yl(B,x,!1,d)&&D,m)for(M=0;M<m.length;M++)B=d.g=m[M],D=Yl(B,x,!1,d)&&D}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],x=0;x<m.length;x++)ce(m[x]);delete a.g[d],a.h--}}this.F=null},it.prototype.K=function(a,d,m,x){return this.i.add(String(a),d,!1,m,x)},it.prototype.L=function(a,d,m,x){return this.i.add(String(a),d,!0,m,x)};function Yl(a,d,m,x){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var B=d[M];if(B&&!B.da&&B.capture==m){var ve=B.listener,Qe=B.ha||B.src;B.fa&&ae(a.i,B),D=ve.call(Qe,x)!==!1&&D}}return D&&!x.defaultPrevented}function xg(a,d,m){if(typeof a=="function")m&&(a=p(a,m));else if(a&&typeof a.handleEvent=="function")a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Tg(a){a.g=xg(()=>{a.g=null,a.i&&(a.i=!1,Tg(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class QT extends se{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(a){se.call(this),this.h=a,this.g={}}C(to,se);var Ig=[];function kg(a){F(a.g,function(d,m){this.g.hasOwnProperty(m)&&Yc(d)},a),a.g={}}to.prototype.N=function(){to.aa.N.call(this),kg(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jc=l.JSON.stringify,XT=l.JSON.parse,JT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Zc(){}Zc.prototype.h=null;function Rg(a){return a.h||(a.h=a.i())}function ZT(){}var no={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ed(){me.call(this,"d")}C(ed,me);function td(){me.call(this,"c")}C(td,me);var Li={},Pg=null;function nd(){return Pg=Pg||new it}Li.La="serverreachability";function Ng(a){me.call(this,Li.La,a)}C(Ng,me);function ro(a){const d=nd();ht(d,new Ng(d))}Li.STAT_EVENT="statevent";function Ag(a,d){me.call(this,Li.STAT_EVENT,a),this.stat=d}C(Ag,me);function ft(a){const d=nd();ht(d,new Ag(d,a))}Li.Ma="timingevent";function bg(a,d){me.call(this,Li.Ma,a),this.size=d}C(bg,me);function io(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function eI(a,d,m,x,D,M){a.info(function(){if(a.g)if(M)for(var B="",ve=M.split("&"),Qe=0;Qe<ve.length;Qe++){var ue=ve[Qe].split("=");if(1<ue.length){var st=ue[0];ue=ue[1];var ot=st.split("_");B=2<=ot.length&&ot[1]=="type"?B+(st+"="+ue+"&"):B+(st+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+x+") [attempt "+D+"]: "+d+`
`+m+`
`+B})}function tI(a,d,m,x,D,M,B){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+D+"]: "+d+`
`+m+`
`+M+" "+B})}function Mi(a,d,m,x){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+rI(a,m)+(x?" "+x:"")})}function nI(a,d){a.info(function(){return"TIMEOUT: "+d})}so.prototype.info=function(){};function rI(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var x=m[a];if(!(2>x.length)){var D=x[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return Jc(m)}catch{return d}}var rd={NO_ERROR:0,TIMEOUT:8},iI={},id;function Ql(){}C(Ql,Zc),Ql.prototype.g=function(){return new XMLHttpRequest},Ql.prototype.i=function(){return{}},id=new Ql;function lr(a,d,m,x){this.j=a,this.i=d,this.l=m,this.R=x||1,this.U=new to(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Og}function Og(){this.i=null,this.g="",this.h=!1}var Dg={},sd={};function od(a,d,m){a.L=1,a.v=ea(An(d)),a.m=m,a.P=!0,Lg(a,null)}function Lg(a,d){a.F=Date.now(),Xl(a),a.A=An(a.v);var m=a.A,x=a.R;Array.isArray(x)||(x=[String(x)]),Yg(m.i,"t",x),a.C=0,m=a.j.J,a.h=new Og,a.g=fv(a.j,m?d:null,!a.m),0<a.O&&(a.M=new QT(p(a.Y,a,a.g),a.O)),d=a.U,m=a.g,x=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ig[0]=D.toString()),D=Ig);for(var M=0;M<D.length;M++){var B=or(m,D[M],x||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=a.H?S(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ro(),eI(a.i,a.u,a.A,a.l,a.R,a.m)}lr.prototype.ca=function(a){a=a.target;const d=this.M;d&&bn(a)==3?d.j():this.Y(a)},lr.prototype.Y=function(a){try{if(a==this.g)e:{const ot=bn(this.g);var d=this.g.Ba();const Ui=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||nv(this.g)))){this.J||ot!=4||d==7||(d==8||0>=Ui?ro(3):ro(2)),ld(this);var m=this.g.Z();this.X=m;t:if(Mg(this)){var x=nv(this.g);a="";var D=x.length,M=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),oo(this);var B="";break t}this.h.i=new l.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(x[d],{stream:!(M&&d==D-1)});x.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,tI(this.i,this.u,this.A,this.l,this.R,ot,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Qe=this.g;if((ve=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ve)){var ue=ve;break t}}ue=null}if(m=ue)Mi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ad(this,m);else{this.o=!1,this.s=3,ft(12),ei(this),oo(this);break e}}if(this.P){m=!0;let Yt;for(;!this.J&&this.C<B.length;)if(Yt=sI(this,B),Yt==sd){ot==4&&(this.s=4,ft(14),m=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Dg){this.s=4,ft(15),Mi(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else Mi(this.i,this.l,Yt,null),ad(this,Yt);if(Mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||B.length!=0||this.h.h||(this.s=1,ft(16),m=!1),this.o=this.o&&m,!m)Mi(this.i,this.l,B,"[Invalid Chunked Response]"),ei(this),oo(this);else if(0<B.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),pd(st),st.M=!0,ft(11))}}else Mi(this.i,this.l,B,null),ad(this,B);ot==4&&ei(this),this.o&&!this.J&&(ot==4?uv(this.j,this):(this.o=!1,Xl(this)))}else SI(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),ei(this),oo(this)}}}catch{}finally{}};function Mg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function sI(a,d){var m=a.C,x=d.indexOf(`
`,m);return x==-1?sd:(m=Number(d.substring(m,x)),isNaN(m)?Dg:(x+=1,x+m>d.length?sd:(d=d.slice(x,x+m),a.C=x+m,d)))}lr.prototype.cancel=function(){this.J=!0,ei(this)};function Xl(a){a.S=Date.now()+a.I,Fg(a,a.I)}function Fg(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=io(p(a.ba,a),d)}function ld(a){a.B&&(l.clearTimeout(a.B),a.B=null)}lr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(nI(this.i,this.A),this.L!=2&&(ro(),ft(17)),ei(this),this.s=2,oo(this)):Fg(this,this.S-a)};function oo(a){a.j.G==0||a.J||uv(a.j,a)}function ei(a){ld(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,kg(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ad(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||ud(m.h,a))){if(!a.K&&ud(m.h,a)&&m.G==3){try{var x=m.Da.g.parse(d)}catch{x=null}if(Array.isArray(x)&&x.length==3){var D=x;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)oa(m),ia(m);else break e;fd(m),ft(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=io(p(m.Za,m),6e3));if(1>=zg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ni(m,11)}else if((a.K||m.g==a)&&oa(m),!v(d))for(D=m.Da.g.parse(d),d=0;d<D.length;d++){let ue=D[d];if(m.T=ue[0],ue=ue[1],m.G==2)if(ue[0]=="c"){m.K=ue[1],m.ia=ue[2];const st=ue[3];st!=null&&(m.la=st,m.j.info("VER="+m.la));const ot=ue[4];ot!=null&&(m.Aa=ot,m.j.info("SVER="+m.Aa));const Ui=ue[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(x=1.5*Ui,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const Yt=a.g;if(Yt){const la=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var M=x.h;M.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(cd(M,M.h),M.h=null))}if(x.D){const md=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;md&&(x.ya=md,Ee(x.I,x.D,md))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var B=a;if(x.qa=hv(x,x.J?x.ia:null,x.W),B.K){Bg(x.h,B);var ve=B,Qe=x.L;Qe&&(ve.I=Qe),ve.B&&(ld(ve),Xl(ve)),x.g=B}else lv(x);0<m.i.length&&sa(m)}else ue[0]!="stop"&&ue[0]!="close"||ni(m,7);else m.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?ni(m,7):hd(m):ue[0]!="noop"&&m.l&&m.l.ta(ue),m.v=0)}}ro(4)}catch{}}var oI=class{constructor(a,d){this.g=a,this.map=d}};function jg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ug(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function zg(a){return a.h?1:a.g?a.g.size:0}function ud(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function cd(a,d){a.g?a.g.add(d):a.h=d}function Bg(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}jg.prototype.cancel=function(){if(this.i=$g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function $g(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return w(a.i)}function lI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],m=a.length,x=0;x<m;x++)d.push(a[x]);return d}d=[],m=0;for(x in a)d[m++]=a[x];return d}function aI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const x in a)d[m++]=x;return d}}}function Wg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=aI(a),x=lI(a),D=x.length,M=0;M<D;M++)d.call(void 0,x[M],m&&m[M],a)}var Vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uI(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var x=a[m].indexOf("="),D=null;if(0<=x){var M=a[m].substring(0,x);D=a[m].substring(x+1)}else M=a[m];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ti){this.h=a.h,Jl(this,a.j),this.o=a.o,this.g=a.g,Zl(this,a.s),this.l=a.l;var d=a.i,m=new uo;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Hg(this,m),this.m=a.m}else a&&(d=String(a).match(Vg))?(this.h=!1,Jl(this,d[1]||"",!0),this.o=lo(d[2]||""),this.g=lo(d[3]||"",!0),Zl(this,d[4]),this.l=lo(d[5]||"",!0),Hg(this,d[6]||"",!0),this.m=lo(d[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}ti.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ao(d,Gg,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ao(d,Gg,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(ao(m,m.charAt(0)=="/"?hI:dI,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",ao(m,pI)),a.join("")};function An(a){return new ti(a)}function Jl(a,d,m){a.j=m?lo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Zl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Hg(a,d,m){d instanceof uo?(a.i=d,mI(a.i,a.h)):(m||(d=ao(d,fI)),a.i=new uo(d,a.h))}function Ee(a,d,m){a.i.set(d,m)}function ea(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function lo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ao(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,cI),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gg=/[#\/\?@]/g,dI=/[#\?:]/g,hI=/[#\?]/g,fI=/[#\?@]/g,pI=/#/g;function uo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ar(a){a.g||(a.g=new Map,a.h=0,a.i&&uI(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=uo.prototype,t.add=function(a,d){ar(this),this.i=null,a=Fi(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function Kg(a,d){ar(a),d=Fi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function qg(a,d){return ar(a),d=Fi(a,d),a.g.has(d)}t.forEach=function(a,d){ar(this),this.g.forEach(function(m,x){m.forEach(function(D){a.call(d,D,x,this)},this)},this)},t.na=function(){ar(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let x=0;x<d.length;x++){const D=a[x];for(let M=0;M<D.length;M++)m.push(d[x])}return m},t.V=function(a){ar(this);let d=[];if(typeof a=="string")qg(this,a)&&(d=d.concat(this.g.get(Fi(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return ar(this),this.i=null,a=Fi(this,a),qg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Yg(a,d,m){Kg(a,d),0<m.length&&(a.i=null,a.g.set(Fi(a,d),w(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var x=d[m];const M=encodeURIComponent(String(x)),B=this.V(x);for(x=0;x<B.length;x++){var D=M;B[x]!==""&&(D+="="+encodeURIComponent(String(B[x]))),a.push(D)}}return this.i=a.join("&")};function Fi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function mI(a,d){d&&!a.j&&(ar(a),a.i=null,a.g.forEach(function(m,x){var D=x.toLowerCase();x!=D&&(Kg(this,x),Yg(this,D,m))},a)),a.j=d}function gI(a,d){const m=new so;if(l.Image){const x=new Image;x.onload=_(ur,m,"TestLoadImage: loaded",!0,d,x),x.onerror=_(ur,m,"TestLoadImage: error",!1,d,x),x.onabort=_(ur,m,"TestLoadImage: abort",!1,d,x),x.ontimeout=_(ur,m,"TestLoadImage: timeout",!1,d,x),l.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else d(!1)}function vI(a,d){const m=new so,x=new AbortController,D=setTimeout(()=>{x.abort(),ur(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:x.signal}).then(M=>{clearTimeout(D),M.ok?ur(m,"TestPingServer: ok",!0,d):ur(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),ur(m,"TestPingServer: error",!1,d)})}function ur(a,d,m,x,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),x(m)}catch{}}function yI(){this.g=new JT}function _I(a,d,m){const x=m||"";try{Wg(a,function(D,M){let B=D;c(D)&&(B=Jc(D)),d.push(x+M+"="+encodeURIComponent(B))})}catch(D){throw d.push(x+"type="+encodeURIComponent("_badmap")),D}}function ta(a){this.l=a.Ub||null,this.j=a.eb||!1}C(ta,Zc),ta.prototype.g=function(){return new na(this.l,this.j)},ta.prototype.i=function(a){return function(){return a}}({});function na(a,d){it.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(na,it),t=na.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ho(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?co(this):ho(this),this.readyState==3&&Qg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,co(this))},t.Qa=function(a){this.g&&(this.response=a,co(this))},t.ga=function(){this.g&&co(this)};function co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ho(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function ho(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xg(a){let d="";return F(a,function(m,x){d+=x,d+=":",d+=m,d+=`\r
`}),d}function dd(a,d,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=Xg(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Ee(a,d,m))}function Le(a){it.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Le,it);var wI=/^https?$/i,EI=["POST","PUT"];t=Le.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():id.g(),this.v=this.o?Rg(this.o):Rg(id),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(M){Jg(this,M);return}if(a=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var D in x)m.set(D,x[D]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const M of x.keys())m.set(M,x.get(M));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(EI,d,void 0))||x||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of m)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tv(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Jg(this,M)}};function Jg(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Zg(a),ra(a)}function Zg(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ev(this):this.bb())},t.bb=function(){ev(this)};function ev(a){if(a.h&&typeof o<"u"&&(!a.v[1]||bn(a)!=4||a.Z()!=2)){if(a.u&&bn(a)==4)xg(a.Ea,0,a);else if(ht(a,"readystatechange"),bn(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var x;if(x=B===0){var D=String(a.D).match(Vg)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),x=!wI.test(D?D.toLowerCase():"")}m=x}if(m)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var M=2<bn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Zg(a)}}finally{ra(a)}}}}function ra(a,d){if(a.g){tv(a);const m=a.g,x=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{m.onreadystatechange=x}catch{}}}function tv(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),XT(d)}};function nv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function SI(a){const d={};a=(a.g&&2<=bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(v(a[x]))continue;var m=A(a[x]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=d[D]||[];d[D]=M,M.push(m)}T(d,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function rv(a){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,a),this.cb=fo("retryDelaySeedMs",1e4,a),this.Wa=fo("forwardChannelMaxRetries",2,a),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new jg(a&&a.concurrentRequestLimit),this.Da=new yI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rv.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,x){ft(0),this.W=a,this.H=d||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=hv(this,null,this.W),sa(this)};function hd(a){if(iv(a),a.G==3){var d=a.U++,m=An(a.I);if(Ee(m,"SID",a.K),Ee(m,"RID",d),Ee(m,"TYPE","terminate"),po(a,m),d=new lr(a,a.j,d),d.L=2,d.v=ea(An(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=fv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xl(d)}dv(a)}function ia(a){a.g&&(pd(a),a.g.cancel(),a.g=null)}function iv(a){ia(a),a.u&&(l.clearTimeout(a.u),a.u=null),oa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function sa(a){if(!Ug(a.h)&&!a.s){a.s=!0;var d=a.Ga;X||V(),j||(X(),j=!0),$.add(d,a),a.B=0}}function CI(a,d){return zg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=io(p(a.Ga,a,d),cv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new lr(this,this.j,a);let M=this.o;if(this.S&&(M?(M=S(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(d+=x,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=ov(this,D,d),m=An(this.I),Ee(m,"RID",a),Ee(m,"CVER",22),this.D&&Ee(m,"X-HTTP-Session-Id",this.D),po(this,m),M&&(this.O?d="headers="+encodeURIComponent(String(Xg(M)))+"&"+d:this.m&&dd(m,this.m,M)),cd(this.h,D),this.Ua&&Ee(m,"TYPE","init"),this.P?(Ee(m,"$req",d),Ee(m,"SID","null"),D.T=!0,od(D,m,null)):od(D,m,d),this.G=2}}else this.G==3&&(a?sv(this,a):this.i.length==0||Ug(this.h)||sv(this))};function sv(a,d){var m;d?m=d.l:m=a.U++;const x=An(a.I);Ee(x,"SID",a.K),Ee(x,"RID",m),Ee(x,"AID",a.T),po(a,x),a.m&&a.o&&dd(x,a.m,a.o),m=new lr(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=ov(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),cd(a.h,m),od(m,x,d)}function po(a,d){a.H&&F(a.H,function(m,x){Ee(d,x,m)}),a.l&&Wg({},function(m,x){Ee(d,x,m)})}function ov(a,d,m){m=Math.min(a.i.length,m);var x=a.l?p(a.l.Na,a.l,a):null;e:{var D=a.i;let M=-1;for(;;){const B=["count="+m];M==-1?0<m?(M=D[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let ve=!0;for(let Qe=0;Qe<m;Qe++){let ue=D[Qe].g;const st=D[Qe].map;if(ue-=M,0>ue)M=Math.max(0,D[Qe].g-100),ve=!1;else try{_I(st,B,"req"+ue+"_")}catch{x&&x(st)}}if(ve){x=B.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,x}function lv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;X||V(),j||(X(),j=!0),$.add(d,a),a.v=0}}function fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=io(p(a.Fa,a),cv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,av(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=io(p(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ia(this),av(this))};function pd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function av(a){a.g=new lr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=An(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),po(a,d),a.m&&a.o&&dd(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=ea(An(d)),m.m=null,m.P=!0,Lg(m,a)}t.Za=function(){this.C!=null&&(this.C=null,ia(this),fd(this),ft(19))};function oa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function uv(a,d){var m=null;if(a.g==d){oa(a),pd(a),a.g=null;var x=2}else if(ud(a.h,d))m=d.D,Bg(a.h,d),x=1;else return;if(a.G!=0){if(d.o)if(x==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;x=nd(),ht(x,new bg(x,m)),sa(a)}else lv(a);else if(D=d.s,D==3||D==0&&0<d.X||!(x==1&&CI(a,d)||x==2&&fd(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),D){case 1:ni(a,5);break;case 4:ni(a,10);break;case 3:ni(a,6);break;default:ni(a,2)}}}function cv(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function ni(a,d){if(a.j.info("Error code "+d),d==2){var m=p(a.fb,a),x=a.Xa;const D=!x;x=new ti(x||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Jl(x,"https"),ea(x),D?gI(x.toString(),m):vI(x.toString(),m)}else ft(2);a.G=0,a.l&&a.l.sa(d),dv(a),iv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function dv(a){if(a.G=0,a.ka=[],a.l){const d=$g(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.ra()}}function hv(a,d,m){var x=m instanceof ti?An(m):new ti(m);if(x.g!="")d&&(x.g=d+"."+x.g),Zl(x,x.s);else{var D=l.location;x=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new ti(null);x&&Jl(M,x),d&&(M.g=d),D&&Zl(M,D),m&&(M.l=m),x=M}return m=a.D,d=a.ya,m&&d&&Ee(x,m,d),Ee(x,"VER",a.la),po(a,x),x}function fv(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Le(new ta({eb:m})):new Le(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pv(){}t=pv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zt(a,d){it.call(this),this.g=new rv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!v(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ji(this)}C(zt,it),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){hd(this.g)},zt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Jc(a),a=m);d.i.push(new oI(d.Ya++,a)),d.G==3&&sa(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,zt.aa.N.call(this)};function mv(a){ed.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(mv,ed);function gv(){td.call(this),this.status=1}C(gv,td);function ji(a){this.g=a}C(ji,pv),ji.prototype.ua=function(){ht(this.g,"a")},ji.prototype.ta=function(a){ht(this.g,new mv(a))},ji.prototype.sa=function(a){ht(this.g,new gv)},ji.prototype.ra=function(){ht(this.g,"b")},zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,rd.NO_ERROR=0,rd.TIMEOUT=8,rd.HTTP_ERROR=6,iI.COMPLETE="complete",ZT.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",it.prototype.listen=it.prototype.K,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha}).apply(typeof ka<"u"?ka:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",a_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new kc("@firebase/firestore");function nn(t,...e){if(As.logLevel<=de.DEBUG){const n=e.map(vm);As.debug(`Firestore (${$l}): ${t}`,...n)}}function GS(t,...e){if(As.logLevel<=de.ERROR){const n=e.map(vm);As.error(`Firestore (${$l}): ${t}`,...n)}}function dO(t,...e){if(As.logLevel<=de.WARN){const n=e.map(vm);As.warn(`Firestore (${$l}): ${t}`,...n)}}function vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw GS(e),new Error(e)}function Ko(t,e){t||ym()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class xt extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class fO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pO{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ko(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ko(typeof r.accessToken=="string"),new KS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ko(e===null||typeof e=="string"),new mt(e)}}class mO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vO{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ko(this.o===void 0);const r=s=>{s.error!=null&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,nn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new u_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ko(typeof n.token=="string"),this.R=n.token,new u_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yO(t){return t.name==="IndexedDbTransactionError"}const Ef="(default)";class Uu{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_,re;(re=c_||(c_={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new HS([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1048576;function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&nn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new _m(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var d_,h_;(h_=d_||(d_={}))._a="default",h_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;function CO(t,e,n,r){if(e===!0&&r===!0)throw new xt(Ct.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xO(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ym()}function TO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xt(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xO(t);throw new xt(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",p_=!0;class m_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xt(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=p_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_O;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wO)throw new xt(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YS{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hO;switch(r.type){case"firstParty":return new gO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=f_.get(n);r&&(nn("ComponentProvider","Removing Datastore"),f_.delete(n),r.terminate())}(this),Promise.resolve()}}function IO(t,e,n,r={}){var i;const s=(t=TO(t,YS))._getSettings(),o=`${e}:${n}`;if(s.host!==qS&&s.host!==o&&dO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=mt.MOCK_USER;else{l=oS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new xt(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(c)}t._authCredentials=new fO(new KS(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class v_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new EO(this,"async_queue_retry"),this.Su=()=>{const r=Xd();r&&nn(g_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new qo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yO(e))throw e;nn(g_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw GS("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=_m.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ym()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class kO extends YS{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new v_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function RO(t,e){const n=typeof t=="object"?t:om(),r=typeof t=="string"?t:Ef,i=Rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rS("firestore");s&&IO(i,...s)}return i}(function(e,n=!0){(function(i){$l=i})(bi),Ei(new Ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new kO(new pO(r.getProvider("auth-internal")),new vO(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new xt(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Sn(l_,a_,e),Sn(l_,a_,"esm2017")})();var y_={};const __="@firebase/database",w_="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QS="";function PO(t){QS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ge(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NO(e)}}catch{}return new AO},di=XS("localStorage"),bO=XS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new kc("@firebase/database"),OO=function(){let t=1;return function(){return t++}}(),JS=function(t){const e=eN(t),n=new QP;n.update(e);const r=n.digest();return tm.encodeByteArray(r)},Wl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Wl.apply(null,r):typeof r=="object"?e+=Ge(r):e+=r,e+=" "}return e};let Yo=null,E_=!0;const DO=function(t,e){z(!0,"Can't turn on custom loggers persistently."),ms.logLevel=de.VERBOSE,Yo=ms.log.bind(ms)},Je=function(...t){if(E_===!0&&(E_=!1,Yo===null&&bO.get("logging_enabled")===!0&&DO()),Yo){const e=Wl.apply(null,t);Yo(e)}},Vl=function(t){return function(...e){Je(t,...e)}},Sf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Wl(...t);ms.error(e)},Jn=function(...t){const e=`FIREBASE FATAL ERROR: ${Wl(...t)}`;throw ms.error(e),new Error(e)},At=function(...t){const e="FIREBASE WARNING: "+Wl(...t);ms.warn(e)},LO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},MO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},bs="[MIN_NAME]",Ci="[MAX_NAME]",Oi=function(t,e){if(t===e)return 0;if(t===bs||e===Ci)return-1;if(e===bs||t===Ci)return 1;{const n=S_(t),r=S_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},FO=function(t,e){return t===e?0:t<e?-1:1},xo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ge(e))},Em=function(t){if(typeof t!="object"||t===null)return Ge(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ge(e[r]),n+=":",n+=Em(t[e[r]]);return n+="}",n},ZS=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eC=function(t){z(!wm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const h=c.join("");let f="";for(u=0;u<64;u+=8){let p=parseInt(h.substr(u,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},jO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const BO=new RegExp("^-?(0*)\\d{1,10}$"),$O=-2147483648,WO=2147483647,S_=function(t){if(BO.test(t)){const e=Number(t);if(e>=$O&&e<=WO)return e}return null},qs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw At("Exception was thrown by user callback.",n),e},Math.floor(0))}},VO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Wt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){At(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',At(e)}}class eu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="5",tC="v",nC="s",rC="r",iC="f",sC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oC="ls",lC="p",Cf="ac",aC="websocket",uC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=di.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&di.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dC(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(e===aC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KO(t)&&(n.ns=t.namespace);const i=[];return nt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.counters_={}}incrementCounter(e,n=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return OP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={},Zd={};function Cm(t){const e=t.toString();return Jd[e]||(Jd[e]=new qO),Jd[e]}function YO(t,e){const n=t.toString();return Zd[n]||(Zd[n]=e()),Zd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="start",XO="close",JO="pLPCommand",ZO="pRTLPCB",hC="id",fC="pw",pC="ser",e2="cb",t2="seg",n2="ts",r2="d",i2="dframe",mC=1870,gC=30,s2=mC-gC,o2=25e3,l2=3e4;class ss{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(e),this.stats_=Cm(n),this.urlFn=u=>(this.appCheckToken&&(u[Cf]=this.appCheckToken),dC(n,uC,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(l2)),MO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xm((...s)=>{const[o,l,u,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===C_)this.id=l,this.password=u;else if(o===XO)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[C_]="t",r[pC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[e2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[tC]=Sm,this.transportSessionId&&(r[nC]=this.transportSessionId),this.lastSessionId&&(r[oC]=this.lastSessionId),this.applicationId&&(r[lC]=this.applicationId),this.appCheckToken&&(r[Cf]=this.appCheckToken),typeof location<"u"&&location.hostname&&sC.test(location.hostname)&&(r[rC]=iC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ss.forceAllow_=!0}static forceDisallow(){ss.forceDisallow_=!0}static isAvailable(){return ss.forceAllow_?!0:!ss.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jO()&&!UO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eS(n),i=ZS(r,s2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[i2]="t",r[hC]=e,r[fC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ge(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OO(),window[JO+this.uniqueCallbackIdentifier]=e,window[ZO+this.uniqueCallbackIdentifier]=n,this.myIFrame=xm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Je("frame writing exception"),l.stack&&Je(l.stack),Je(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hC]=this.myID,e[fC]=this.myPW,e[pC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gC+r.length<=mC;){const o=this.pendingSegs.shift();r=r+"&"+t2+i+"="+o.seg+"&"+n2+i+"="+o.ts+"&"+r2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(o2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=16384,u2=45e3;let zu=null;typeof MozWebSocket<"u"?zu=MozWebSocket:typeof WebSocket<"u"&&(zu=WebSocket);class tn{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=Cm(n),this.connURL=tn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[tC]=Sm,typeof location<"u"&&location.hostname&&sC.test(location.hostname)&&(o[rC]=iC),n&&(o[nC]=n),r&&(o[oC]=r),i&&(o[Cf]=i),s&&(o[lC]=s),dC(e,aC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,di.set("previous_websocket_failure",!0);try{let r;$P(),this.mySock=new zu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zu!==null&&!tn.forceDisallow_}static previouslyFailed(){return di.isInMemoryStorage||di.get("previous_websocket_failure")===!0}markConnectionHealthy(){di.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=yl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZS(n,a2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(u2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static get ALL_TRANSPORTS(){return[ss,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=tn&&tn.isAvailable();let r=n&&!tn.previouslyFailed();if(e.webSocketOnly&&(n||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const i=this.transports_=[];for(const s of El.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);El.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}El.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=6e4,d2=5e3,h2=10*1024,f2=100*1024,eh="t",x_="d",p2="s",T_="r",m2="e",I_="o",k_="a",R_="n",P_="p",g2="h";class v2{constructor(e,n,r,i,s,o,l,u,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new El(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>f2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>h2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(eh in e){const n=e[eh];n===k_?this.upgradeIfSecondaryHealthy_():n===T_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===I_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xo("t",e),r=xo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:P_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:k_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xo("t",e),r=xo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xo(eh,e);if(x_ in e){const r=e[x_];if(n===g2){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===R_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===p2?this.onConnectionShutdown_(r):n===T_?this.onReset_(r):n===m2?Sf("Server Error: "+r):n===I_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sm!==r&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(c2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(d2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:P_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends yC{static getInstance(){return new Bu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=32,A_=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new pe("")}function ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function Tm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function y2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Sl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _C(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function It(t,e){const n=ee(t),r=ee(e);if(n===null)return e;if(n===r)return It(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _2(t,e){const n=Sl(t,0),r=Sl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Oi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Im(t,e){if(zr(t)!==zr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(zr(t)>zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class w2{constructor(e,n){this.errorPrefix_=n,this.parts_=Sl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ic(this.parts_[r]);wC(this)}}function E2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ic(e),wC(t)}function S2(t){const e=t.parts_.pop();t.byteLength_-=Ic(e),t.parts_.length>0&&(t.byteLength_-=1)}function wC(t){if(t.byteLength_>A_)throw new Error(t.errorPrefix_+"has a key path longer than "+A_+" bytes ("+t.byteLength_+").");if(t.parts_.length>N_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+N_+") or object contains a cycle "+oi(t))}function oi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends yC{static getInstance(){return new km}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=1e3,C2=60*5*1e3,b_=30*1e3,x2=1.3,T2=3e4,I2="server_kill",O_=3;class Hn extends vC{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=Hn.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=To,this.maxReconnectDelay_=C2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");km.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Bu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ge(s)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Tc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,c=l.s;Hn.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rn(e,"w")){const r=Ps(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();At(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||YP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=b_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=qP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ge(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Sf("Unrecognized action received from server: "+Ge(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>T2&&(this.reconnectDelay_=To),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*x2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Hn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},c=function(f){z(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:u,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new v2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{At(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(I2)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&At(f),u())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hf(this.interruptReasons_)&&(this.reconnectDelay_=To,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Em(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=O_&&(this.reconnectDelay_=b_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=O_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+QS.replace(/\./g,"-")]=1,rm()?e["framework.cordova"]=1:lS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bu.getInstance().currentlyOnline();return hf(this.interruptReasons_)&&e}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(bs,e),i=new Z(bs,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class EC extends bc{static get __EMPTY_NODE(){return Ra}static set __EMPTY_NODE(e){Ra=e}compare(e,n){return Oi(e.name,n.name)}isDefinedOn(e){throw Hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Ci,Ra)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,Ra)}toString(){return".key"}}const gs=new EC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??He.RED,this.left=i??kt.EMPTY_NODE,this.right=s??kt.EMPTY_NODE}copy(e,n,r,i,s){return new He(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return kt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class k2{copy(e,n,r,i,s){return this}insert(e,n,r){return new He(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kt{constructor(e,n=kt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new kt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(e){return new kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,He.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pa(this.root_,null,this.comparator_,!0,e)}}kt.EMPTY_NODE=new k2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return Oi(t.name,e.name)}function Rm(t,e){return Oi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;function P2(t){xf=t}const SC=function(t){return typeof t=="number"?"number:"+eC(t):"string:"+t},CC=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else z(t===xf||t.isEmpty(),"priority of unexpected type.");z(t===xf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_;class We{static set __childrenNodeConstructor(e){D_=e}static get __childrenNodeConstructor(){return D_}constructor(e,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new We(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:ee(e)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ee(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||zr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=eC(this.value_):e+=this.value_,this.lazyHash_=JS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===We.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof We.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=We.VALUE_TYPE_ORDER.indexOf(n),s=We.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xC,TC;function N2(t){xC=t}function A2(t){TC=t}class b2 extends bc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Oi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Ci,new We("[PRIORITY-POST]",TC))}makePost(e,n){const r=xC(e);return new Z(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const De=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=Math.log(2);class D2{constructor(e){const n=s=>parseInt(Math.log(s)/O2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $u=function(t,e,n,r){t.sort(e);const i=function(u,c){const h=c-u;let f,p;if(h===0)return null;if(h===1)return f=t[u],p=n?n(f):f,new He(p,f.node,He.BLACK,null,null);{const _=parseInt(h/2,10)+u,C=i(u,_),w=i(_+1,c);return f=t[_],p=n?n(f):f,new He(p,f.node,He.BLACK,C,w)}},s=function(u){let c=null,h=null,f=t.length;const p=function(C,w){const k=f-C,y=f;f-=C;const v=i(k+1,y),E=t[k],O=n?n(E):E;_(new He(O,E.node,w,null,v))},_=function(C){c?(c.left=C,c=C):(h=C,c=C)};for(let C=0;C<u.count;++C){const w=u.nextBitIsOne(),k=Math.pow(2,u.count-(C+1));w?p(k,He.BLACK):(p(k,He.BLACK),p(k,He.RED))}return h},o=new D2(t.length),l=s(o);return new kt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;const Bi={};class $n{static get Default(){return z(Bi&&De,"ChildrenNode.ts has not been loaded"),th=th||new $n({".priority":Bi},{".priority":De}),th}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ps(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kt?n:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Z.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=$u(r,e.getCompare()):l=Bi;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const h=Object.assign({},this.indexes_);return h[u]=l,new $n(h,c)}addToIndexes(e,n){const r=Au(this.indexes_,(i,s)=>{const o=Ps(this.indexSet_,s);if(z(o,"Missing index implementation for "+s),i===Bi)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Z.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&l.push(c),c=u.getNext();return l.push(e),$u(l,o.getCompare())}else return Bi;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new Z(e.name,l))),u.insert(e,e.node)}});return new $n(r,this.indexSet_)}removeFromIndexes(e,n){const r=Au(this.indexes_,i=>{if(i===Bi)return i;{const s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new $n(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io;class K{static get EMPTY_NODE(){return Io||(Io=new K(new kt(Rm),null,$n.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CC(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Io}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Io:n}}getChild(e){const n=ee(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Z(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Io:this.priorityNode_;return new K(i,o,s)}}updateChild(e,n){const r=ee(e);if(r===null)return n;{z(ee(e)!==".priority"||zr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(De,(o,l)=>{n[o]=l.val(e),r++,s&&K.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SC(this.getPriority().val())+":"),this.forEachChild(De,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":JS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Z(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hl?-1:0}withIndex(e){if(e===gs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===gs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(De),i=n.getIterator(De);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===gs?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class L2 extends K{constructor(){super(new kt(Rm),K.EMPTY_NODE,$n.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const Hl=new L2;Object.defineProperties(Z,{MIN:{value:new Z(bs,K.EMPTY_NODE)},MAX:{value:new Z(Ci,Hl)}});EC.__EMPTY_NODE=K.EMPTY_NODE;We.__childrenNodeConstructor=K;P2(Hl);A2(Hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=!0;function Ze(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new We(n,Ze(e))}if(!(t instanceof Array)&&M2){const n=[];let r=!1;if(nt(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=Ze(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Z(o,u)))}}),n.length===0)return K.EMPTY_NODE;const s=$u(n,R2,o=>o.name,Rm);if(r){const o=$u(n,De.getCompare());return new K(s,Ze(e),new $n({".priority":o},{".priority":De}))}else return new K(s,Ze(e),$n.Default)}else{let n=K.EMPTY_NODE;return nt(t,(r,i)=>{if(Rn(t,r)&&r.substring(0,1)!=="."){const s=Ze(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ze(e))}}N2(Ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends bc{constructor(e){super(),this.indexPath_=e,z(!te(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Oi(e.name,n.name):s}makePost(e,n){const r=Ze(e),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,Hl);return new Z(Ci,e)}toString(){return Sl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends bc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Oi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=Ze(e);return new Z(n,r)}toString(){return".value"}}const U2=new j2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){return{type:"value",snapshotNode:t}}function Os(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Cl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function z2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Cl(n,l)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Os(n,r)):o.trackChildChange(xl(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(De,(i,s)=>{n.hasChild(i)||r.trackChildChange(Cl(i,s))}),n.isLeafNode()||n.forEachChild(De,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(xl(i,s,o))}else r.trackChildChange(Os(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.indexedFilter_=new Pm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Tl.getStartPost_(e),this.endPost_=Tl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Z(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);const s=this;return n.forEachChild(De,(o,l)=>{s.matches(new Z(o,l))||(i=i.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Z(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=K.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(p,_)=>f(_,p)}else o=this.index_.getCompare();const l=e;z(l.numChildren()===this.limit_,"");const u=new Z(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(n)){const f=l.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,c,this.reverse_);for(;p!=null&&(p.name===n||l.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const _=p==null?1:o(p,u);if(h&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(xl(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Cl(n,f));const w=l.updateImmediateChild(n,K.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(Os(p.name,p.node)),w.updateImmediateChild(p.name,p.node)):w}}else return r.isEmpty()?e:h&&o(c,u)>=0?(s!=null&&(s.trackChildChange(Cl(c.name,c.node)),s.trackChildChange(Os(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bs}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const e=new Nm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $2(t){return t.loadsAllData()?new Pm(t.getIndex()):t.hasLimit()?new B2(t):new Tl(t)}function L_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===De?n="$priority":t.index_===U2?n="$value":t.index_===gs?n="$key":(z(t.index_ instanceof F2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ge(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ge(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ge(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ge(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function M_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==De&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends vC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vl("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Wu.getListenId_(e,r),l={};this.listens_[o]=l;const u=L_(e._queryParams);this.restRequest_(s+".json",u,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Ps(this.listens_,o)===l){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",i(p,null)}})}unlisten(e,n){const r=Wu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=L_(e._queryParams),r=e._path.toString(),i=new Tc;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Gs(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=yl(l.responseText)}catch{At("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&At("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(){return{value:null,children:new Map}}function kC(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ee(e);t.children.has(r)||t.children.set(r,Vu());const i=t.children.get(r);e=_e(e),kC(i,e,n)}}function Tf(t,e,n){t.value!==null?n(e,t.value):V2(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);Tf(i,s,n)})}function V2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=10*1e3,G2=30*1e3,K2=5*60*1e3;class q2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new H2(e);const r=F_+(G2-F_)*Math.random();Qo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nt(e,(i,s)=>{s>0&&Rn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*K2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function Am(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Om(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=rn.ACK_USER_WRITE,this.source=Am()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new Hu(he(),n,this.revert)}}else return z(ee(this.path)===e,"operationForChild called for unrelated child."),new Hu(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.source=e,this.path=n,this.type=rn.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new Il(this.source,he()):new Il(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=rn.OVERWRITE}operationForChild(e){return te(this.path)?new xi(this.source,he(),this.snap.getImmediateChild(e)):new xi(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=rn.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new xi(this.source,he(),n.value):new Ds(this.source,he(),n)}else return z(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ds(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Q2(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(z2(o.childName,o.snapshotNode))}),ko(t,i,"child_removed",e,r,n),ko(t,i,"child_added",e,r,n),ko(t,i,"child_moved",s,r,n),ko(t,i,"child_changed",e,r,n),ko(t,i,"value",e,r,n),i}function ko(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>J2(t,l,u)),o.forEach(l=>{const u=X2(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(u,t.query_))})})}function X2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function J2(t,e,n){if(e.childName==null||n.childName==null)throw Hs("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){return{eventCache:t,serverCache:e}}function Xo(t,e,n,r){return Oc(new Ti(e,n,r),t.serverCache)}function RC(t,e,n,r){return Oc(t.eventCache,new Ti(e,n,r))}function If(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ii(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh;const Z2=()=>(nh||(nh=new kt(FO)),nh);class ye{static fromObject(e){let n=new ye(null);return nt(e,(r,i)=>{n=n.set(new pe(r),i)}),n}constructor(e,n=Z2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(te(e))return null;{const r=ee(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Oe(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=ee(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ye(null)}}set(e,n){if(te(e))return new ye(n,this.children);{const r=ee(e),s=(this.children.get(r)||new ye(null)).set(_e(e),n),o=this.children.insert(r,s);return new ye(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=ee(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ye(null):new ye(this.value,s)}else return this}}get(e){if(te(e))return this.value;{const n=ee(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(te(e))return n;{const r=ee(e),s=(this.children.get(r)||new ye(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ye(this.value,o)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(te(e))return null;{const s=ee(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Oe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const i=ee(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Oe(n,i),r):new ye(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.writeTree_=e}static empty(){return new an(new ye(null))}}function Jo(t,e,n){if(te(e))return new an(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=It(i,e);return s=s.updateChild(o,n),new an(t.writeTree_.set(i,s))}else{const i=new ye(n),s=t.writeTree_.setTree(e,i);return new an(s)}}}function kf(t,e,n){let r=t;return nt(n,(i,s)=>{r=Jo(r,Oe(e,i),s)}),r}function j_(t,e){if(te(e))return an.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new an(n)}}function Rf(t,e){return Di(t,e)!=null}function Di(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(It(n.path,e)):null}function U_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(De,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function Lr(t,e){if(te(e))return t;{const n=Di(t,e);return n!=null?new an(new ye(n)):new an(t.writeTree_.subtree(e))}}function Pf(t){return t.writeTree_.isEmpty()}function Ls(t,e){return PC(he(),t.writeTree_,e)}function PC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=PC(Oe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t,e){return OC(e,t)}function eD(t,e,n,r,i){z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Jo(t.visibleWrites,e,n)),t.lastWriteId=r}function tD(t,e,n,r){z(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=kf(t.visibleWrites,e,n),t.lastWriteId=r}function nD(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function rD(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&iD(l,r.path)?i=!1:Ht(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return sD(t),!0;if(r.snap)t.visibleWrites=j_(t.visibleWrites,r.path);else{const l=r.children;nt(l,u=>{t.visibleWrites=j_(t.visibleWrites,Oe(r.path,u))})}return!0}else return!1}function iD(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(Oe(t.path,n),e))return!0;return!1}function sD(t){t.visibleWrites=NC(t.allWrites,oD,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function oD(t){return t.visible}function NC(t,e,n){let r=an.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ht(n,o)?(l=It(n,o),r=Jo(r,l,s.snap)):Ht(o,n)&&(l=It(o,n),r=Jo(r,he(),s.snap.getChild(l)));else if(s.children){if(Ht(n,o))l=It(n,o),r=kf(r,l,s.children);else if(Ht(o,n))if(l=It(o,n),te(l))r=kf(r,he(),s.children);else{const u=Ps(s.children,ee(l));if(u){const c=u.getChild(_e(l));r=Jo(r,he(),c)}}}else throw Hs("WriteRecord should have .snap or .children")}}return r}function AC(t,e,n,r,i){if(!r&&!i){const s=Di(t.visibleWrites,e);if(s!=null)return s;{const o=Lr(t.visibleWrites,e);if(Pf(o))return n;if(n==null&&!Rf(o,he()))return null;{const l=n||K.EMPTY_NODE;return Ls(o,l)}}}else{const s=Lr(t.visibleWrites,e);if(!i&&Pf(s))return n;if(!i&&n==null&&!Rf(s,he()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ht(c.path,e)||Ht(e,c.path))},l=NC(t.allWrites,o,e),u=n||K.EMPTY_NODE;return Ls(l,u)}}}function lD(t,e,n){let r=K.EMPTY_NODE;const i=Di(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(De,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Lr(t.visibleWrites,e);return n.forEachChild(De,(o,l)=>{const u=Ls(Lr(s,new pe(o)),l);r=r.updateImmediateChild(o,u)}),U_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Lr(t.visibleWrites,e);return U_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function aD(t,e,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Oe(e,n);if(Rf(t.visibleWrites,s))return null;{const o=Lr(t.visibleWrites,s);return Pf(o)?i.getChild(n):Ls(o,i.getChild(n))}}function uD(t,e,n,r){const i=Oe(e,n),s=Di(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Lr(t.visibleWrites,i);return Ls(o,r.getNode().getImmediateChild(n))}else return null}function cD(t,e){return Di(t.visibleWrites,e)}function dD(t,e,n,r,i,s,o){let l;const u=Lr(t.visibleWrites,e),c=Di(u,he());if(c!=null)l=c;else if(n!=null)l=Ls(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=o.getCompare(),p=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=p.getNext();for(;_&&h.length<i;)f(_,r)!==0&&h.push(_),_=p.getNext();return h}else return[]}function hD(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function Gu(t,e,n,r){return AC(t.writeTree,t.treePath,e,n,r)}function Lm(t,e){return lD(t.writeTree,t.treePath,e)}function z_(t,e,n,r){return aD(t.writeTree,t.treePath,e,n,r)}function Ku(t,e){return cD(t.writeTree,Oe(t.treePath,e))}function fD(t,e,n,r,i,s){return dD(t.writeTree,t.treePath,e,n,r,i,s)}function Mm(t,e,n){return uD(t.writeTree,t.treePath,e,n)}function bC(t,e){return OC(Oe(t.treePath,e),t.writeTree)}function OC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Cl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Os(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xl(r,e.snapshotNode,i.oldSnap));else throw Hs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const DC=new mD;class Fm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ii(this.viewCache_),s=fD(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){return{filter:t}}function vD(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yD(t,e,n,r,i){const s=new pD;let o,l;if(n.type===rn.OVERWRITE){const c=n;c.source.fromUser?o=Nf(t,e,c.path,c.snap,r,i,s):(z(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),o=qu(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===rn.MERGE){const c=n;c.source.fromUser?o=wD(t,e,c.path,c.children,r,i,s):(z(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Af(t,e,c.path,c.children,r,i,l,s))}else if(n.type===rn.ACK_USER_WRITE){const c=n;c.revert?o=CD(t,e,c.path,r,i,s):o=ED(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===rn.LISTEN_COMPLETE)o=SD(t,e,n.path,r,s);else throw Hs("Unknown operation type: "+n.type);const u=s.getChanges();return _D(e,o,u),{viewCache:o,changes:u}}function _D(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=If(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(IC(If(e)))}}function LC(t,e,n,r,i,s){const o=e.eventCache;if(Ku(r,n)!=null)return e;{let l,u;if(te(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ii(e),h=c instanceof K?c:K.EMPTY_NODE,f=Lm(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Gu(r,Ii(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ee(n);if(c===".priority"){z(zr(n)===1,"Can't have a priority with additional path components");const h=o.getNode();u=e.serverCache.getNode();const f=z_(r,n,h,u);f!=null?l=t.filter.updatePriority(h,f):l=o.getNode()}else{const h=_e(n);let f;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const p=z_(r,n,o.getNode(),u);p!=null?f=o.getNode().getImmediateChild(c).updateChild(h,p):f=o.getNode().getImmediateChild(c)}else f=Mm(r,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,h,i,s):l=o.getNode()}}return Xo(e,l,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function qu(t,e,n,r,i,s,o,l){const u=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(te(n))c=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const _=u.getNode().updateChild(n,r);c=h.updateFullNode(u.getNode(),_,null)}else{const _=ee(n);if(!u.isCompleteForPath(n)&&zr(n)>1)return e;const C=_e(n),k=u.getNode().getImmediateChild(_).updateChild(C,r);_===".priority"?c=h.updatePriority(u.getNode(),k):c=h.updateChild(u.getNode(),_,k,C,DC,null)}const f=RC(e,c,u.isFullyInitialized()||te(n),h.filtersNodes()),p=new Fm(i,f,s);return LC(t,f,n,i,p,l)}function Nf(t,e,n,r,i,s,o){const l=e.eventCache;let u,c;const h=new Fm(i,e,s);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Xo(e,c,!0,t.filter.filtersNodes());else{const f=ee(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Xo(e,c,l.isFullyInitialized(),l.isFiltered());else{const p=_e(n),_=l.getNode().getImmediateChild(f);let C;if(te(p))C=r;else{const w=h.getCompleteChild(f);w!=null?Tm(p)===".priority"&&w.getChild(_C(p)).isEmpty()?C=w:C=w.updateChild(p,r):C=K.EMPTY_NODE}if(_.equals(C))u=e;else{const w=t.filter.updateChild(l.getNode(),f,C,p,h,o);u=Xo(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function B_(t,e){return t.eventCache.isCompleteForChild(e)}function wD(t,e,n,r,i,s,o){let l=e;return r.foreach((u,c)=>{const h=Oe(n,u);B_(e,ee(h))&&(l=Nf(t,l,h,c,i,s,o))}),r.foreach((u,c)=>{const h=Oe(n,u);B_(e,ee(h))||(l=Nf(t,l,h,c,i,s,o))}),l}function $_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Af(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;te(n)?c=r:c=new ye(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,p)=>{if(h.hasChild(f)){const _=e.serverCache.getNode().getImmediateChild(f),C=$_(t,_,p);u=qu(t,u,new pe(f),C,i,s,o,l)}}),c.children.inorderTraversal((f,p)=>{const _=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!h.hasChild(f)&&!_){const C=e.serverCache.getNode().getImmediateChild(f),w=$_(t,C,p);u=qu(t,u,new pe(f),w,i,s,o,l)}}),u}function ED(t,e,n,r,i,s,o){if(Ku(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(te(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return qu(t,e,n,u.getNode().getChild(n),i,s,l,o);if(te(n)){let c=new ye(null);return u.getNode().forEachChild(gs,(h,f)=>{c=c.set(new pe(h),f)}),Af(t,e,n,c,i,s,l,o)}else return e}else{let c=new ye(null);return r.foreach((h,f)=>{const p=Oe(n,h);u.isCompleteForPath(p)&&(c=c.set(h,u.getNode().getChild(p)))}),Af(t,e,n,c,i,s,l,o)}}function SD(t,e,n,r,i){const s=e.serverCache,o=RC(e,s.getNode(),s.isFullyInitialized()||te(n),s.isFiltered());return LC(t,o,n,r,DC,i)}function CD(t,e,n,r,i,s){let o;if(Ku(r,n)!=null)return e;{const l=new Fm(r,e,i),u=e.eventCache.getNode();let c;if(te(n)||ee(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Gu(r,Ii(e));else{const f=e.serverCache.getNode();z(f instanceof K,"serverChildren would be complete if leaf node"),h=Lm(r,f)}h=h,c=t.filter.updateFullNode(u,h,s)}else{const h=ee(n);let f=Mm(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=u.getImmediateChild(h)),f!=null?c=t.filter.updateChild(u,h,f,_e(n),l,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(u,h,K.EMPTY_NODE,_e(n),l,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Gu(r,Ii(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Ku(r,he())!=null,Xo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Pm(r.getIndex()),s=$2(r);this.processor_=gD(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(K.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(K.EMPTY_NODE,l.getNode(),null),h=new Ti(u,o.isFullyInitialized(),i.filtersNodes()),f=new Ti(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Oc(f,h),this.eventGenerator_=new Y2(this.query_)}get query(){return this.query_}}function TD(t){return t.viewCache_.serverCache.getNode()}function ID(t,e){const n=Ii(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(ee(e)).isEmpty())?n.getChild(e):null}function W_(t){return t.eventRegistrations_.length===0}function kD(t,e){t.eventRegistrations_.push(e)}function V_(t,e,n){const r=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function H_(t,e,n,r){e.type===rn.MERGE&&e.source.queryId!==null&&(z(Ii(t.viewCache_),"We should always have a full cache before handling merges"),z(If(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=yD(t.processor_,i,e,n,r);return vD(t.processor_,s.viewCache),z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,MC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function RD(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(De,(s,o)=>{r.push(Os(s,o))}),n.isFullyInitialized()&&r.push(IC(n.getNode())),MC(t,r,n.getNode(),e)}function MC(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Q2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;class PD{constructor(){this.views=new Map}}function ND(t){z(!Yu,"__referenceConstructor has already been defined"),Yu=t}function AD(){return z(Yu,"Reference.ts has not been loaded"),Yu}function bD(t){return t.views.size===0}function jm(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return z(s!=null,"SyncTree gave us an op for an invalid query."),H_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(H_(o,e,n,r));return s}}function OD(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Gu(n,i?r:null),u=!1;l?u=!0:r instanceof K?(l=Lm(n,r),u=!1):(l=K.EMPTY_NODE,u=!1);const c=Oc(new Ti(l,u,!1),new Ti(r,i,!1));return new xD(e,c)}return o}function DD(t,e,n,r,i,s){const o=OD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),kD(o,n),RD(o,n)}function LD(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Br(t);if(i==="default")for(const[u,c]of t.views.entries())o=o.concat(V_(c,n,r)),W_(c)&&(t.views.delete(u),c.query._queryParams.loadsAllData()||s.push(c.query));else{const u=t.views.get(i);u&&(o=o.concat(V_(u,n,r)),W_(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!Br(t)&&s.push(new(AD())(e._repo,e._path)),{removed:s,events:o}}function FC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vs(t,e){let n=null;for(const r of t.views.values())n=n||ID(r,e);return n}function jC(t,e){if(e._queryParams.loadsAllData())return Dc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function UC(t,e){return jC(t,e)!=null}function Br(t){return Dc(t)!=null}function Dc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;function MD(t){z(!Qu,"__referenceConstructor has already been defined"),Qu=t}function FD(){return z(Qu,"Reference.ts has not been loaded"),Qu}let jD=1;class G_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=hD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UD(t,e,n,r,i){return eD(t.pendingWriteTree_,e,n,r,i),i?Ys(t,new xi(Am(),e,n)):[]}function zD(t,e,n,r){tD(t.pendingWriteTree_,e,n,r);const i=ye.fromObject(n);return Ys(t,new Ds(Am(),e,i))}function hi(t,e,n=!1){const r=nD(t.pendingWriteTree_,e);if(rD(t.pendingWriteTree_,e)){let s=new ye(null);return r.snap!=null?s=s.set(he(),!0):nt(r.children,o=>{s=s.set(new pe(o),!0)}),Ys(t,new Hu(r.path,s,n))}else return[]}function Lc(t,e,n){return Ys(t,new xi(bm(),e,n))}function BD(t,e,n){const r=ye.fromObject(n);return Ys(t,new Ds(bm(),e,r))}function $D(t,e){return Ys(t,new Il(bm(),e))}function WD(t,e,n){const r=Um(t,n);if(r){const i=zm(r),s=i.path,o=i.queryId,l=It(s,e),u=new Il(Om(o),l);return Bm(t,s,u)}else return[]}function bf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||UC(o,e))){const u=LD(o,e,n,r);bD(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=u.removed;if(l=u.events,!i){const h=c.findIndex(p=>p._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(p,_)=>Br(_));if(h&&!f){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const _=GD(p);for(let C=0;C<_.length;++C){const w=_[C],k=w.query,y=WC(t,w);t.listenProvider_.startListening(Zo(k),Xu(t,k),y.hashFn,y.onComplete)}}}!f&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(Zo(e),null):c.forEach(p=>{const _=t.queryToTagMap.get(Mc(p));t.listenProvider_.stopListening(Zo(p),_)}))}KD(t,c)}return l}function VD(t,e,n,r){const i=Um(t,r);if(i!=null){const s=zm(i),o=s.path,l=s.queryId,u=It(o,e),c=new xi(Om(l),u,n);return Bm(t,o,c)}else return[]}function HD(t,e,n,r){const i=Um(t,r);if(i){const s=zm(i),o=s.path,l=s.queryId,u=It(o,e),c=ye.fromObject(n),h=new Ds(Om(l),u,c);return Bm(t,o,h)}else return[]}function K_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(p,_)=>{const C=It(p,i);s=s||vs(_,C),o=o||Br(_)});let l=t.syncPointTree_.get(i);l?(o=o||Br(l),s=s||vs(l,he())):(l=new PD,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=K.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,C)=>{const w=vs(C,he());w&&(s=s.updateImmediateChild(_,w))}));const c=UC(l,e);if(!c&&!e._queryParams.loadsAllData()){const p=Mc(e);z(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const _=qD();t.queryToTagMap.set(p,_),t.tagToQueryMap.set(_,p)}const h=Dm(t.pendingWriteTree_,i);let f=DD(l,e,n,h,s,u);if(!c&&!o&&!r){const p=jC(l,e);f=f.concat(YD(t,e,p))}return f}function zC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=It(o,e),c=vs(l,u);if(c)return c});return AC(i,e,s,n,!0)}function Ys(t,e){return BC(e,t.syncPointTree_,null,Dm(t.pendingWriteTree_,he()))}function BC(t,e,n,r){if(te(t.path))return $C(t,e,n,r);{const i=e.get(he());n==null&&i!=null&&(n=vs(i,he()));let s=[];const o=ee(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const c=n?n.getImmediateChild(o):null,h=bC(r,o);s=s.concat(BC(l,u,c,h))}return i&&(s=s.concat(jm(i,t,r,n))),s}}function $C(t,e,n,r){const i=e.get(he());n==null&&i!=null&&(n=vs(i,he()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,c=bC(r,o),h=t.operationForChild(o);h&&(s=s.concat($C(h,l,u,c)))}),i&&(s=s.concat(jm(i,t,r,n))),s}function WC(t,e){const n=e.query,r=Xu(t,n);return{hashFn:()=>(TD(e)||K.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?WD(t,n._path,r):$D(t,n._path);{const s=zO(i,n);return bf(t,n,null,s)}}}}function Xu(t,e){const n=Mc(e);return t.queryToTagMap.get(n)}function Mc(t){return t._path.toString()+"$"+t._queryIdentifier}function Um(t,e){return t.tagToQueryMap.get(e)}function zm(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function Bm(t,e,n){const r=t.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");const i=Dm(t.pendingWriteTree_,e);return jm(r,n,i,null)}function GD(t){return t.fold((e,n,r)=>{if(n&&Br(n))return[Dc(n)];{let i=[];return n&&(i=FC(n)),nt(r,(s,o)=>{i=i.concat(o)}),i}})}function Zo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(FD())(t._repo,t._path):t}function KD(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Mc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function qD(){return jD++}function YD(t,e,n){const r=e._path,i=Xu(t,e),s=WC(t,n),o=t.listenProvider_.startListening(Zo(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)z(!Br(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((c,h,f)=>{if(!te(c)&&h&&Br(h))return[Dc(h).query];{let p=[];return h&&(p=p.concat(FC(h).map(_=>_.query))),nt(f,(_,C)=>{p=p.concat(C)}),p}});for(let c=0;c<u.length;++c){const h=u[c];t.listenProvider_.stopListening(Zo(h),Xu(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $m(n)}node(){return this.node_}}class Wm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new Wm(this.syncTree_,n)}node(){return zC(this.syncTree_,this.path_)}}const QD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},q_=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return XD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return JD(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},XD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},JD=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const i=e.node();if(z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},VC=function(t,e,n,r){return Vm(e,new Wm(n,t),r)},ZD=function(t,e,n){return Vm(t,new $m(e),n)};function Vm(t,e,n){const r=t.getPriority().val(),i=q_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=q_(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new We(l,Ze(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new We(i))),o.forEachChild(De,(l,u)=>{const c=Vm(u,e.getImmediateChild(l),n);c!==u&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Gm(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=ee(n);for(;i!==null;){const s=Ps(r.node.children,i)||{children:{},childCount:0};r=new Hm(i,r,s),n=_e(n),i=ee(n)}return r}function Qs(t){return t.node.value}function HC(t,e){t.node.value=e,Of(t)}function GC(t){return t.node.childCount>0}function eL(t){return Qs(t)===void 0&&!GC(t)}function Fc(t,e){nt(t.node.children,(n,r)=>{e(new Hm(n,t,r))})}function KC(t,e,n,r){n&&e(t),Fc(t,i=>{KC(i,e,!0)})}function tL(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gl(t){return new pe(t.parent===null?t.name:Gl(t.parent)+"/"+t.name)}function Of(t){t.parent!==null&&nL(t.parent,t.name,t)}function nL(t,e,n){const r=eL(n),i=Rn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Of(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Of(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/[\[\].#$\/\u0000-\u001F\u007F]/,iL=/[\[\].#$\u0000-\u001F\u007F]/,rh=10*1024*1024,Km=function(t){return typeof t=="string"&&t.length!==0&&!rL.test(t)},qC=function(t){return typeof t=="string"&&t.length!==0&&!iL.test(t)},sL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qC(t)},oL=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!wm(t)||t&&typeof t=="object"&&Rn(t,".sv")},qm=function(t,e,n){const r=n instanceof pe?new w2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oi(r));if(typeof e=="function")throw new Error(t+"contains a function "+oi(r)+" with contents = "+e.toString());if(wm(e))throw new Error(t+"contains "+e.toString()+" "+oi(r));if(typeof e=="string"&&e.length>rh/3&&Ic(e)>rh)throw new Error(t+"contains a string greater than "+rh+" utf8 bytes "+oi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(nt(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Km(o)))throw new Error(t+" contains an invalid key ("+o+") "+oi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);E2(r,o),qm(t,l,r),S2(r)}),i&&s)throw new Error(t+' contains ".value" child '+oi(r)+" in addition to actual children.")}},lL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Sl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Km(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ht(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},aL=function(t,e,n,r){const i=im(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];nt(e,(o,l)=>{const u=new pe(o);if(qm(i,l,Oe(n,u)),Tm(u)===".priority"&&!oL(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),lL(i,s)},YC=function(t,e,n,r){if(!qC(n))throw new Error(im(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YC(t,e,n)},cL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Km(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sL(n))throw new Error(im(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ym(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Im(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function QC(t,e,n){Ym(t,n),XC(t,r=>Im(r,e))}function Zn(t,e,n){Ym(t,n),XC(t,r=>Ht(r,e)||Ht(e,r))}function XC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(hL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yo&&Je("event: "+n.toString()),qs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="repo_interrupt",pL=25;class mL{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vu(),this.transactionQueueTree_=new Hm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gL(t,e,n){if(t.stats_=Cm(t.repoInfo_),t.forceRestClient_||VO())t.server_=new Wu(t.repoInfo_,(r,i,s,o)=>{Y_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Q_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Hn(t.repoInfo_,e,(r,i,s,o)=>{Y_(t,r,i,s,o)},r=>{Q_(t,r)},r=>{yL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=YO(t.repoInfo_,()=>new q2(t.stats_,t.server_)),t.infoData_=new W2,t.infoSyncTree_=new G_({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Lc(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Xm(t,"connected",!1),t.serverSyncTree_=new G_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const c=o(l,u);Zn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function vL(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qm(t){return QD({timestamp:vL(t)})}function Y_(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Au(n,c=>Ze(c));o=HD(t.serverSyncTree_,s,u,i)}else{const u=Ze(n);o=VD(t.serverSyncTree_,s,u,i)}else if(r){const u=Au(n,c=>Ze(c));o=BD(t.serverSyncTree_,s,u)}else{const u=Ze(n);o=Lc(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=kl(t,s)),Zn(t.eventQueue_,l,o)}function Q_(t,e){Xm(t,"connected",e),e===!1&&wL(t)}function yL(t,e){nt(e,(n,r)=>{Xm(t,n,r)})}function Xm(t,e,n){const r=new pe("/.info/"+e),i=Ze(n);t.infoData_.updateSnapshot(r,i);const s=Lc(t.infoSyncTree_,r,i);Zn(t.eventQueue_,r,s)}function JC(t){return t.nextWriteId_++}function _L(t,e,n,r){Jm(t,"update",{path:e.toString(),value:n});let i=!0;const s=Qm(t),o={};if(nt(n,(l,u)=>{i=!1,o[l]=VC(Oe(e,l),Ze(u),t.serverSyncTree_,s)}),i)Je("update() called with empty data.  Don't do anything."),X_(t,r,"ok",void 0);else{const l=JC(t),u=zD(t.serverSyncTree_,e,o,l);Ym(t.eventQueue_,u),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||At("update at "+e+" failed: "+c);const p=hi(t.serverSyncTree_,l,!f),_=p.length>0?kl(t,e):e;Zn(t.eventQueue_,_,p),X_(t,r,c,h)}),nt(n,c=>{const h=rx(t,Oe(e,c));kl(t,h)}),Zn(t.eventQueue_,e,[])}}function wL(t){Jm(t,"onDisconnectEvents");const e=Qm(t),n=Vu();Tf(t.onDisconnect_,he(),(i,s)=>{const o=VC(i,s,t.serverSyncTree_,e);kC(n,i,o)});let r=[];Tf(n,he(),(i,s)=>{r=r.concat(Lc(t.serverSyncTree_,i,s));const o=rx(t,i);kl(t,o)}),t.onDisconnect_=Vu(),Zn(t.eventQueue_,he(),r)}function EL(t,e,n){let r;ee(e._path)===".info"?r=K_(t.infoSyncTree_,e,n):r=K_(t.serverSyncTree_,e,n),QC(t.eventQueue_,e._path,r)}function SL(t,e,n){let r;ee(e._path)===".info"?r=bf(t.infoSyncTree_,e,n):r=bf(t.serverSyncTree_,e,n),QC(t.eventQueue_,e._path,r)}function CL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fL)}function Jm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function X_(t,e,n,r){e&&qs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ZC(t,e,n){return zC(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Zm(t,e=t.transactionQueueTree_){if(e||jc(t,e),Qs(e)){const n=tx(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xL(t,Gl(e),n)}else GC(e)&&Fc(e,n=>{Zm(t,n)})}function xL(t,e,n){const r=n.map(c=>c.currentWriteId),i=ZC(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const h=n[c];z(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=It(e,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,c=>{Jm(t,"transaction put response",{path:u.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let p=0;p<n.length;p++)n[p].status=2,h=h.concat(hi(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&f.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();jc(t,Gm(t.transactionQueueTree_,e)),Zm(t,t.transactionQueueTree_),Zn(t.eventQueue_,e,h);for(let p=0;p<f.length;p++)qs(f[p])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{At("transaction at "+u.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}kl(t,e)}},o)}function kl(t,e){const n=ex(t,e),r=Gl(n),i=tx(t,n);return TL(t,i,r),r}function TL(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],c=It(n,u.path);let h=!1,f;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,f=u.abortReason,i=i.concat(hi(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=pL)h=!0,f="maxretry",i=i.concat(hi(t.serverSyncTree_,u.currentWriteId,!0));else{const p=ZC(t,u.path,o);u.currentInputSnapshot=p;const _=e[l].update(p.val());if(_!==void 0){qm("transaction failed: Data returned ",_,u.path);let C=Ze(_);typeof _=="object"&&_!=null&&Rn(_,".priority")||(C=C.updatePriority(p.getPriority()));const k=u.currentWriteId,y=Qm(t),v=ZD(C,p,y);u.currentOutputSnapshotRaw=C,u.currentOutputSnapshotResolved=v,u.currentWriteId=JC(t),o.splice(o.indexOf(k),1),i=i.concat(UD(t.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally)),i=i.concat(hi(t.serverSyncTree_,k,!0))}else h=!0,f="nodata",i=i.concat(hi(t.serverSyncTree_,u.currentWriteId,!0))}Zn(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}jc(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)qs(r[l]);Zm(t,t.transactionQueueTree_)}function ex(t,e){let n,r=t.transactionQueueTree_;for(n=ee(e);n!==null&&Qs(r)===void 0;)r=Gm(r,n),e=_e(e),n=ee(e);return r}function tx(t,e){const n=[];return nx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nx(t,e,n){const r=Qs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Fc(e,i=>{nx(t,i,n)})}function jc(t,e){const n=Qs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HC(e,n.length>0?n:void 0)}Fc(e,r=>{jc(t,r)})}function rx(t,e){const n=Gl(ex(t,e)),r=Gm(t.transactionQueueTree_,e);return tL(r,i=>{ih(t,i)}),ih(t,r),KC(r,i=>{ih(t,i)}),n}function ih(t,e){const n=Qs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(z(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?HC(e,void 0):n.length=s+1,Zn(t.eventQueue_,Gl(e),i);for(let o=0;o<r.length;o++)qs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function kL(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):At(`Invalid query segment '${n}' in query '${t}'`)}return e}const J_=function(t,e){const n=RL(t),r=n.namespace;n.domain==="firebase.com"&&Jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||LO();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},RL=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=IL(t.substring(h,f)));const p=kL(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ge(this.snapshot.exportVal())}}class NL{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return te(this._path)?null:Tm(this._path)}get ref(){return new qr(this._repo,this._path)}get _queryIdentifier(){const e=M_(this._queryParams),n=Em(e);return n==="{}"?"default":n}get _queryObject(){return M_(this._queryParams)}isEqual(e){if(e=pn(e),!(e instanceof eg))return!1;const n=this._repo===e._repo,r=Im(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+y2(this._path)}}class qr extends eg{constructor(e,n){super(e,n,new Nm,!1)}get parent(){const e=_C(this._path);return e===null?null:new qr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ju{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=Df(this.ref,e);return new Ju(this._node.getChild(n),r,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ju(i,Df(this.ref,r),De)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ix(t,e){return t=pn(t),t._checkNotDeleted("ref"),e!==void 0?Df(t._root,e):t._root}function Df(t,e){return t=pn(t),ee(t._path)===null?uL("child","path",e):YC("child","path",e),new qr(t._repo,Oe(t._path,e))}function bL(t,e){aL("update",e,t._path);const n=new Tc;return _L(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class tg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new PL("value",this,new Ju(e.snapshotNode,new qr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NL(this,e,n):null}matches(e){return e instanceof tg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OL(t,e,n,r,i){const s=new AL(n,void 0),o=new tg(s);return EL(t._repo,t,o),()=>SL(t._repo,t,o)}function DL(t,e,n,r){return OL(t,"value",e)}ND(qr);MD(qr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="FIREBASE_DATABASE_EMULATOR_HOST",Lf={};let ML=!1;function FL(t,e,n,r){t.repoInfo_=new cC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function jL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=J_(s,i),l=o.repoInfo,u;typeof process<"u"&&y_&&(u=y_[LL]),u?(s=`http://${u}?ns=${l.namespace}`,o=J_(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new GO(t.name,t.options,e);cL("Invalid Firebase Database URL",o),te(o.path)||Jn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=zL(l,t,c,new HO(t,n));return new BL(h,t)}function UL(t,e){const n=Lf[e];(!n||n[t.key]!==t)&&Jn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CL(t),delete n[t.key]}function zL(t,e,n,r){let i=Lf[e.name];i||(i={},Lf[e.name]=i);let s=i[t.toURLString()];return s&&Jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mL(t,ML,n,r),i[t.toURLString()]=s,s}class BL{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qr(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jn("Cannot call "+e+" on a deleted database.")}}function $L(t=om(),e){const n=Rc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=rS("database");r&&WL(n,...r)}return n}function WL(t,e,n,r={}){t=pn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Jn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new eu(eu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:oS(r.mockUserToken,t.app.options.projectId);s=new eu(o)}FL(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){PO(bi),Ei(new Ur("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return jL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Sn(__,w_,t),Sn(__,w_,"esm2017")}Hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VL();const HL={apiKey:"AIzaSyAw6EzMbqOzPGhx49ySETcfWOy29u-k6q8",authDomain:"sjmc-maintenance-system.firebaseapp.com",projectId:"sjmc-maintenance-system",storageBucket:"sjmc-maintenance-system.firebasestorage.app",messagingSenderId:"329890240876",appId:"1:329890240876:web:0530e95d37ebc3f8c7fb49",databaseURL:"https://sjmc-maintenance-system-default-rtdb.firebaseio.com/"},ng=dS(HL),sh=uO(ng);RO(ng);const sx=$L(ng),ox=g.createContext({});function GL({children:t}){const[e,n]=g.useState(null),[r,i]=g.useState(!0),[s,o]=g.useState(null);g.useEffect(()=>sh.onAuthStateChanged(f=>{n(f),i(!1)}),[]);const c={user:e,loading:r,signIn:async()=>{const h=new Mn;try{return(await yb(sh,h)).user}catch(f){throw console.error("Auth Error:",f),f}},signOut:()=>JA(sh),userRole:s};return N.jsx(ox.Provider,{value:c,children:!r&&t})}const lx=()=>g.useContext(ox);function ax(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ax(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KL(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ax(t))&&(r&&(r+=" "),r+=e);return r}const rg="-",qL=t=>{const e=QL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(rg);return l[0]===""&&l.length!==1&&l.shift(),ux(l,e)||YL(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},ux=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ux(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(rg);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Z_=/^\[(.+)\]$/,YL=t=>{if(Z_.test(t)){const e=Z_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},QL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return JL(Object.entries(t.classGroups),n).forEach(([s,o])=>{Mf(o,r,s,e)}),r},Mf=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ew(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(XL(i)){Mf(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Mf(o,ew(e,s),n,r)})})},ew=(t,e)=>{let n=t;return e.split(rg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XL=t=>t.isThemeGetter,JL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,ZL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},cx="!",eM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let c=0,h=0,f;for(let k=0;k<l.length;k++){let y=l[k];if(c===0){if(y===i&&(r||l.slice(k,k+s)===e)){u.push(l.slice(h,k)),h=k+s;continue}if(y==="/"){f=k;continue}}y==="["?c++:y==="]"&&c--}const p=u.length===0?l:l.substring(h),_=p.startsWith(cx),C=_?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},tM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nM=t=>({cache:ZL(t.cacheSize),parseClassName:eM(t),...qL(t)}),rM=/\s+/,iM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(rM);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:_}=n(c);let C=!!_,w=r(C?p.substring(0,_):p);if(!w){if(!C){l=c+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=c+(l.length>0?" "+l:l);continue}C=!1}const k=tM(h).join(":"),y=f?k+cx:k,v=y+w;if(s.includes(v))continue;s.push(v);const E=i(w,C);for(let O=0;O<E.length;++O){const L=E[O];s.push(y+L)}l=c+(l.length>0?" "+l:l)}return l};function sM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dx(e))&&(r&&(r+=" "),r+=n);return r}const dx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dx(t[r]))&&(n&&(n+=" "),n+=e);return n};function oM(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=nM(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const c=r(u);if(c)return c;const h=iM(u,n);return i(u,h),h}return function(){return s(sM.apply(null,arguments))}}const Se=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hx=/^\[(?:([a-z-]+):)?(.+)\]$/i,lM=/^\d+\/\d+$/,aM=new Set(["px","full","screen"]),uM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,On=t=>ys(t)||aM.has(t)||lM.test(t),hr=t=>Xs(t,"length",EM),ys=t=>!!t&&!Number.isNaN(Number(t)),oh=t=>Xs(t,"number",ys),Ro=t=>!!t&&Number.isInteger(Number(t)),pM=t=>t.endsWith("%")&&ys(t.slice(0,-1)),J=t=>hx.test(t),fr=t=>uM.test(t),mM=new Set(["length","size","percentage"]),gM=t=>Xs(t,mM,fx),vM=t=>Xs(t,"position",fx),yM=new Set(["image","url"]),_M=t=>Xs(t,yM,CM),wM=t=>Xs(t,"",SM),Po=()=>!0,Xs=(t,e,n)=>{const r=hx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},EM=t=>cM.test(t)&&!dM.test(t),fx=()=>!1,SM=t=>hM.test(t),CM=t=>fM.test(t),xM=()=>{const t=Se("colors"),e=Se("spacing"),n=Se("blur"),r=Se("brightness"),i=Se("borderColor"),s=Se("borderRadius"),o=Se("borderSpacing"),l=Se("borderWidth"),u=Se("contrast"),c=Se("grayscale"),h=Se("hueRotate"),f=Se("invert"),p=Se("gap"),_=Se("gradientColorStops"),C=Se("gradientColorStopPositions"),w=Se("inset"),k=Se("margin"),y=Se("opacity"),v=Se("padding"),E=Se("saturate"),O=Se("scale"),L=Se("sepia"),F=Se("skew"),T=Se("space"),S=Se("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",J,e],b=()=>[J,e],P=()=>["",On,hr],G=()=>["auto",ys,J],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",J],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[ys,J];return{cacheSize:500,separator:":",theme:{colors:[Po],spacing:[On,hr],blur:["none","",fr,J],brightness:Q(),borderColor:[t],borderRadius:["none","","full",fr,J],borderSpacing:b(),borderWidth:P(),contrast:Q(),grayscale:$(),hueRotate:Q(),invert:$(),gap:b(),gradientColorStops:[t],gradientColorStopPositions:[pM,hr],inset:A(),margin:A(),opacity:Q(),padding:b(),saturate:Q(),scale:Q(),sepia:$(),skew:Q(),space:b(),translate:b()},classGroups:{aspect:[{aspect:["auto","square","video",J]}],container:["container"],columns:[{columns:[fr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),J]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ro,J]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",J]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ro,J]}],"grid-cols":[{"grid-cols":[Po]}],"col-start-end":[{col:["auto",{span:["full",Ro,J]},J]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Po]}],"row-start-end":[{row:["auto",{span:[Ro,J]},J]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",J]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",J]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",J,e]}],"min-w":[{"min-w":[J,e,"min","max","fit"]}],"max-w":[{"max-w":[J,e,"none","full","min","max","fit","prose",{screen:[fr]},fr]}],h:[{h:[J,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[J,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[J,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oh]}],"font-family":[{font:[Po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",J]}],"line-clamp":[{"line-clamp":["none",ys,oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",On,J]}],"list-image":[{"list-image":["none",J]}],"list-style-type":[{list:["none","disc","decimal",J]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",On,hr]}],"underline-offset":[{"underline-offset":["auto",On,J]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),vM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_M]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[On,J]}],"outline-w":[{outline:[On,hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[On,hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fr,wM]}],"shadow-color":[{shadow:[Po]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",fr,J]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",J]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",J]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",J]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Ro,J]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[On,hr,oh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TM=oM(xM);function dt(...t){return TM(KL(t))}const Hi=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Hi.displayName="Card";const Do=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));Do.displayName="CardHeader";const Lo=g.forwardRef(({className:t,...e},n)=>N.jsx("h3",{ref:n,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lo.displayName="CardTitle";const Gi=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:dt("p-6 pt-0",t),...e}));Gi.displayName="CardContent";const Zu=g.forwardRef(({className:t,variant:e="default",size:n="default",...r},i)=>{const s={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},o={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return N.jsx("button",{className:dt("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",s[e],o[n],t),ref:i,...r})});Zu.displayName="Button";function tw(t,[e,n]){return Math.min(n,Math.max(e,t))}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IM(t,e){const n=g.createContext(e),r=s=>{const{children:o,...l}=s,u=g.useMemo(()=>l,Object.values(l));return N.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Uc(t,e=[]){let n=[];function r(s,o){const l=g.createContext(o),u=n.length;n=[...n,o];const c=f=>{var y;const{scope:p,children:_,...C}=f,w=((y=p==null?void 0:p[t])==null?void 0:y[u])||l,k=g.useMemo(()=>C,Object.values(C));return N.jsx(w.Provider,{value:k,children:_})};c.displayName=s+"Provider";function h(f,p){var w;const _=((w=p==null?void 0:p[t])==null?void 0:w[u])||l,C=g.useContext(_);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,kM(i,...e)]}function kM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(s)[`__scope${c}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function px(...t){return e=>{let n=!1;const r=t.map(i=>{const s=nw(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():nw(t[i],null)}}}}function Fe(...t){return g.useCallback(px(...t),t)}var Ms=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(PM);if(s){const o=s.props.children,l=i.map(u=>u===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:u);return N.jsx(Ff,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return N.jsx(Ff,{...r,ref:e,children:n})});Ms.displayName="Slot";var Ff=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const i=AM(n),s=NM(r,n.props);return n.type!==g.Fragment&&(s.ref=e?px(e,i):i),g.cloneElement(n,s)}return g.Children.count(n)>1?g.Children.only(null):null});Ff.displayName="SlotClone";var RM=({children:t})=>N.jsx(N.Fragment,{children:t});function PM(t){return g.isValidElement(t)&&t.type===RM}function NM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function AM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bM(t){const e=t+"CollectionProvider",[n,r]=Uc(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:C,children:w}=_,k=pr.useRef(null),y=pr.useRef(new Map).current;return N.jsx(i,{scope:C,itemMap:y,collectionRef:k,children:w})};o.displayName=e;const l=t+"CollectionSlot",u=pr.forwardRef((_,C)=>{const{scope:w,children:k}=_,y=s(l,w),v=Fe(C,y.collectionRef);return N.jsx(Ms,{ref:v,children:k})});u.displayName=l;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=pr.forwardRef((_,C)=>{const{scope:w,children:k,...y}=_,v=pr.useRef(null),E=Fe(C,v),O=s(c,w);return pr.useEffect(()=>(O.itemMap.set(v,{ref:v,...y}),()=>void O.itemMap.delete(v))),N.jsx(Ms,{[h]:"",ref:E,children:k})});f.displayName=c;function p(_){const C=s(t+"CollectionConsumer",_);return pr.useCallback(()=>{const k=C.collectionRef.current;if(!k)return[];const y=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(C.itemMap.values()).sort((O,L)=>y.indexOf(O.ref.current)-y.indexOf(L.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},p,r]}var OM=g.createContext(void 0);function DM(t){const e=g.useContext(OM);return t||e||"ltr"}var LM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=LM.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?Ms:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),N.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function MM(t,e){t&&Bs.flushSync(()=>t.dispatchEvent(e))}function er(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function FM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var jM="DismissableLayer",jf="dismissableLayer.update",UM="dismissableLayer.pointerDownOutside",zM="dismissableLayer.focusOutside",rw,mx=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ig=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,c=g.useContext(mx),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=g.useState({}),C=Fe(e,T=>f(T)),w=Array.from(c.layers),[k]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(k),v=h?w.indexOf(h):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,O=v>=y,L=WM(T=>{const S=T.target,I=[...c.branches].some(R=>R.contains(S));!O||I||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},p),F=VM(T=>{const S=T.target;[...c.branches].some(R=>R.contains(S))||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},p);return FM(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},p),g.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(rw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),iw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=rw)}},[h,p,n,c]),g.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),iw())},[h,c]),g.useEffect(()=>{const T=()=>_({});return document.addEventListener(jf,T),()=>document.removeEventListener(jf,T)},[]),N.jsx(Ie.div,{...u,ref:C,style:{pointerEvents:E?O?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,F.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,L.onPointerDownCapture)})});ig.displayName=jM;var BM="DismissableLayerBranch",$M=g.forwardRef((t,e)=>{const n=g.useContext(mx),r=g.useRef(null),i=Fe(e,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),N.jsx(Ie.div,{...t,ref:i})});$M.displayName=BM;function WM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){gx(UM,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VM(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&gx(zM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iw(){const t=new CustomEvent(jf);document.dispatchEvent(t)}function gx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MM(i,s):i.dispatchEvent(s)}var lh=0;function vx(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sw()),document.body.insertAdjacentElement("beforeend",t[1]??sw()),lh++,()=>{lh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lh--}},[])}function sw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ah="focusScope.autoFocusOnMount",uh="focusScope.autoFocusOnUnmount",ow={bubbles:!1,cancelable:!0},HM="FocusScope",sg=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=g.useState(null),c=er(i),h=er(s),f=g.useRef(null),p=Fe(e,w=>u(w)),_=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(E){if(_.paused||!l)return;const O=E.target;l.contains(O)?f.current=O:mr(f.current,{select:!0})},k=function(E){if(_.paused||!l)return;const O=E.relatedTarget;O!==null&&(l.contains(O)||mr(f.current,{select:!0}))},y=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&mr(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",k);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",k),v.disconnect()}}},[r,l,_.paused]),g.useEffect(()=>{if(l){aw.add(_);const w=document.activeElement;if(!l.contains(w)){const y=new CustomEvent(ah,ow);l.addEventListener(ah,c),l.dispatchEvent(y),y.defaultPrevented||(GM(XM(yx(l)),{select:!0}),document.activeElement===w&&mr(l))}return()=>{l.removeEventListener(ah,c),setTimeout(()=>{const y=new CustomEvent(uh,ow);l.addEventListener(uh,h),l.dispatchEvent(y),y.defaultPrevented||mr(w??document.body,{select:!0}),l.removeEventListener(uh,h),aw.remove(_)},0)}}},[l,c,h,_]);const C=g.useCallback(w=>{if(!n&&!r||_.paused)return;const k=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,y=document.activeElement;if(k&&y){const v=w.currentTarget,[E,O]=KM(v);E&&O?!w.shiftKey&&y===O?(w.preventDefault(),n&&mr(E,{select:!0})):w.shiftKey&&y===E&&(w.preventDefault(),n&&mr(O,{select:!0})):y===v&&w.preventDefault()}},[n,r,_.paused]);return N.jsx(Ie.div,{tabIndex:-1,...o,ref:p,onKeyDown:C})});sg.displayName=HM;function GM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mr(r,{select:e}),document.activeElement!==n)return}function KM(t){const e=yx(t),n=lw(e,t),r=lw(e.reverse(),t);return[n,r]}function yx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lw(t,e){for(const n of t)if(!qM(n,{upTo:e}))return n}function qM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YM(t){return t instanceof HTMLInputElement&&"select"in t}function mr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YM(t)&&e&&t.select()}}var aw=QM();function QM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uw(t,e),t.unshift(e)},remove(e){var n;t=uw(t,e),(n=t[0])==null||n.resume()}}}function uw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XM(t){return t.filter(e=>e.tagName!=="A")}var yt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},JM=zI.useId||(()=>{}),ZM=0;function _s(t){const[e,n]=g.useState(JM());return yt(()=>{n(r=>r??String(ZM++))},[t]),e?`radix-${e}`:""}const e4=["top","right","bottom","left"],$r=Math.min,Ot=Math.max,ec=Math.round,Na=Math.floor,xn=t=>({x:t,y:t}),t4={left:"right",right:"left",bottom:"top",top:"bottom"},n4={start:"end",end:"start"};function Uf(t,e,n){return Ot(t,$r(e,n))}function tr(t,e){return typeof t=="function"?t(e):t}function nr(t){return t.split("-")[0]}function Js(t){return t.split("-")[1]}function og(t){return t==="x"?"y":"x"}function lg(t){return t==="y"?"height":"width"}function Wr(t){return["top","bottom"].includes(nr(t))?"y":"x"}function ag(t){return og(Wr(t))}function r4(t,e,n){n===void 0&&(n=!1);const r=Js(t),i=ag(t),s=lg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=tc(o)),[o,tc(o)]}function i4(t){const e=tc(t);return[zf(t),e,zf(e)]}function zf(t){return t.replace(/start|end/g,e=>n4[e])}function s4(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function o4(t,e,n,r){const i=Js(t);let s=s4(nr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(zf)))),s}function tc(t){return t.replace(/left|right|bottom|top/g,e=>t4[e])}function l4(t){return{top:0,right:0,bottom:0,left:0,...t}}function _x(t){return typeof t!="number"?l4(t):{top:t,right:t,bottom:t,left:t}}function nc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function cw(t,e,n){let{reference:r,floating:i}=t;const s=Wr(e),o=ag(e),l=lg(o),u=nr(e),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let _;switch(u){case"top":_={x:h,y:r.y-i.height};break;case"bottom":_={x:h,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:f};break;case"left":_={x:r.x-i.width,y:f};break;default:_={x:r.x,y:r.y}}switch(Js(e)){case"start":_[o]-=p*(n&&c?-1:1);break;case"end":_[o]+=p*(n&&c?-1:1);break}return _}const a4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=cw(c,r,u),p=r,_={},C=0;for(let w=0;w<l.length;w++){const{name:k,fn:y}=l[w],{x:v,y:E,data:O,reset:L}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:_,rects:c,platform:o,elements:{reference:t,floating:e}});h=v??h,f=E??f,_={..._,[k]:{..._[k],...O}},L&&C<=50&&(C++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:h,y:f}=cw(c,p,u)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:_}};async function Rl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:_=0}=tr(e,t),C=_x(_),k=l[p?f==="floating"?"reference":"floating":f],y=nc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(k)))==null||n?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:u})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),O=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},L=nc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:E,strategy:u}):v);return{top:(y.top-L.top+C.top)/O.y,bottom:(L.bottom-y.bottom+C.bottom)/O.y,left:(y.left-L.left+C.left)/O.x,right:(L.right-y.right+C.right)/O.x}}const u4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:c,padding:h=0}=tr(t,e)||{};if(c==null)return{};const f=_x(h),p={x:n,y:r},_=ag(i),C=lg(_),w=await o.getDimensions(c),k=_==="y",y=k?"top":"left",v=k?"bottom":"right",E=k?"clientHeight":"clientWidth",O=s.reference[C]+s.reference[_]-p[_]-s.floating[C],L=p[_]-s.reference[_],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=F?F[E]:0;(!T||!await(o.isElement==null?void 0:o.isElement(F)))&&(T=l.floating[E]||s.floating[C]);const S=O/2-L/2,I=T/2-w[C]/2-1,R=$r(f[y],I),A=$r(f[v],I),b=R,P=T-w[C]-A,G=T/2-w[C]/2+S,ie=Uf(b,G,P),Y=!u.arrow&&Js(i)!=null&&G!==ie&&s.reference[C]/2-(G<b?R:A)-w[C]/2<0,X=Y?G<b?G-b:G-P:0;return{[_]:p[_]+X,data:{[_]:ie,centerOffset:G-ie-X,...Y&&{alignmentOffset:X}},reset:Y}}}),c4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...k}=tr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=nr(i),v=Wr(l),E=nr(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(c.floating)),L=p||(E||!w?[tc(l)]:i4(l)),F=C!=="none";!p&&F&&L.push(...o4(l,w,C,O));const T=[l,...L],S=await Rl(e,k),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[y]),f){const G=r4(i,o,O);I.push(S[G[0]],S[G[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(G=>G<=0)){var A,b;const G=(((A=s.flip)==null?void 0:A.index)||0)+1,ie=T[G];if(ie)return{data:{index:G,overflows:R},reset:{placement:ie}};let Y=(b=R.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:b.placement;if(!Y)switch(_){case"bestFit":{var P;const X=(P=R.filter(j=>{if(F){const $=Wr(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,V)=>$+V,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:P[0];X&&(Y=X);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function dw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hw(t){return e4.some(e=>t[e]>=0)}const d4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=tr(t,e);switch(r){case"referenceHidden":{const s=await Rl(e,{...i,elementContext:"reference"}),o=dw(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hw(o)}}}case"escaped":{const s=await Rl(e,{...i,altBoundary:!0}),o=dw(s,n.floating);return{data:{escapedOffsets:o,escaped:hw(o)}}}default:return{}}}}};async function h4(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=nr(n),l=Js(n),u=Wr(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,f=tr(e,t);let{mainAxis:p,crossAxis:_,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof C=="number"&&(_=l==="end"?C*-1:C),u?{x:_*h,y:p*c}:{x:p*c,y:_*h}}const f4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await h4(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},p4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:k=>{let{x:y,y:v}=k;return{x:y,y:v}}},...u}=tr(t,e),c={x:n,y:r},h=await Rl(e,u),f=Wr(nr(i)),p=og(f);let _=c[p],C=c[f];if(s){const k=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=_+h[k],E=_-h[y];_=Uf(v,_,E)}if(o){const k=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=C+h[k],E=C-h[y];C=Uf(v,C,E)}const w=l.fn({...e,[p]:_,[f]:C});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},m4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=tr(t,e),h={x:n,y:r},f=Wr(i),p=og(f);let _=h[p],C=h[f];const w=tr(l,e),k=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const E=p==="y"?"height":"width",O=s.reference[p]-s.floating[E]+k.mainAxis,L=s.reference[p]+s.reference[E]-k.mainAxis;_<O?_=O:_>L&&(_=L)}if(c){var y,v;const E=p==="y"?"width":"height",O=["top","left"].includes(nr(i)),L=s.reference[f]-s.floating[E]+(O&&((y=o.offset)==null?void 0:y[f])||0)+(O?0:k.crossAxis),F=s.reference[f]+s.reference[E]+(O?0:((v=o.offset)==null?void 0:v[f])||0)-(O?k.crossAxis:0);C<L?C=L:C>F&&(C=F)}return{[p]:_,[f]:C}}}},g4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...c}=tr(t,e),h=await Rl(e,c),f=nr(i),p=Js(i),_=Wr(i)==="y",{width:C,height:w}=s.floating;let k,y;f==="top"||f==="bottom"?(k=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,k=p==="end"?"top":"bottom");const v=w-h.top-h.bottom,E=C-h.left-h.right,O=$r(w-h[k],v),L=$r(C-h[y],E),F=!e.middlewareData.shift;let T=O,S=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),F&&!p){const R=Ot(h.left,0),A=Ot(h.right,0),b=Ot(h.top,0),P=Ot(h.bottom,0);_?S=C-2*(R!==0||A!==0?R+A:Ot(h.left,h.right)):T=w-2*(b!==0||P!==0?b+P:Ot(h.top,h.bottom))}await u({...e,availableWidth:S,availableHeight:T});const I=await o.getDimensions(l.floating);return C!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function zc(){return typeof window<"u"}function Zs(t){return wx(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pn(t){var e;return(e=(wx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wx(t){return zc()?t instanceof Node||t instanceof Mt(t).Node:!1}function dn(t){return zc()?t instanceof Element||t instanceof Mt(t).Element:!1}function In(t){return zc()?t instanceof HTMLElement||t instanceof Mt(t).HTMLElement:!1}function fw(t){return!zc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}function Kl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function v4(t){return["table","td","th"].includes(Zs(t))}function Bc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ug(t){const e=cg(),n=dn(t)?hn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y4(t){let e=Vr(t);for(;In(e)&&!Fs(e);){if(ug(e))return e;if(Bc(e))return null;e=Vr(e)}return null}function cg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fs(t){return["html","body","#document"].includes(Zs(t))}function hn(t){return Mt(t).getComputedStyle(t)}function $c(t){return dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vr(t){if(Zs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fw(t)&&t.host||Pn(t);return fw(e)?e.host:e}function Ex(t){const e=Vr(t);return Fs(e)?t.ownerDocument?t.ownerDocument.body:t.body:In(e)&&Kl(e)?e:Ex(e)}function Pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ex(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Mt(i);if(s){const l=Bf(o);return e.concat(o,o.visualViewport||[],Kl(i)?i:[],l&&n?Pl(l):[])}return e.concat(i,Pl(i,[],n))}function Bf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sx(t){const e=hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=In(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=ec(n)!==s||ec(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function dg(t){return dn(t)?t:t.contextElement}function ws(t){const e=dg(t);if(!In(e))return xn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Sx(e);let o=(s?ec(n.width):n.width)/r,l=(s?ec(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const _4=xn(0);function Cx(t){const e=Mt(t);return!cg()||!e.visualViewport?_4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=dg(t);let o=xn(1);e&&(r?dn(r)&&(o=ws(r)):o=ws(t));const l=w4(s,n,r)?Cx(s):xn(0);let u=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Mt(s),_=r&&dn(r)?Mt(r):r;let C=p,w=Bf(C);for(;w&&r&&_!==C;){const k=ws(w),y=w.getBoundingClientRect(),v=hn(w),E=y.left+(w.clientLeft+parseFloat(v.paddingLeft))*k.x,O=y.top+(w.clientTop+parseFloat(v.paddingTop))*k.y;u*=k.x,c*=k.y,h*=k.x,f*=k.y,u+=E,c+=O,C=Mt(w),w=Bf(C)}}return nc({width:h,height:f,x:u,y:c})}function hg(t,e){const n=$c(t).scrollLeft;return e?e.left+n:ki(Pn(t)).left+n}function xx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:hg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function E4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Pn(r),l=e?Bc(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},c=xn(1);const h=xn(0),f=In(r);if((f||!f&&!s)&&((Zs(r)!=="body"||Kl(o))&&(u=$c(r)),In(r))){const _=ki(r);c=ws(r),h.x=_.x+r.clientLeft,h.y=_.y+r.clientTop}const p=o&&!f&&!s?xx(o,u,!0):xn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function S4(t){return Array.from(t.getClientRects())}function C4(t){const e=Pn(t),n=$c(t),r=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ot(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hg(t);const l=-n.scrollTop;return hn(r).direction==="rtl"&&(o+=Ot(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function x4(t,e){const n=Mt(t),r=Pn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const c=cg();(!c||c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function T4(t,e){const n=ki(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=In(t)?ws(t):xn(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:l,x:u,y:c}}function pw(t,e,n){let r;if(e==="viewport")r=x4(t,n);else if(e==="document")r=C4(Pn(t));else if(dn(e))r=T4(e,n);else{const i=Cx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return nc(r)}function Tx(t,e){const n=Vr(t);return n===e||!dn(n)||Fs(n)?!1:hn(n).position==="fixed"||Tx(n,e)}function I4(t,e){const n=e.get(t);if(n)return n;let r=Pl(t,[],!1).filter(l=>dn(l)&&Zs(l)!=="body"),i=null;const s=hn(t).position==="fixed";let o=s?Vr(t):t;for(;dn(o)&&!Fs(o);){const l=hn(o),u=ug(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(o)&&!u&&Tx(t,o))?r=r.filter(h=>h!==o):i=l,o=Vr(o)}return e.set(t,r),r}function k4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Bc(e)?[]:I4(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,h)=>{const f=pw(e,h,i);return c.top=Ot(f.top,c.top),c.right=$r(f.right,c.right),c.bottom=$r(f.bottom,c.bottom),c.left=Ot(f.left,c.left),c},pw(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function R4(t){const{width:e,height:n}=Sx(t);return{width:e,height:n}}function P4(t,e,n){const r=In(e),i=Pn(e),s=n==="fixed",o=ki(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=xn(0);if(r||!r&&!s)if((Zs(e)!=="body"||Kl(i))&&(l=$c(e)),r){const p=ki(e,!0,s,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&(u.x=hg(i));const c=i&&!r&&!s?xx(i,l):xn(0),h=o.left+l.scrollLeft-u.x-c.x,f=o.top+l.scrollTop-u.y-c.y;return{x:h,y:f,width:o.width,height:o.height}}function ch(t){return hn(t).position==="static"}function mw(t,e){if(!In(t)||hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pn(t)===n&&(n=n.ownerDocument.body),n}function Ix(t,e){const n=Mt(t);if(Bc(t))return n;if(!In(t)){let i=Vr(t);for(;i&&!Fs(i);){if(dn(i)&&!ch(i))return i;i=Vr(i)}return n}let r=mw(t,e);for(;r&&v4(r)&&ch(r);)r=mw(r,e);return r&&Fs(r)&&ch(r)&&!ug(r)?n:r||y4(t)||n}const N4=async function(t){const e=this.getOffsetParent||Ix,n=this.getDimensions,r=await n(t.floating);return{reference:P4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A4(t){return hn(t).direction==="rtl"}const b4={convertOffsetParentRelativeRectToViewportRelativeRect:E4,getDocumentElement:Pn,getClippingRect:k4,getOffsetParent:Ix,getElementRects:N4,getClientRects:S4,getDimensions:R4,getScale:ws,isElement:dn,isRTL:A4};function kx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function O4(t,e){let n=null,r;const i=Pn(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:_}=c;if(l||e(),!p||!_)return;const C=Na(f),w=Na(i.clientWidth-(h+p)),k=Na(i.clientHeight-(f+_)),y=Na(h),E={rootMargin:-C+"px "+-w+"px "+-k+"px "+-y+"px",threshold:Ot(0,$r(1,u))||1};let O=!0;function L(F){const T=F[0].intersectionRatio;if(T!==u){if(!O)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!kx(c,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(L,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,E)}n.observe(t)}return o(!0),s}function D4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=dg(t),h=i||s?[...c?Pl(c):[],...Pl(e)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&l?O4(c,n):null;let p=-1,_=null;o&&(_=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&_&&(_.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=_)==null||E.observe(e)})),n()}),c&&!u&&_.observe(c),_.observe(e));let C,w=u?ki(t):null;u&&k();function k(){const y=ki(t);w&&!kx(w,y)&&n(),w=y,C=requestAnimationFrame(k)}return n(),()=>{var y;h.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(y=_)==null||y.disconnect(),_=null,u&&cancelAnimationFrame(C)}}const L4=f4,M4=p4,F4=c4,j4=g4,U4=d4,gw=u4,z4=m4,B4=(t,e,n)=>{const r=new Map,i={platform:b4,...n},s={...i.platform,_c:r};return a4(t,e,{...i,platform:s})};var tu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function rc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!rc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!rc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Rx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vw(t,e){const n=Rx(t);return Math.round(e*n)/n}function dh(t){const e=g.useRef(t);return tu(()=>{e.current=t}),e}function $4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,_]=g.useState(r);rc(p,r)||_(r);const[C,w]=g.useState(null),[k,y]=g.useState(null),v=g.useCallback(j=>{j!==F.current&&(F.current=j,w(j))},[]),E=g.useCallback(j=>{j!==T.current&&(T.current=j,y(j))},[]),O=s||C,L=o||k,F=g.useRef(null),T=g.useRef(null),S=g.useRef(h),I=u!=null,R=dh(u),A=dh(i),b=dh(c),P=g.useCallback(()=>{if(!F.current||!T.current)return;const j={placement:e,strategy:n,middleware:p};A.current&&(j.platform=A.current),B4(F.current,T.current,j).then($=>{const V={...$,isPositioned:b.current!==!1};G.current&&!rc(S.current,V)&&(S.current=V,Bs.flushSync(()=>{f(V)}))})},[p,e,n,A,b]);tu(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const G=g.useRef(!1);tu(()=>(G.current=!0,()=>{G.current=!1}),[]),tu(()=>{if(O&&(F.current=O),L&&(T.current=L),O&&L){if(R.current)return R.current(O,L,P);P()}},[O,L,P,R,I]);const ie=g.useMemo(()=>({reference:F,floating:T,setReference:v,setFloating:E}),[v,E]),Y=g.useMemo(()=>({reference:O,floating:L}),[O,L]),X=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!Y.floating)return j;const $=vw(Y.floating,h.x),V=vw(Y.floating,h.y);return l?{...j,transform:"translate("+$+"px, "+V+"px)",...Rx(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:V}},[n,l,Y.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:P,refs:ie,elements:Y,floatingStyles:X}),[h,P,ie,Y,X])}const W4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gw({element:r.current,padding:i}).fn(n):{}:r?gw({element:r,padding:i}).fn(n):{}}}},V4=(t,e)=>({...L4(t),options:[t,e]}),H4=(t,e)=>({...M4(t),options:[t,e]}),G4=(t,e)=>({...z4(t),options:[t,e]}),K4=(t,e)=>({...F4(t),options:[t,e]}),q4=(t,e)=>({...j4(t),options:[t,e]}),Y4=(t,e)=>({...U4(t),options:[t,e]}),Q4=(t,e)=>({...W4(t),options:[t,e]});var X4="Arrow",Px=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return N.jsx(Ie.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:N.jsx("polygon",{points:"0,0 30,0 15,10"})})});Px.displayName=X4;var J4=Px;function Z4(t){const[e,n]=g.useState(void 0);return yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fg="Popper",[Nx,Ax]=Uc(fg),[eF,bx]=Nx(fg),Ox=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return N.jsx(eF,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ox.displayName=fg;var Dx="PopperAnchor",Lx=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=bx(Dx,n),o=g.useRef(null),l=Fe(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:N.jsx(Ie.div,{...i,ref:l})});Lx.displayName=Dx;var pg="PopperContent",[tF,nF]=Nx(pg),Mx=g.forwardRef((t,e)=>{var H,ge,$e,ce,oe,ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:_="optimized",onPlaced:C,...w}=t,k=bx(pg,n),[y,v]=g.useState(null),E=Fe(e,Ye=>v(Ye)),[O,L]=g.useState(null),F=Z4(O),T=(F==null?void 0:F.width)??0,S=(F==null?void 0:F.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},A=Array.isArray(c)?c:[c],b=A.length>0,P={padding:R,boundary:A.filter(iF),altBoundary:b},{refs:G,floatingStyles:ie,placement:Y,isPositioned:X,middlewareData:j}=$4({strategy:"fixed",placement:I,whileElementsMounted:(...Ye)=>D4(...Ye,{animationFrame:_==="always"}),elements:{reference:k.anchor},middleware:[V4({mainAxis:i+S,alignmentAxis:o}),u&&H4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?G4():void 0,...P}),u&&K4({...P}),q4({...P,apply:({elements:Ye,rects:Et,availableWidth:Nn,availableHeight:or})=>{const{width:Jr,height:qc}=Et.reference,Zr=Ye.floating.style;Zr.setProperty("--radix-popper-available-width",`${Nn}px`),Zr.setProperty("--radix-popper-available-height",`${or}px`),Zr.setProperty("--radix-popper-anchor-width",`${Jr}px`),Zr.setProperty("--radix-popper-anchor-height",`${qc}px`)}}),O&&Q4({element:O,padding:l}),sF({arrowWidth:T,arrowHeight:S}),p&&Y4({strategy:"referenceHidden",...P})]}),[$,V]=Ux(Y),Q=er(C);yt(()=>{X&&(Q==null||Q())},[X,Q]);const se=(H=j.arrow)==null?void 0:H.x,me=(ge=j.arrow)==null?void 0:ge.y,Be=(($e=j.arrow)==null?void 0:$e.centerOffset)!==0,[rt,qe]=g.useState();return yt(()=>{y&&qe(window.getComputedStyle(y).zIndex)},[y]),N.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:X?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(ce=j.transformOrigin)==null?void 0:ce.x,(oe=j.transformOrigin)==null?void 0:oe.y].join(" "),...((ae=j.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:N.jsx(tF,{scope:n,placedSide:$,onArrowChange:L,arrowX:se,arrowY:me,shouldHideArrow:Be,children:N.jsx(Ie.div,{"data-side":$,"data-align":V,...w,ref:E,style:{...w.style,animation:X?void 0:"none"}})})})});Mx.displayName=pg;var Fx="PopperArrow",rF={top:"bottom",right:"left",bottom:"top",left:"right"},jx=g.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nF(Fx,r),o=rF[s.placedSide];return N.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:N.jsx(J4,{...i,ref:n,style:{...i.style,display:"block"}})})});jx.displayName=Fx;function iF(t){return t!==null}var sF=t=>({name:"transformOrigin",options:t,fn(e){var k,y,v;const{placement:n,rects:r,middlewareData:i}=e,o=((k=i.arrow)==null?void 0:k.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=Ux(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,_=(((v=i.arrow)==null?void 0:v.y)??0)+u/2;let C="",w="";return c==="bottom"?(C=o?f:`${p}px`,w=`${-u}px`):c==="top"?(C=o?f:`${p}px`,w=`${r.floating.height+u}px`):c==="right"?(C=`${-u}px`,w=o?f:`${_}px`):c==="left"&&(C=`${r.floating.width+u}px`,w=o?f:`${_}px`),{data:{x:C,y:w}}}});function Ux(t){const[e,n="center"]=t.split("-");return[e,n]}var oF=Ox,lF=Lx,aF=Mx,uF=jx,cF="Portal",mg=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=g.useState(!1);yt(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?X1.createPortal(N.jsx(Ie.div,{...r,ref:e}),o):null});mg.displayName=cF;function $f({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=dF({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=er(n),u=g.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&l(f)}else i(c)},[s,t,i,l]);return[o,u]}function dF({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=er(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function hF(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fF="VisuallyHidden",zx=g.forwardRef((t,e)=>N.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));zx.displayName=fF;var pF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$i=new WeakMap,Aa=new WeakMap,ba={},hh=0,Bx=function(t){return t&&(t.host||Bx(t.parentNode))},mF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Bx(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gF=function(t,e,n,r){var i=mF(e,Array.isArray(t)?t:[t]);ba[n]||(ba[n]=new WeakMap);var s=ba[n],o=[],l=new Set,u=new Set(i),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};i.forEach(c);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var _=p.getAttribute(r),C=_!==null&&_!=="false",w=($i.get(p)||0)+1,k=(s.get(p)||0)+1;$i.set(p,w),s.set(p,k),o.push(p),w===1&&C&&Aa.set(p,!0),k===1&&p.setAttribute(n,"true"),C||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return h(e),l.clear(),hh++,function(){o.forEach(function(f){var p=$i.get(f)-1,_=s.get(f)-1;$i.set(f,p),s.set(f,_),p||(Aa.has(f)||f.removeAttribute(r),Aa.delete(f)),_||f.removeAttribute(n)}),hh--,hh||($i=new WeakMap,$i=new WeakMap,Aa=new WeakMap,ba={})}},$x=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pF(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),gF(r,i,n,"aria-hidden")):function(){return null}},nu="right-scroll-bar-position",ru="width-before-scroll-bar",vF="with-scroll-bars-hidden",yF="--removed-body-scroll-bar-size";function fh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _F(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var wF=typeof window<"u"?g.useLayoutEffect:g.useEffect,yw=new WeakMap;function EF(t,e){var n=_F(null,function(r){return t.forEach(function(i){return fh(i,r)})});return wF(function(){var r=yw.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||fh(l,null)}),s.forEach(function(l){i.has(l)||fh(l,o)})}yw.set(n,t)},[t]),n}function SF(t){return t}function CF(t,e){e===void 0&&(e=SF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var u=function(){var h=o;o=[],h.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return i}function xF(t){t===void 0&&(t={});var e=CF(null);return e.options=_n({async:!0,ssr:!1},t),e}var Wx=function(t){var e=t.sideCar,n=jl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,_n({},n))};Wx.isSideCarExport=!0;function TF(t,e){return t.useMedium(e),Wx}var Vx=xF(),ph=function(){},Wc=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:ph,onWheelCapture:ph,onTouchMoveCapture:ph}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,_=t.noIsolation,C=t.inert,w=t.allowPinchZoom,k=t.as,y=k===void 0?"div":k,v=t.gapMode,E=jl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,L=EF([n,e]),F=_n(_n({},E),i);return g.createElement(g.Fragment,null,h&&g.createElement(O,{sideCar:Vx,removeScrollBar:c,shards:f,noIsolation:_,inert:C,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(l),_n(_n({},F),{ref:L})):g.createElement(y,_n({},F,{className:u,ref:L}),l))});Wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wc.classNames={fullWidth:ru,zeroRight:nu};var IF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IF();return e&&t.setAttribute("nonce",e),t}function RF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kF())&&(RF(e,n),PF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AF=function(){var t=NF();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Hx=function(){var t=AF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},bF={left:0,top:0,right:0,gap:0},mh=function(t){return parseInt(t||"",10)||0},OF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[mh(n),mh(r),mh(i)]},DF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bF;var e=OF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LF=Hx(),Es="data-scroll-locked",MF=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Es,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ru,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(nu," .").concat(nu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ru," .").concat(ru,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Es,`] {
    `).concat(yF,": ").concat(l,`px;
  }
`)},_w=function(){var t=parseInt(document.body.getAttribute(Es)||"0",10);return isFinite(t)?t:0},FF=function(){g.useEffect(function(){return document.body.setAttribute(Es,(_w()+1).toString()),function(){var t=_w()-1;t<=0?document.body.removeAttribute(Es):document.body.setAttribute(Es,t.toString())}},[])},jF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;FF();var s=g.useMemo(function(){return DF(i)},[i]);return g.createElement(LF,{styles:MF(s,!e,i,n?"":"!important")})},Wf=!1;if(typeof window<"u")try{var Oa=Object.defineProperty({},"passive",{get:function(){return Wf=!0,!0}});window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Wf=!1}var Wi=Wf?{passive:!1}:!1,UF=function(t){return t.tagName==="TEXTAREA"},Gx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!UF(t)&&n[e]==="visible")},zF=function(t){return Gx(t,"overflowY")},BF=function(t){return Gx(t,"overflowX")},ww=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Kx(t,r);if(i){var s=qx(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$F=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Kx=function(t,e){return t==="v"?zF(e):BF(e)},qx=function(t,e){return t==="v"?$F(e):WF(e)},VF=function(t,e){return t==="h"&&e==="rtl"?-1:1},HF=function(t,e,n,r,i){var s=VF(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,u=e.contains(l),c=!1,h=o>0,f=0,p=0;do{var _=qx(t,l),C=_[0],w=_[1],k=_[2],y=w-k-s*C;(C||y)&&Kx(t,l)&&(f+=y,p+=C),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(c=!0),c},Da=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ew=function(t){return[t.deltaX,t.deltaY]},Sw=function(t){return t&&"current"in t?t.current:t},GF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qF=0,Vi=[];function YF(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(qF++)[0],s=g.useState(Hx)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=dA([t.lockRef.current],(t.shards||[]).map(Sw),!0).filter(Boolean);return w.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(w,k){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var y=Da(w),v=n.current,E="deltaX"in w?w.deltaX:v[0]-y[0],O="deltaY"in w?w.deltaY:v[1]-y[1],L,F=w.target,T=Math.abs(E)>Math.abs(O)?"h":"v";if("touches"in w&&T==="h"&&F.type==="range")return!1;var S=ww(T,F);if(!S)return!0;if(S?L=T:(L=T==="v"?"h":"v",S=ww(T,F)),!S)return!1;if(!r.current&&"changedTouches"in w&&(E||O)&&(r.current=L),!L)return!0;var I=r.current||L;return HF(I,k,w,I==="h"?E:O)},[]),u=g.useCallback(function(w){var k=w;if(!(!Vi.length||Vi[Vi.length-1]!==s)){var y="deltaY"in k?Ew(k):Da(k),v=e.current.filter(function(L){return L.name===k.type&&(L.target===k.target||k.target===L.shadowParent)&&GF(L.delta,y)})[0];if(v&&v.should){k.cancelable&&k.preventDefault();return}if(!v){var E=(o.current.shards||[]).map(Sw).filter(Boolean).filter(function(L){return L.contains(k.target)}),O=E.length>0?l(k,E[0]):!o.current.noIsolation;O&&k.cancelable&&k.preventDefault()}}},[]),c=g.useCallback(function(w,k,y,v){var E={name:w,delta:k,target:y,should:v,shadowParent:QF(y)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(O){return O!==E})},1)},[]),h=g.useCallback(function(w){n.current=Da(w),r.current=void 0},[]),f=g.useCallback(function(w){c(w.type,Ew(w),w.target,l(w,t.lockRef.current))},[]),p=g.useCallback(function(w){c(w.type,Da(w),w.target,l(w,t.lockRef.current))},[]);g.useEffect(function(){return Vi.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Wi),document.addEventListener("touchmove",u,Wi),document.addEventListener("touchstart",h,Wi),function(){Vi=Vi.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,Wi),document.removeEventListener("touchmove",u,Wi),document.removeEventListener("touchstart",h,Wi)}},[]);var _=t.removeScrollBar,C=t.inert;return g.createElement(g.Fragment,null,C?g.createElement(s,{styles:KF(i)}):null,_?g.createElement(jF,{gapMode:t.gapMode}):null)}function QF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XF=TF(Vx,YF);var gg=g.forwardRef(function(t,e){return g.createElement(Wc,_n({},t,{ref:e,sideCar:XF}))});gg.classNames=Wc.classNames;var JF=[" ","Enter","ArrowUp","ArrowDown"],ZF=[" ","Enter"],ql="Select",[Vc,Hc,ej]=bM(ql),[eo,c9]=Uc(ql,[ej,Ax]),Gc=Ax(),[tj,Yr]=eo(ql),[nj,rj]=eo(ql),Yx=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:c,name:h,autoComplete:f,disabled:p,required:_,form:C}=t,w=Gc(e),[k,y]=g.useState(null),[v,E]=g.useState(null),[O,L]=g.useState(!1),F=DM(c),[T=!1,S]=$f({prop:r,defaultProp:i,onChange:s}),[I,R]=$f({prop:o,defaultProp:l,onChange:u}),A=g.useRef(null),b=k?C||!!k.closest("form"):!0,[P,G]=g.useState(new Set),ie=Array.from(P).map(Y=>Y.props.value).join(";");return N.jsx(oF,{...w,children:N.jsxs(tj,{required:_,scope:e,trigger:k,onTriggerChange:y,valueNode:v,onValueNodeChange:E,valueNodeHasChildren:O,onValueNodeHasChildrenChange:L,contentId:_s(),value:I,onValueChange:R,open:T,onOpenChange:S,dir:F,triggerPointerDownPosRef:A,disabled:p,children:[N.jsx(Vc.Provider,{scope:e,children:N.jsx(nj,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Y=>{G(X=>new Set(X).add(Y))},[]),onNativeOptionRemove:g.useCallback(Y=>{G(X=>{const j=new Set(X);return j.delete(Y),j})},[]),children:n})}),b?N.jsxs(yT,{"aria-hidden":!0,required:_,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:Y=>R(Y.target.value),disabled:p,form:C,children:[I===void 0?N.jsx("option",{value:""}):null,Array.from(P)]},ie):null]})})};Yx.displayName=ql;var Qx="SelectTrigger",Xx=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Gc(n),o=Yr(Qx,n),l=o.disabled||r,u=Fe(e,o.onTriggerChange),c=Hc(n),h=g.useRef("touch"),[f,p,_]=_T(w=>{const k=c().filter(E=>!E.disabled),y=k.find(E=>E.value===o.value),v=wT(k,w,y);v!==void 0&&o.onValueChange(v.value)}),C=w=>{l||(o.onOpenChange(!0),_()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return N.jsx(lF,{asChild:!0,...s,children:N.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vT(o.value)?"":void 0,...i,ref:u,onClick:xe(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&C(w)}),onPointerDown:xe(i.onPointerDown,w=>{h.current=w.pointerType;const k=w.target;k.hasPointerCapture(w.pointerId)&&k.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(C(w),w.preventDefault())}),onKeyDown:xe(i.onKeyDown,w=>{const k=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(k&&w.key===" ")&&JF.includes(w.key)&&(C(),w.preventDefault())})})})});Xx.displayName=Qx;var Jx="SelectValue",Zx=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,u=Yr(Jx,n),{onValueNodeHasChildrenChange:c}=u,h=s!==void 0,f=Fe(e,u.onValueNodeChange);return yt(()=>{c(h)},[c,h]),N.jsx(Ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:vT(u.value)?N.jsx(N.Fragment,{children:o}):s})});Zx.displayName=Jx;var ij="SelectIcon",eT=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return N.jsx(Ie.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});eT.displayName=ij;var sj="SelectPortal",tT=t=>N.jsx(mg,{asChild:!0,...t});tT.displayName=sj;var Ri="SelectContent",nT=g.forwardRef((t,e)=>{const n=Yr(Ri,t.__scopeSelect),[r,i]=g.useState();if(yt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Bs.createPortal(N.jsx(rT,{scope:t.__scopeSelect,children:N.jsx(Vc.Slot,{scope:t.__scopeSelect,children:N.jsx("div",{children:t.children})})}),s):null}return N.jsx(iT,{...t,ref:e})});nT.displayName=Ri;var Xt=10,[rT,Qr]=eo(Ri),oj="SelectContentImpl",iT=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:_,sticky:C,hideWhenDetached:w,avoidCollisions:k,...y}=t,v=Yr(Ri,n),[E,O]=g.useState(null),[L,F]=g.useState(null),T=Fe(e,H=>O(H)),[S,I]=g.useState(null),[R,A]=g.useState(null),b=Hc(n),[P,G]=g.useState(!1),ie=g.useRef(!1);g.useEffect(()=>{if(E)return $x(E)},[E]),vx();const Y=g.useCallback(H=>{const[ge,...$e]=b().map(ae=>ae.ref.current),[ce]=$e.slice(-1),oe=document.activeElement;for(const ae of H)if(ae===oe||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===ge&&L&&(L.scrollTop=0),ae===ce&&L&&(L.scrollTop=L.scrollHeight),ae==null||ae.focus(),document.activeElement!==oe))return},[b,L]),X=g.useCallback(()=>Y([S,E]),[Y,S,E]);g.useEffect(()=>{P&&X()},[P,X]);const{onOpenChange:j,triggerPointerDownPosRef:$}=v;g.useEffect(()=>{if(E){let H={x:0,y:0};const ge=ce=>{var oe,ae;H={x:Math.abs(Math.round(ce.pageX)-(((oe=$.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ae=$.current)==null?void 0:ae.y)??0))}},$e=ce=>{H.x<=10&&H.y<=10?ce.preventDefault():E.contains(ce.target)||j(!1),document.removeEventListener("pointermove",ge),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",$e,{capture:!0})}}},[E,j,$]),g.useEffect(()=>{const H=()=>j(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[j]);const[V,Q]=_T(H=>{const ge=b().filter(oe=>!oe.disabled),$e=ge.find(oe=>oe.ref.current===document.activeElement),ce=wT(ge,H,$e);ce&&setTimeout(()=>ce.ref.current.focus())}),se=g.useCallback((H,ge,$e)=>{const ce=!ie.current&&!$e;(v.value!==void 0&&v.value===ge||ce)&&(I(H),ce&&(ie.current=!0))},[v.value]),me=g.useCallback(()=>E==null?void 0:E.focus(),[E]),Be=g.useCallback((H,ge,$e)=>{const ce=!ie.current&&!$e;(v.value!==void 0&&v.value===ge||ce)&&A(H)},[v.value]),rt=r==="popper"?Vf:sT,qe=rt===Vf?{side:l,sideOffset:u,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:_,sticky:C,hideWhenDetached:w,avoidCollisions:k}:{};return N.jsx(rT,{scope:n,content:E,viewport:L,onViewportChange:F,itemRefCallback:se,selectedItem:S,onItemLeave:me,itemTextRefCallback:Be,focusSelectedItem:X,selectedItemText:R,position:r,isPositioned:P,searchRef:V,children:N.jsx(gg,{as:Ms,allowPinchZoom:!0,children:N.jsx(sg,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:xe(i,H=>{var ge;(ge=v.trigger)==null||ge.focus({preventScroll:!0}),H.preventDefault()}),children:N.jsx(ig,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:N.jsx(rt,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),...y,...qe,onPlaced:()=>G(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,H=>{const ge=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ge&&H.key.length===1&&Q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ce=b().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const oe=H.target,ae=ce.indexOf(oe);ce=ce.slice(ae+1)}setTimeout(()=>Y(ce)),H.preventDefault()}})})})})})})});iT.displayName=oj;var lj="SelectItemAlignedPosition",sT=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Yr(Ri,n),o=Qr(Ri,n),[l,u]=g.useState(null),[c,h]=g.useState(null),f=Fe(e,T=>h(T)),p=Hc(n),_=g.useRef(!1),C=g.useRef(!0),{viewport:w,selectedItem:k,selectedItemText:y,focusSelectedItem:v}=o,E=g.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&c&&w&&k&&y){const T=s.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(s.dir!=="rtl"){const oe=R.left-S.left,ae=I.left-oe,Ye=T.left-ae,Et=T.width+Ye,Nn=Math.max(Et,S.width),or=window.innerWidth-Xt,Jr=tw(ae,[Xt,Math.max(Xt,or-Nn)]);l.style.minWidth=Et+"px",l.style.left=Jr+"px"}else{const oe=S.right-R.right,ae=window.innerWidth-I.right-oe,Ye=window.innerWidth-T.right-ae,Et=T.width+Ye,Nn=Math.max(Et,S.width),or=window.innerWidth-Xt,Jr=tw(ae,[Xt,Math.max(Xt,or-Nn)]);l.style.minWidth=Et+"px",l.style.right=Jr+"px"}const A=p(),b=window.innerHeight-Xt*2,P=w.scrollHeight,G=window.getComputedStyle(c),ie=parseInt(G.borderTopWidth,10),Y=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),j=parseInt(G.paddingBottom,10),$=ie+Y+P+j+X,V=Math.min(k.offsetHeight*5,$),Q=window.getComputedStyle(w),se=parseInt(Q.paddingTop,10),me=parseInt(Q.paddingBottom,10),Be=T.top+T.height/2-Xt,rt=b-Be,qe=k.offsetHeight/2,H=k.offsetTop+qe,ge=ie+Y+H,$e=$-ge;if(ge<=Be){const oe=A.length>0&&k===A[A.length-1].ref.current;l.style.bottom="0px";const ae=c.clientHeight-w.offsetTop-w.offsetHeight,Ye=Math.max(rt,qe+(oe?me:0)+ae+X),Et=ge+Ye;l.style.height=Et+"px"}else{const oe=A.length>0&&k===A[0].ref.current;l.style.top="0px";const Ye=Math.max(Be,ie+w.offsetTop+(oe?se:0)+qe)+$e;l.style.height=Ye+"px",w.scrollTop=ge-Be+w.offsetTop}l.style.margin=`${Xt}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=b+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[p,s.trigger,s.valueNode,l,c,w,k,y,s.dir,r]);yt(()=>E(),[E]);const[O,L]=g.useState();yt(()=>{c&&L(window.getComputedStyle(c).zIndex)},[c]);const F=g.useCallback(T=>{T&&C.current===!0&&(E(),v==null||v(),C.current=!1)},[E,v]);return N.jsx(uj,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:_,onScrollButtonChange:F,children:N.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:N.jsx(Ie.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sT.displayName=lj;var aj="SelectPopperPosition",Vf=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Xt,...s}=t,o=Gc(n);return N.jsx(aF,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vf.displayName=aj;var[uj,vg]=eo(Ri,{}),Hf="SelectViewport",oT=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Qr(Hf,n),o=vg(Hf,n),l=Fe(e,s.onViewportChange),u=g.useRef(0);return N.jsxs(N.Fragment,{children:[N.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),N.jsx(Vc.Slot,{scope:n,children:N.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const _=Math.abs(u.current-h.scrollTop);if(_>0){const C=window.innerHeight-Xt*2,w=parseFloat(f.style.minHeight),k=parseFloat(f.style.height),y=Math.max(w,k);if(y<C){const v=y+_,E=Math.min(C,v),O=v-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=O>0?O:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});oT.displayName=Hf;var lT="SelectGroup",[cj,dj]=eo(lT),hj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_s();return N.jsx(cj,{scope:n,id:i,children:N.jsx(Ie.div,{role:"group","aria-labelledby":i,...r,ref:e})})});hj.displayName=lT;var aT="SelectLabel",uT=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dj(aT,n);return N.jsx(Ie.div,{id:i.id,...r,ref:e})});uT.displayName=aT;var ic="SelectItem",[fj,cT]=eo(ic),dT=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=Yr(ic,n),u=Qr(ic,n),c=l.value===r,[h,f]=g.useState(s??""),[p,_]=g.useState(!1),C=Fe(e,v=>{var E;return(E=u.itemRefCallback)==null?void 0:E.call(u,v,r,i)}),w=_s(),k=g.useRef("touch"),y=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return N.jsx(fj,{scope:n,value:r,disabled:i,textId:w,isSelected:c,onItemTextChange:g.useCallback(v=>{f(E=>E||((v==null?void 0:v.textContent)??"").trim())},[]),children:N.jsx(Vc.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:N.jsx(Ie.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:C,onFocus:xe(o.onFocus,()=>_(!0)),onBlur:xe(o.onBlur,()=>_(!1)),onClick:xe(o.onClick,()=>{k.current!=="mouse"&&y()}),onPointerUp:xe(o.onPointerUp,()=>{k.current==="mouse"&&y()}),onPointerDown:xe(o.onPointerDown,v=>{k.current=v.pointerType}),onPointerMove:xe(o.onPointerMove,v=>{var E;k.current=v.pointerType,i?(E=u.onItemLeave)==null||E.call(u):k.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,v=>{var E;v.currentTarget===document.activeElement&&((E=u.onItemLeave)==null||E.call(u))}),onKeyDown:xe(o.onKeyDown,v=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&v.key===" "||(ZF.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});dT.displayName=ic;var Mo="SelectItemText",hT=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Yr(Mo,n),l=Qr(Mo,n),u=cT(Mo,n),c=rj(Mo,n),[h,f]=g.useState(null),p=Fe(e,y=>f(y),u.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,u.value,u.disabled)}),_=h==null?void 0:h.textContent,C=g.useMemo(()=>N.jsx("option",{value:u.value,disabled:u.disabled,children:_},u.value),[u.disabled,u.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:k}=c;return yt(()=>(w(C),()=>k(C)),[w,k,C]),N.jsxs(N.Fragment,{children:[N.jsx(Ie.span,{id:u.textId,...s,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Bs.createPortal(s.children,o.valueNode):null]})});hT.displayName=Mo;var fT="SelectItemIndicator",pT=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return cT(fT,n).isSelected?N.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});pT.displayName=fT;var Gf="SelectScrollUpButton",pj=g.forwardRef((t,e)=>{const n=Qr(Gf,t.__scopeSelect),r=vg(Gf,t.__scopeSelect),[i,s]=g.useState(!1),o=Fe(e,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=u.scrollTop>0;s(c)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?N.jsx(mT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});pj.displayName=Gf;var Kf="SelectScrollDownButton",mj=g.forwardRef((t,e)=>{const n=Qr(Kf,t.__scopeSelect),r=vg(Kf,t.__scopeSelect),[i,s]=g.useState(!1),o=Fe(e,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<c;s(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?N.jsx(mT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});mj.displayName=Kf;var mT=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Qr("SelectScrollButton",n),o=g.useRef(null),l=Hc(n),u=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),yt(()=>{var h;const c=l().find(f=>f.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),N.jsx(Ie.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:xe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{u()})})}),gj="SelectSeparator",gT=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return N.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});gT.displayName=gj;var qf="SelectArrow",vj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gc(n),s=Yr(qf,n),o=Qr(qf,n);return s.open&&o.position==="popper"?N.jsx(uF,{...i,...r,ref:e}):null});vj.displayName=qf;function vT(t){return t===""||t===void 0}var yT=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=g.useRef(null),s=Fe(e,i),o=hF(n);return g.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),N.jsx(zx,{asChild:!0,children:N.jsx("select",{...r,ref:s,defaultValue:n})})});yT.displayName="BubbleSelect";function _T(t){const e=er(t),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(o=>{const l=n.current+o;e(l),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function wT(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=yj(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function yj(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _j=Yx,ET=Xx,wj=Zx,Ej=eT,Sj=tT,ST=nT,Cj=oT,CT=uT,xT=dT,xj=hT,Tj=pT,TT=gT;/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ij={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xr=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,...c},h)=>g.createElement("svg",{ref:h,...Ij,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kj(t)}`,l].join(" "),...c},[...e.map(([f,p])=>g.createElement(f,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Xr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Xr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Xr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Xr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Xr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Xr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Xr("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Xr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sc=_j,Cw=wj,Yf=g.forwardRef(({className:t,children:e,...n},r)=>N.jsxs(ET,{ref:r,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,N.jsx(Ej,{asChild:!0,children:N.jsx(Aj,{className:"h-4 w-4 opacity-50"})})]}));Yf.displayName=ET.displayName;const Qf=g.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>N.jsx(Sj,{children:N.jsx(ST,{ref:i,className:dt("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:N.jsx(Cj,{className:dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));Qf.displayName=ST.displayName;const Mj=g.forwardRef(({className:t,...e},n)=>N.jsx(CT,{ref:n,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Mj.displayName=CT.displayName;const Xf=g.forwardRef(({className:t,children:e,...n},r)=>N.jsxs(xT,{ref:r,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[N.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:N.jsx(Tj,{children:N.jsx(Nj,{className:"h-4 w-4"})})}),N.jsx(xj,{children:e})]}));Xf.displayName=xT.displayName;const Fj=g.forwardRef(({className:t,...e},n)=>N.jsx(TT,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));Fj.displayName=TT.displayName;function jj(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Kc=t=>{const{present:e,children:n}=t,r=Uj(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=Fe(r.ref,zj(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};Kc.displayName="Presence";function Uj(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[l,u]=jj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=La(r.current);s.current=l==="mounted"?c:"none"},[l]),yt(()=>{const c=r.current,h=i.current;if(h!==t){const p=s.current,_=La(c);t?u("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),yt(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=_=>{const w=La(r.current).includes(_.animationName);if(_.target===e&&w&&(u("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},p=_=>{_.target===e&&(s.current=La(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function La(t){return(t==null?void 0:t.animationName)||"none"}function zj(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yg="Dialog",[IT,d9]=Uc(yg),[Bj,mn]=IT(yg),kT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=g.useRef(null),u=g.useRef(null),[c=!1,h]=$f({prop:r,defaultProp:i,onChange:s});return N.jsx(Bj,{scope:e,triggerRef:l,contentRef:u,contentId:_s(),titleId:_s(),descriptionId:_s(),open:c,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};kT.displayName=yg;var RT="DialogTrigger",$j=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mn(RT,n),s=Fe(e,i.triggerRef);return N.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Eg(i.open),...r,ref:s,onClick:xe(t.onClick,i.onOpenToggle)})});$j.displayName=RT;var _g="DialogPortal",[Wj,PT]=IT(_g,{forceMount:void 0}),NT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=mn(_g,e);return N.jsx(Wj,{scope:e,forceMount:n,children:g.Children.map(r,o=>N.jsx(Kc,{present:n||s.open,children:N.jsx(mg,{asChild:!0,container:i,children:o})}))})};NT.displayName=_g;var oc="DialogOverlay",AT=g.forwardRef((t,e)=>{const n=PT(oc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=mn(oc,t.__scopeDialog);return s.modal?N.jsx(Kc,{present:r||s.open,children:N.jsx(Vj,{...i,ref:e})}):null});AT.displayName=oc;var Vj=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mn(oc,n);return N.jsx(gg,{as:Ms,allowPinchZoom:!0,shards:[i.contentRef],children:N.jsx(Ie.div,{"data-state":Eg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Pi="DialogContent",bT=g.forwardRef((t,e)=>{const n=PT(Pi,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=mn(Pi,t.__scopeDialog);return N.jsx(Kc,{present:r||s.open,children:s.modal?N.jsx(Hj,{...i,ref:e}):N.jsx(Gj,{...i,ref:e})})});bT.displayName=Pi;var Hj=g.forwardRef((t,e)=>{const n=mn(Pi,t.__scopeDialog),r=g.useRef(null),i=Fe(e,n.contentRef,r);return g.useEffect(()=>{const s=r.current;if(s)return $x(s)},[]),N.jsx(OT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,s=>s.preventDefault())})}),Gj=g.forwardRef((t,e)=>{const n=mn(Pi,t.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return N.jsx(OT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),OT=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=mn(Pi,n),u=g.useRef(null),c=Fe(e,u);return vx(),N.jsxs(N.Fragment,{children:[N.jsx(sg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:N.jsx(ig,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Eg(l.open),...o,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),N.jsxs(N.Fragment,{children:[N.jsx(Kj,{titleId:l.titleId}),N.jsx(Yj,{contentRef:u,descriptionId:l.descriptionId})]})]})}),wg="DialogTitle",DT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mn(wg,n);return N.jsx(Ie.h2,{id:i.titleId,...r,ref:e})});DT.displayName=wg;var LT="DialogDescription",MT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mn(LT,n);return N.jsx(Ie.p,{id:i.descriptionId,...r,ref:e})});MT.displayName=LT;var FT="DialogClose",jT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=mn(FT,n);return N.jsx(Ie.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>i.onOpenChange(!1))})});jT.displayName=FT;function Eg(t){return t?"open":"closed"}var UT="DialogTitleWarning",[h9,zT]=IM(UT,{contentName:Pi,titleName:wg,docsSlug:"dialog"}),Kj=({titleId:t})=>{const e=zT(UT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},qj="DialogDescriptionWarning",Yj=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zT(qj).contentName}}.`;return g.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Qj=kT,Xj=NT,BT=AT,$T=bT,WT=DT,VT=MT,Jj=jT;const Zj=Qj,e9=Xj,HT=g.forwardRef(({className:t,...e},n)=>N.jsx(BT,{ref:n,className:dt("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));HT.displayName=BT.displayName;const GT=g.forwardRef(({className:t,children:e,...n},r)=>N.jsxs(e9,{children:[N.jsx(HT,{}),N.jsxs($T,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,N.jsxs(Jj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[N.jsx(Lj,{className:"h-4 w-4"}),N.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GT.displayName=$T.displayName;const KT=({className:t,...e})=>N.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});KT.displayName="DialogHeader";const qT=g.forwardRef(({className:t,...e},n)=>N.jsx(WT,{ref:n,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));qT.displayName=WT.displayName;const t9=g.forwardRef(({className:t,...e},n)=>N.jsx(VT,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));t9.displayName=VT.displayName;const n9=[{id:"staff1",name:"John Smith",department:"Plumbing"},{id:"staff2",name:"Sarah Johnson",department:"Electrical"},{id:"staff3",name:"Mike Brown",department:"General Maintenance"}],r9=[{value:"new",label:"New"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}],i9=({ticket:t,isOpen:e,onClose:n})=>{const[r,i]=g.useState(t.assignedTo||""),[s,o]=g.useState(t.status||"new"),l=async()=>{try{const u=ix(sx,`tickets/${t.id}`);await bL(u,{assignedTo:r,status:s,lastUpdated:new Date().toISOString(),lastUpdatedBy:"current-user-id"}),n()}catch(u){console.error("Error updating ticket:",u)}};return N.jsx(Zj,{open:e,onOpenChange:n,children:N.jsxs(GT,{className:"sm:max-w-[425px]",children:[N.jsx(KT,{children:N.jsxs(qT,{children:["Update Ticket ",t.ticketId]})}),N.jsxs("div",{className:"grid gap-4 py-4",children:[N.jsxs("div",{className:"grid gap-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Assign To:"}),N.jsxs(sc,{value:r,onValueChange:i,children:[N.jsx(Yf,{children:N.jsx(Cw,{placeholder:"Select staff member"})}),N.jsx(Qf,{children:n9.map(u=>N.jsxs(Xf,{value:u.id,children:[u.name," - ",u.department]},u.id))})]})]}),N.jsxs("div",{className:"grid gap-2",children:[N.jsx("label",{className:"text-sm font-medium",children:"Status:"}),N.jsxs(sc,{value:s,onValueChange:o,children:[N.jsx(Yf,{children:N.jsx(Cw,{placeholder:"Select status"})}),N.jsx(Qf,{children:r9.map(u=>N.jsx(Xf,{value:u.value,children:u.label},u.value))})]})]})]}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx(Zu,{variant:"outline",onClick:n,children:"Cancel"}),N.jsx(Zu,{onClick:l,children:"Update Ticket"})]})]})})},s9=()=>{const[t,e]=g.useState([]),[n,r]=g.useState(!0),[i,s]=g.useState(null),[o,l]=g.useState("all"),[u,c]=g.useState("all");g.useEffect(()=>{const p=ix(sx,"tickets"),_=DL(p,C=>{if(C.exists()){const w=C.val(),k=Object.entries(w).map(([y,v])=>({id:y,...v})).sort((y,v)=>new Date(v.createdAt)-new Date(y.createdAt));e(k)}else e([]);r(!1)});return()=>_()},[]);const h={new:t.filter(p=>p.status==="new").length,inProgress:t.filter(p=>p.status==="in-progress").length,completed:t.filter(p=>p.status==="completed").length,high:t.filter(p=>p.priority==="high").length},f=t.filter(p=>!(o!=="all"&&p.assignedTo!==o||u!=="all"&&p.status!==u));return N.jsxs("div",{className:"container mx-auto p-6",children:[N.jsx("div",{className:"flex justify-between items-center mb-8",children:N.jsx("h1",{className:"text-3xl font-bold",children:"Maintenance Dashboard"})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[N.jsxs(Hi,{children:[N.jsx(Do,{className:"pb-2",children:N.jsx(Lo,{className:"text-sm font-medium",children:"New Tickets"})}),N.jsx(Gi,{children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(bj,{className:"w-4 h-4 text-blue-500 mr-2"}),N.jsx("span",{className:"text-2xl font-bold",children:h.new})]})})]}),N.jsxs(Hi,{children:[N.jsx(Do,{className:"pb-2",children:N.jsx(Lo,{className:"text-sm font-medium",children:"In Progress"})}),N.jsx(Gi,{children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(Dj,{className:"w-4 h-4 text-yellow-500 mr-2"}),N.jsx("span",{className:"text-2xl font-bold",children:h.inProgress})]})})]}),N.jsxs(Hi,{children:[N.jsx(Do,{className:"pb-2",children:N.jsx(Lo,{className:"text-sm font-medium",children:"Completed"})}),N.jsx(Gi,{children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(Pj,{className:"w-4 h-4 text-green-500 mr-2"}),N.jsx("span",{className:"text-2xl font-bold",children:h.completed})]})})]}),N.jsxs(Hi,{children:[N.jsx(Do,{className:"pb-2",children:N.jsx(Lo,{className:"text-sm font-medium",children:"High Priority"})}),N.jsx(Gi,{children:N.jsxs("div",{className:"flex items-center",children:[N.jsx(Rj,{className:"w-4 h-4 text-red-500 mr-2"}),N.jsx("span",{className:"text-2xl font-bold",children:h.high})]})})]})]}),N.jsxs("div",{className:"flex gap-4 mb-6",children:[N.jsxs(sc,{value:o,onValueChange:l,className:"w-[200px]",children:[N.jsx(SelectTrigger,{children:N.jsx(SelectValue,{placeholder:"Filter by staff"})}),N.jsxs(SelectContent,{children:[N.jsx(SelectItem,{value:"all",children:"All Staff"}),STAFF_MEMBERS.map(p=>N.jsx(SelectItem,{value:p.id,children:p.name},p.id))]})]}),N.jsxs(sc,{value:u,onValueChange:c,className:"w-[200px]",children:[N.jsx(SelectTrigger,{children:N.jsx(SelectValue,{placeholder:"Filter by status"})}),N.jsxs(SelectContent,{children:[N.jsx(SelectItem,{value:"all",children:"All Statuses"}),TICKET_STATUSES.map(p=>N.jsx(SelectItem,{value:p.value,children:p.label},p.value))]})]})]}),N.jsx("div",{className:"space-y-4",children:f.map(p=>{var _;return N.jsx(Hi,{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>s(p),children:N.jsx(Gi,{className:"p-6",children:N.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[N.jsx("div",{className:"flex items-center space-x-2",children:p.assignedTo&&N.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[N.jsx(Oj,{className:"w-4 h-4 mr-1"}),((_=STAFF_MEMBERS.find(C=>C.id===p.assignedTo))==null?void 0:_.name)||"Unassigned"]})}),N.jsx(Zu,{variant:"outline",size:"sm",onClick:C=>{C.stopPropagation(),s(p)},children:"Manage"})]})})},p.id)})}),i&&N.jsx(i9,{ticket:i,isOpen:!!i,onClose:()=>s(null)})]})};function o9(){const{signIn:t}=lx(),e=Qp(),n=async()=>{try{await t(),e("/")}catch(r){console.error("Login failed:",r)}};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"max-w-md w-full space-y-8",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"School Maintenance System"}),N.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in with your school account"})]}),N.jsx("div",{children:N.jsx("button",{onClick:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in with Google"})})]})})}function l9({children:t}){const{user:e,loading:n}=lx(),r=ir();return n?N.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?t:N.jsx(YR,{to:"/login",state:{from:r},replace:!0})}function a9(){return N.jsx(EP,{basename:"/school-maintenance",children:N.jsx(GL,{children:N.jsx("div",{className:"min-h-screen bg-gray-50",children:N.jsxs(XR,{children:[N.jsx(cf,{path:"/login",element:N.jsx(o9,{})}),N.jsx(cf,{path:"/",element:N.jsx(l9,{children:N.jsx(s9,{})})})]})})})})}FE(document.getElementById("root")).render(N.jsx(g.StrictMode,{children:N.jsx(a9,{})}));
